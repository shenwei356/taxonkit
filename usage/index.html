
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="TaxonKit - NCBI Taxonomy Toolkit">
      
      
        <meta name="author" content="shenwei356">
      
      
        <link rel="canonical" href="https://bioinf.shenwei.me/taxonkit/usage/">
      
      
        <link rel="prev" href="../download/">
      
      
        <link rel="next" href="../tutorial/">
      
      
      <link rel="icon" href="../files/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>Usage - TaxonKit - NCBI Taxonomy Toolkit</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="cyan" data-md-color-accent="blue-grey">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage-and-examples" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="TaxonKit - NCBI Taxonomy Toolkit" class="md-header__button md-logo" aria-label="TaxonKit - NCBI Taxonomy Toolkit" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TaxonKit - NCBI Taxonomy Toolkit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Usage
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/shenwei356/taxonkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="TaxonKit - NCBI Taxonomy Toolkit" class="md-nav__button md-logo" aria-label="TaxonKit - NCBI Taxonomy Toolkit" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    TaxonKit - NCBI Taxonomy Toolkit
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/shenwei356/taxonkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Download
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Usage
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-use" class="md-nav__link">
    Before use
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#taxonkit" class="md-nav__link">
    taxonkit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    list
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lineage" class="md-nav__link">
    lineage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reformat" class="md-nav__link">
    reformat
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reformat2" class="md-nav__link">
    reformat2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#name2taxid" class="md-nav__link">
    name2taxid
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter" class="md-nav__link">
    filter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lca" class="md-nav__link">
    lca
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#taxid-changelog" class="md-nav__link">
    taxid-changelog
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-taxdump" class="md-nav__link">
    create-taxdump
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#genautocomplete" class="md-nav__link">
    genautocomplete
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile2cami" class="md-nav__link">
    profile2cami
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cami-filter" class="md-nav__link">
    cami-filter
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../bench/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Benchmark
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../chinese/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    中文介绍
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../chinese-dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    开发笔记
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/shenwei356/taxid-changelog" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Taxid-Changelog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/shenwei356" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    More tools
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-use" class="md-nav__link">
    Before use
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#taxonkit" class="md-nav__link">
    taxonkit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    list
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lineage" class="md-nav__link">
    lineage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reformat" class="md-nav__link">
    reformat
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reformat2" class="md-nav__link">
    reformat2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#name2taxid" class="md-nav__link">
    name2taxid
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter" class="md-nav__link">
    filter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lca" class="md-nav__link">
    lca
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#taxid-changelog" class="md-nav__link">
    taxid-changelog
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-taxdump" class="md-nav__link">
    create-taxdump
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#genautocomplete" class="md-nav__link">
    genautocomplete
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile2cami" class="md-nav__link">
    profile2cami
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cami-filter" class="md-nav__link">
    cami-filter
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="usage-and-examples">Usage and Examples<a class="headerlink" href="#usage-and-examples" title="Permanent link">Link</a></h1>
<p>Table of Contents</p>
<!-- TOC -->
<ul>
<li><a href="#usage-and-examples">Usage and Examples</a></li>
<li><a href="#before-use">Before use</a></li>
<li><a href="#taxonkit">taxonkit</a></li>
<li><a href="#list">list</a></li>
<li><a href="#lineage">lineage</a></li>
<li><a href="#reformat">reformat</a></li>
<li><a href="#reformat2">reformat2</a></li>
<li><a href="#name2taxid">name2taxid</a></li>
<li><a href="#filter">filter</a></li>
<li><a href="#lca">lca</a></li>
<li><a href="#taxid-changelog">taxid-changelog</a></li>
<li><a href="#profile2cami">profile2cami</a></li>
<li><a href="#cami-filter">cami-filter</a></li>
<li><a href="#create-taxdump">create-taxdump</a></li>
<li><a href="#genautocomplete">genautocomplete</a></li>
</ul>
<!-- /TOC -->

<h2 id="before-use">Before use<a class="headerlink" href="#before-use" title="Permanent link">Link</a></h2>
<ol>
<li>Download and uncompress <code>taxdump.tar.gz</code>: ftp://ftp.ncbi.nih.gov/pub/taxonomy/taxdump.tar.gz </li>
<li>Copy <code>names.dmp</code>, <code>nodes.dmp</code>, <code>delnodes.dmp</code> and <code>merged.dmp</code> to data directory: <code>$HOME/.taxonkit</code>,
e.g., <code>/home/shenwei/.taxonkit</code> ,</li>
<li>Optionally copy to some other directories, and later you can refer to using flag <code>--data-dir</code>,
or environment variable <code>TAXONKIT_DB</code>.</li>
</ol>
<p>All-in-one command:</p>
<div class="codehilite"><pre><span></span><code>wget -c ftp://ftp.ncbi.nih.gov/pub/taxonomy/taxdump.tar.gz 
tar -zxvf taxdump.tar.gz

mkdir -p $HOME/.taxonkit
cp names.dmp nodes.dmp delnodes.dmp merged.dmp $HOME/.taxonkit
</code></pre></div>

<p><strong>Update dataset</strong>: Simply re-download the taxdump files, uncompress and override old ones.</p>
<h2 id="taxonkit">taxonkit<a class="headerlink" href="#taxonkit" title="Permanent link">Link</a></h2>
<div class="codehilite"><pre><span></span><code>TaxonKit - A Practical and Efficient NCBI Taxonomy Toolkit

Version: 0.19.0

Author: Wei Shen &lt;shenwei356@gmail.com&gt;

Source code: https://github.com/shenwei356/taxonkit
Documents  : https://bioinf.shenwei.me/taxonkit
Citation   : https://www.sciencedirect.com/science/article/pii/S1673852721000837

Dataset:

    Please download and uncompress &quot;taxdump.tar.gz&quot;:
    http://ftp.ncbi.nih.gov/pub/taxonomy/taxdump.tar.gz

    and copy &quot;names.dmp&quot;, &quot;nodes.dmp&quot;, &quot;delnodes.dmp&quot; and &quot;merged.dmp&quot; to data directory:
    &quot;/home/shenwei/.taxonkit&quot;

    or some other directory, and later you can refer to using flag --data-dir,
    or environment variable TAXONKIT_DB.

    When environment variable TAXONKIT_DB is set, explicitly setting --data-dir will
    overide the value of TAXONKIT_DB.

Usage:
  taxonkit [command]

Available Commands:
  cami-filter     Remove taxa of given TaxIds and their descendants in CAMI metagenomic profile
  create-taxdump  Create NCBI-style taxdump files for custom taxonomy, e.g., GTDB and ICTV
  filter          Filter TaxIds by taxonomic rank range
  genautocomplete generate shell autocompletion script (bash|zsh|fish|powershell)
  lca             Compute lowest common ancestor (LCA) for TaxIds
  lineage         Query taxonomic lineage of given TaxIds
  list            List taxonomic subtrees of given TaxIds
  name2taxid      Convert taxon names to TaxIds
  profile2cami    Convert metagenomic profile table to CAMI format
  reformat        Reformat lineage in canonical ranks
  reformat2       Reformat lineage in chosen ranks, allowing more ranks than &#39;reformat&#39;
  taxid-changelog Create TaxId changelog from dump archives
  version         print version information and check for update

Flags:
      --data-dir string   directory containing nodes.dmp and names.dmp (default &quot;/home/shenwei/.taxonkit&quot;)
  -h, --help              help for taxonkit
      --line-buffered     use line buffering on output, i.e., immediately writing to stdin/file for
                          every line of output
  -o, --out-file string   out file (&quot;-&quot; for stdout, suffix .gz for gzipped out) (default &quot;-&quot;)
  -j, --threads int       number of CPUs. 4 is enough (default 4)
      --verbose           print verbose information

Use &quot;taxonkit [command] --help&quot; for more information about a command.
</code></pre></div>

<h2 id="list">list<a class="headerlink" href="#list" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>List taxonomic subtrees of given TaxIds

Attention:
  1. When multiple taxids are given, the output may contain duplicated records
     if some taxids are descendants of others.

Examples:

    $ taxonkit list --ids 9606 -n -r --indent &quot;    &quot;
    9606 [species] Homo sapiens
        63221 [subspecies] Homo sapiens neanderthalensis
        741158 [subspecies] Homo sapiens subsp. &#39;Denisova&#39;

    $ taxonkit list --ids 9606 --indent &quot;&quot;
    9606
    63221
    741158

    # from stdin
    echo 9606 | taxonkit list

    # from file
    taxonkit list &lt;(echo 9606)

Usage:
  taxonkit list [flags]

Flags:
  -h, --help            help for list
  -i, --ids string      TaxId(s), multiple values should be separated by comma
  -I, --indent string   indent (default &quot;  &quot;)
  -J, --json            output in JSON format. you can save the result in file with suffix &quot;.json&quot; and
                        open with modern text editor
  -n, --show-name       output scientific name
  -r, --show-rank       output rank
</code></pre></div>

<p>Examples</p>
<ol>
<li>
<p>Default usage.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>taxonkit<span class="w"> </span>list<span class="w"> </span>--ids<span class="w"> </span><span class="m">9605</span>,239934
<span class="m">9605</span>
<span class="m">9606</span>
<span class="w">    </span><span class="m">63221</span>
<span class="w">    </span><span class="m">741158</span>
<span class="m">1425170</span>
<span class="m">2665952</span>
<span class="w">    </span><span class="m">2665953</span>

<span class="m">239934</span>
<span class="m">239935</span>
<span class="w">    </span><span class="m">349741</span>
<span class="m">512293</span>
<span class="w">    </span><span class="m">512294</span>
<span class="w">    </span><span class="m">1131822</span>
<span class="w">    </span><span class="m">1262691</span>
<span class="w">    </span><span class="m">1263034</span>
<span class="m">1679444</span>
<span class="m">2608915</span>
<span class="w">    </span><span class="m">1131336</span>
...
</code></pre></div>

</li>
<li>
<p>Removing indent. The list could be used to extract sequences from BLAST database with <code>blastdbcmd</code> (see <a href="http://bioinf.shenwei.me/taxonkit/tutorial/">tutorial</a>)</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>taxonkit<span class="w"> </span>list<span class="w"> </span>--ids<span class="w"> </span><span class="m">9605</span>,239934<span class="w"> </span>--indent<span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="m">9605</span>
<span class="m">9606</span>
<span class="m">63221</span>
<span class="m">741158</span>
<span class="m">1425170</span>
<span class="m">2665952</span>
<span class="m">2665953</span>

<span class="m">239934</span>
<span class="m">239935</span>
<span class="m">349741</span>
<span class="m">512293</span>
<span class="m">512294</span>
<span class="m">1131822</span>
<span class="m">1262691</span>
<span class="m">1263034</span>
<span class="m">1679444</span>
...
</code></pre></div>

<p><strong>Performance:</strong> Time and memory usage for whole taxon tree:</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">emptying</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">buffers</span><span class="w"> </span><span class="n">cache</span>
<span class="err">$</span><span class="w"> </span><span class="n">su</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="ss">&quot;free &amp;&amp; sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches &amp;&amp; free&quot;</span>

<span class="err">$</span><span class="w"> </span><span class="n">memusg</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">--</span><span class="n">indent</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"> </span><span class="o">--</span><span class="n">verbose</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">t0</span><span class="p">.</span><span class="n">txt</span>
<span class="mi">21</span><span class="err">:</span><span class="mi">05</span><span class="err">:</span><span class="mf">01.782</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="n">parsing</span><span class="w"> </span><span class="n">merged</span><span class="w"> </span><span class="k">file</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">shenwei</span><span class="o">/</span><span class="p">.</span><span class="n">taxonkit</span><span class="o">/</span><span class="k">names</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">21</span><span class="err">:</span><span class="mi">05</span><span class="err">:</span><span class="mf">01.782</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="n">parsing</span><span class="w"> </span><span class="k">names</span><span class="w"> </span><span class="k">file</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">shenwei</span><span class="o">/</span><span class="p">.</span><span class="n">taxonkit</span><span class="o">/</span><span class="k">names</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">21</span><span class="err">:</span><span class="mi">05</span><span class="err">:</span><span class="mf">01.782</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="n">parsing</span><span class="w"> </span><span class="n">delnodes</span><span class="w"> </span><span class="k">file</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">shenwei</span><span class="o">/</span><span class="p">.</span><span class="n">taxonkit</span><span class="o">/</span><span class="k">names</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">21</span><span class="err">:</span><span class="mi">05</span><span class="err">:</span><span class="mf">01.816</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">61023</span><span class="w"> </span><span class="n">merged</span><span class="w"> </span><span class="n">nodes</span><span class="w"> </span><span class="n">parsed</span>
<span class="mi">21</span><span class="err">:</span><span class="mi">05</span><span class="err">:</span><span class="mf">01.889</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">437929</span><span class="w"> </span><span class="n">delnodes</span><span class="w"> </span><span class="n">parsed</span>
<span class="mi">21</span><span class="err">:</span><span class="mi">05</span><span class="err">:</span><span class="mf">03.178</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">2303979</span><span class="w"> </span><span class="k">names</span><span class="w"> </span><span class="n">parsed</span>

<span class="n">elapsed</span><span class="w"> </span><span class="nc">time</span><span class="err">:</span><span class="w"> </span><span class="mf">3.290</span><span class="n">s</span>
<span class="n">peak</span><span class="w"> </span><span class="nl">rss</span><span class="p">:</span><span class="w"> </span><span class="mf">742.77</span><span class="w"> </span><span class="n">MB</span>
</code></pre></div>

</li>
<li>
<p>Adding names</p>
<div class="codehilite"><pre><span></span><code><span class="n">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">rank</span><span class="w"> </span><span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">name</span><span class="w"> </span><span class="o">--</span><span class="n">indent</span><span class="w"> </span><span class="s">&quot;    &quot;</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mi">9605</span><span class="p">,</span><span class="mi">239934</span>
<span class="mi">9605</span><span class="w"> </span><span class="p">[</span><span class="n">genus</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span>
<span class="w">    </span><span class="mi">9606</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span><span class="w"> </span><span class="n">sapiens</span>
<span class="w">        </span><span class="mi">63221</span><span class="w"> </span><span class="p">[</span><span class="n">subspecies</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span><span class="w"> </span><span class="n">sapiens</span><span class="w"> </span><span class="n">neanderthalensis</span>
<span class="w">        </span><span class="mi">741158</span><span class="w"> </span><span class="p">[</span><span class="n">subspecies</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span><span class="w"> </span><span class="n">sapiens</span><span class="w"> </span><span class="n">subsp</span><span class="p">.</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Denisova</span><span class="err">&#39;</span>
<span class="w">    </span><span class="mi">1425170</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span><span class="w"> </span><span class="n">heidelbergensis</span>
<span class="w">    </span><span class="mi">2665952</span><span class="w"> </span><span class="p">[</span><span class="n">no</span><span class="w"> </span><span class="n">rank</span><span class="p">]</span><span class="w"> </span><span class="n">environmental</span><span class="w"> </span><span class="n">samples</span>
<span class="w">        </span><span class="mi">2665953</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span><span class="w"> </span><span class="n">sapiens</span><span class="w"> </span><span class="n">environmental</span><span class="w"> </span><span class="n">sample</span>

<span class="mi">239934</span><span class="w"> </span><span class="p">[</span><span class="n">genus</span><span class="p">]</span><span class="w"> </span><span class="n">Akkermansia</span>
<span class="w">    </span><span class="mi">239935</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span>
<span class="w">        </span><span class="mi">349741</span><span class="w"> </span><span class="p">[</span><span class="n">strain</span><span class="p">]</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="mi">-835</span>
<span class="w">    </span><span class="mi">512293</span><span class="w"> </span><span class="p">[</span><span class="n">no</span><span class="w"> </span><span class="n">rank</span><span class="p">]</span><span class="w"> </span><span class="n">environmental</span><span class="w"> </span><span class="n">samples</span>
<span class="w">        </span><span class="mi">512294</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">uncultured</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span>
<span class="w">        </span><span class="mi">1131822</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">uncultured</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="n">SMG25</span>
<span class="w">        </span><span class="mi">1262691</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="n">CAG</span><span class="o">:</span><span class="mi">344</span>
<span class="w">        </span><span class="mi">1263034</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">CAG</span><span class="o">:</span><span class="mi">154</span>
<span class="w">    </span><span class="mi">1679444</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">glycaniphila</span>
<span class="w">    </span><span class="mi">2608915</span><span class="w"> </span><span class="p">[</span><span class="n">no</span><span class="w"> </span><span class="n">rank</span><span class="p">]</span><span class="w"> </span><span class="n">unclassified</span><span class="w"> </span><span class="n">Akkermansia</span>
<span class="w">        </span><span class="mi">1131336</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="n">KLE1605</span>
<span class="w">        </span><span class="mi">1574264</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="n">KLE1797</span>
<span class="p">...</span>
</code></pre></div>

<p><strong>Performance:</strong> Time and memory usage for whole taxonomy tree:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="c1"># emptying the buffers cache</span>
$<span class="w"> </span>su<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;free &amp;&amp; sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches &amp;&amp; free&quot;</span>

$<span class="w"> </span>memusg<span class="w"> </span>-t<span class="w"> </span>taxonkit<span class="w"> </span>list<span class="w"> </span>--show-rank<span class="w"> </span>--show-name<span class="w"> </span>--ids<span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>t1.txt
elapsed<span class="w"> </span>time:<span class="w"> </span><span class="m">5</span>.341s
peak<span class="w"> </span>rss:<span class="w"> </span><span class="m">1</span>.04<span class="w"> </span>GB
</code></pre></div>

</li>
<li>
<p>Output in JSON format, you can easily collapse and uncollapse taxonomy tree in modern text editor.</p>
<div class="codehilite"><pre><span></span><code><span class="n">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">rank</span><span class="w"> </span><span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">name</span><span class="w"> </span><span class="o">--</span><span class="n">indent</span><span class="w"> </span><span class="s">&quot;    &quot;</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mi">9605</span><span class="p">,</span><span class="mi">239934</span><span class="w"> </span><span class="o">--</span><span class="n">json</span>
<span class="p">{</span>
<span class="w">    </span><span class="s">&quot;9605 [genus] Homo&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s">&quot;9606 [species] Homo sapiens&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s">&quot;63221 [subspecies] Homo sapiens neanderthalensis&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="s">&quot;741158 [subspecies] Homo sapiens subsp. &#39;Denisova&#39;&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="s">&quot;1425170 [species] Homo heidelbergensis&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s">&quot;239934 [genus] Akkermansia&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s">&quot;239935 [species] Akkermansia muciniphila&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s">&quot;349741 [no rank] Akkermansia muciniphila ATCC BAA-835&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="s">&quot;512293 [no rank] environmental samples&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s">&quot;512294 [species] uncultured Akkermansia sp.&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="s">&quot;1131822 [species] uncultured Akkermansia sp. SMG25&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="s">&quot;1262691 [species] Akkermansia sp. CAG:344&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="s">&quot;1263034 [species] Akkermansia muciniphila CAG:154&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="s">&quot;1679444 [species] Akkermansia glycaniphila&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="s">&quot;2608915 [no rank] unclassified Akkermansia&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s">&quot;1131336 [species] Akkermansia sp. KLE1605&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="s">&quot;1574264 [species] Akkermansia sp. KLE1797&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="s">&quot;1574265 [species] Akkermansia sp. KLE1798&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="s">&quot;1638783 [species] Akkermansia sp. UNK.MGS-1&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="s">&quot;1755639 [species] Akkermansia sp. MC_55&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>Snapshot of taxonomy (taxid 1) in kate:
<img alt="taxon.json.png" src="../files/taxon.json.png" /></p>
</li>
</ol>
<h2 id="lineage">lineage<a class="headerlink" href="#lineage" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Query taxonomic lineage of given TaxIds

Input:

  - List of TaxIds, one TaxId per line.
  - Or tab-delimited format, please specify TaxId field 
    with flag -i/--taxid-field (default 1).
  - Supporting (gzipped) file or STDIN.

Output:

  1. Input line data.
  2. (Optional) Status code (-c/--show-status-code), values:
     - &quot;-1&quot; for queries not found in whole database.
     - &quot;0&quot; for deleted TaxIds, provided by &quot;delnodes.dmp&quot;.
     - New TaxIds for merged TaxIds, provided by &quot;merged.dmp&quot;.
     - Taxids for these found in &quot;nodes.dmp&quot;.
  3. Lineage, delimiter can be changed with flag -d/--delimiter.
  4. (Optional) TaxIds taxons in the lineage (-t/--show-lineage-taxids)
  5. (Optional) Name (-n/--show-name)
  6. (Optional) Rank (-r/--show-rank)

Filter out invalid and deleted taxids, and replace merged 
taxids with new ones:

    # input is one-column-taxid
    $ taxonkit lineage -c taxids.txt \
        | awk &#39;$2&gt;0&#39; \
        | cut -f 2-

    # taxids are in 3rd field in a 4-columns tab-delimited file,
    # for $5, where 5 = 4 + 1.
    $ cat input.txt \
        | taxonkit lineage -c -i 3 \
        | csvtk filter2 -H -t -f &#39;$5&gt;0&#39; \
        | csvtk -H -t cut -f -3

Usage:
  taxonkit lineage [flags]

Flags:
  -d, --delimiter string      field delimiter in lineage (default &quot;;&quot;)
  -h, --help                  help for lineage
  -L, --no-lineage            do not show lineage, when user just want names or/and ranks
  -R, --show-lineage-ranks    appending ranks of all levels
  -t, --show-lineage-taxids   appending lineage consisting of taxids
  -n, --show-name             appending scientific name
  -r, --show-rank             appending rank of taxids
  -c, --show-status-code      show status code before lineage
  -i, --taxid-field int       field index of taxid. input data should be tab-separated (default 1)
</code></pre></div>

<p>Examples</p>
<ol>
<li>
<p>Full lineage:</p>
<div class="codehilite"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="mi">123124124</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fake</span><span class="w"> </span><span class="n">taxid</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">deleted</span><span class="p">,</span><span class="w"> </span><span class="mi">92489</span><span class="p">,</span><span class="mi">1458427</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">merged</span>
<span class="err">$</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="n">taxids</span><span class="p">.</span><span class="n">txt</span><span class="w"> </span>
<span class="mi">9606</span>
<span class="mi">9913</span>
<span class="mi">376619</span>
<span class="mi">349741</span>
<span class="mi">239935</span>
<span class="mi">314101</span>
<span class="mi">11932</span>
<span class="mi">1327037</span>
<span class="mi">123124124</span>
<span class="mi">3</span>
<span class="mi">92489</span>
<span class="mi">1458427</span>

<span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="n">taxids</span><span class="p">.</span><span class="n">txt</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">tee</span><span class="w"> </span><span class="n">lineage</span><span class="p">.</span><span class="n">txt</span><span class="w"> </span>
<span class="mi">19</span><span class="err">:</span><span class="mi">22</span><span class="err">:</span><span class="mf">13.077</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="mi">92489</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">merged</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="mi">796334</span>
<span class="mi">19</span><span class="err">:</span><span class="mi">22</span><span class="err">:</span><span class="mf">13.077</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="mi">1458427</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">merged</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="mi">1458425</span>
<span class="mi">19</span><span class="err">:</span><span class="mi">22</span><span class="err">:</span><span class="mf">13.077</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="mi">123124124</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">found</span>
<span class="mi">19</span><span class="err">:</span><span class="mi">22</span><span class="err">:</span><span class="mf">13.077</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">deleted</span>
<span class="mi">9606</span><span class="w">    </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Opisthokonta</span><span class="p">;</span><span class="n">Metazoa</span><span class="p">;</span><span class="n">Eumetazoa</span><span class="p">;</span><span class="n">Bilateria</span><span class="p">;</span><span class="n">Deuterostomia</span><span class="p">;</span><span class="n">Chordata</span><span class="p">;</span><span class="n">Craniata</span><span class="p">;</span><span class="n">Vertebrata</span><span class="p">;</span><span class="n">Gnathostomata</span><span class="p">;</span><span class="n">Teleostomi</span><span class="p">;</span><span class="n">Euteleostomi</span><span class="p">;</span><span class="n">Sarcopterygii</span><span class="p">;</span><span class="n">Dipnotetrapodomorpha</span><span class="p">;</span><span class="n">Tetrapoda</span><span class="p">;</span><span class="n">Amniota</span><span class="p">;</span><span class="n">Mammalia</span><span class="p">;</span><span class="n">Theria</span><span class="p">;</span><span class="n">Eutheria</span><span class="p">;</span><span class="n">Boreoeutheria</span><span class="p">;</span><span class="n">Euarchontoglires</span><span class="p">;</span><span class="n">Primates</span><span class="p">;</span><span class="n">Haplorrhini</span><span class="p">;</span><span class="n">Simiiformes</span><span class="p">;</span><span class="n">Catarrhini</span><span class="p">;</span><span class="n">Hominoidea</span><span class="p">;</span><span class="n">Hominidae</span><span class="p">;</span><span class="n">Homininae</span><span class="p">;</span><span class="n">Homo</span><span class="p">;</span><span class="n">Homo</span><span class="w"> </span><span class="n">sapiens</span>
<span class="mi">9913</span><span class="w">    </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Opisthokonta</span><span class="p">;</span><span class="n">Metazoa</span><span class="p">;</span><span class="n">Eumetazoa</span><span class="p">;</span><span class="n">Bilateria</span><span class="p">;</span><span class="n">Deuterostomia</span><span class="p">;</span><span class="n">Chordata</span><span class="p">;</span><span class="n">Craniata</span><span class="p">;</span><span class="n">Vertebrata</span><span class="p">;</span><span class="n">Gnathostomata</span><span class="p">;</span><span class="n">Teleostomi</span><span class="p">;</span><span class="n">Euteleostomi</span><span class="p">;</span><span class="n">Sarcopterygii</span><span class="p">;</span><span class="n">Dipnotetrapodomorpha</span><span class="p">;</span><span class="n">Tetrapoda</span><span class="p">;</span><span class="n">Amniota</span><span class="p">;</span><span class="n">Mammalia</span><span class="p">;</span><span class="n">Theria</span><span class="p">;</span><span class="n">Eutheria</span><span class="p">;</span><span class="n">Boreoeutheria</span><span class="p">;</span><span class="n">Laurasiatheria</span><span class="p">;</span><span class="n">Artiodactyla</span><span class="p">;</span><span class="n">Ruminantia</span><span class="p">;</span><span class="n">Pecora</span><span class="p">;</span><span class="n">Bovidae</span><span class="p">;</span><span class="n">Bovinae</span><span class="p">;</span><span class="n">Bos</span><span class="p">;</span><span class="n">Bos</span><span class="w"> </span><span class="n">taurus</span>
<span class="mi">376619</span><span class="w">  </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Thiotrichales</span><span class="p">;</span><span class="n">Francisellaceae</span><span class="p">;</span><span class="n">Francisella</span><span class="p">;</span><span class="n">Francisella</span><span class="w"> </span><span class="n">tularensis</span><span class="p">;</span><span class="n">Francisella</span><span class="w"> </span><span class="n">tularensis</span><span class="w"> </span><span class="n">subsp</span><span class="p">.</span><span class="w"> </span><span class="n">holarctica</span><span class="p">;</span><span class="n">Francisella</span><span class="w"> </span><span class="n">tularensis</span><span class="w"> </span><span class="n">subsp</span><span class="p">.</span><span class="w"> </span><span class="n">holarctica</span><span class="w"> </span><span class="n">LVS</span>
<span class="mi">349741</span><span class="w">  </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">PVC</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Akkermansiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span>
<span class="mi">239935</span><span class="w">  </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">PVC</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Akkermansiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span>
<span class="mi">314101</span><span class="w">  </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">environmental</span><span class="w"> </span><span class="n">samples</span><span class="p">;</span><span class="n">uncultured</span><span class="w"> </span><span class="n">murine</span><span class="w"> </span><span class="k">large</span><span class="w"> </span><span class="n">bowel</span><span class="w"> </span><span class="n">bacterium</span><span class="w"> </span><span class="n">BAC</span><span class="w"> </span><span class="mi">54</span><span class="n">B</span>
<span class="mi">11932</span><span class="w">   </span><span class="n">Viruses</span><span class="p">;</span><span class="n">Riboviria</span><span class="p">;</span><span class="n">Pararnavirae</span><span class="p">;</span><span class="n">Artverviricota</span><span class="p">;</span><span class="n">Revtraviricetes</span><span class="p">;</span><span class="n">Ortervirales</span><span class="p">;</span><span class="n">Retroviridae</span><span class="p">;</span><span class="n">unclassified</span><span class="w"> </span><span class="n">Retroviridae</span><span class="p">;</span><span class="n">Intracisternal</span><span class="w"> </span><span class="n">A</span><span class="o">-</span><span class="n">particles</span><span class="p">;</span><span class="n">Mouse</span><span class="w"> </span><span class="n">Intracisternal</span><span class="w"> </span><span class="n">A</span><span class="o">-</span><span class="n">particle</span>
<span class="mi">1327037</span><span class="w"> </span><span class="n">Viruses</span><span class="p">;</span><span class="n">Duplodnaviria</span><span class="p">;</span><span class="n">Heunggongvirae</span><span class="p">;</span><span class="n">Uroviricota</span><span class="p">;</span><span class="n">Caudoviricetes</span><span class="p">;</span><span class="n">Caudovirales</span><span class="p">;</span><span class="n">Siphoviridae</span><span class="p">;</span><span class="n">unclassified</span><span class="w"> </span><span class="n">Siphoviridae</span><span class="p">;</span><span class="n">Croceibacter</span><span class="w"> </span><span class="n">phage</span><span class="w"> </span><span class="n">P2559Y</span>
<span class="mi">123124124</span>
<span class="mi">3</span>
<span class="mi">92489</span><span class="w">   </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Enterobacterales</span><span class="p">;</span><span class="n">Erwiniaceae</span><span class="p">;</span><span class="n">Erwinia</span><span class="p">;</span><span class="n">Erwinia</span><span class="w"> </span><span class="n">oleae</span>
<span class="mi">1458427</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Betaproteobacteria</span><span class="p">;</span><span class="n">Burkholderiales</span><span class="p">;</span><span class="n">Comamonadaceae</span><span class="p">;</span><span class="n">Serpentinomonas</span><span class="p">;</span><span class="n">Serpentinomonas</span><span class="w"> </span><span class="n">raicheisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Betaproteobacteria</span><span class="p">;</span><span class="n">Burkholderiales</span><span class="p">;</span><span class="n">Comamonadaceae</span><span class="p">;</span><span class="n">Serpentinomonas</span><span class="p">;</span><span class="n">Serpentinomonas</span><span class="w"> </span><span class="n">raichei</span>

<span class="err">#</span><span class="w"> </span><span class="n">wrapped</span><span class="w"> </span><span class="nc">table</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">pretty</span><span class="w"> </span><span class="p">(</span><span class="o">&gt;</span><span class="n">v0</span><span class="mf">.26.0</span><span class="p">)</span>
<span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="n">taxids</span><span class="p">.</span><span class="n">txt</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">pretty</span><span class="w"> </span><span class="o">-</span><span class="n">Ht</span><span class="w"> </span><span class="o">-</span><span class="n">x</span><span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="mi">70</span><span class="w"> </span><span class="o">-</span><span class="n">S</span><span class="w"> </span><span class="n">bold</span>
<span class="err">┏━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span class="err">┃</span><span class="w"> </span><span class="mi">9606</span><span class="w">    </span><span class="err">┃</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Opisthokonta</span><span class="p">;</span><span class="n">Metazoa</span><span class="p">;</span><span class="n">Eumetazoa</span><span class="p">;</span><span class="n">Bilateria</span><span class="p">;</span><span class="w"> </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Deuterostomia</span><span class="p">;</span><span class="n">Chordata</span><span class="p">;</span><span class="n">Craniata</span><span class="p">;</span><span class="n">Vertebrata</span><span class="p">;</span><span class="n">Gnathostomata</span><span class="p">;</span><span class="n">Teleostomi</span><span class="p">;</span><span class="w">   </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Euteleostomi</span><span class="p">;</span><span class="n">Sarcopterygii</span><span class="p">;</span><span class="n">Dipnotetrapodomorpha</span><span class="p">;</span><span class="n">Tetrapoda</span><span class="p">;</span><span class="n">Amniota</span><span class="p">;</span><span class="w">     </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Mammalia</span><span class="p">;</span><span class="n">Theria</span><span class="p">;</span><span class="n">Eutheria</span><span class="p">;</span><span class="n">Boreoeutheria</span><span class="p">;</span><span class="n">Euarchontoglires</span><span class="p">;</span><span class="n">Primates</span><span class="p">;</span><span class="w">      </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Haplorrhini</span><span class="p">;</span><span class="n">Simiiformes</span><span class="p">;</span><span class="n">Catarrhini</span><span class="p">;</span><span class="n">Hominoidea</span><span class="p">;</span><span class="n">Hominidae</span><span class="p">;</span><span class="n">Homininae</span><span class="p">;</span><span class="w">     </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Homo</span><span class="p">;</span><span class="n">Homo</span><span class="w"> </span><span class="n">sapiens</span><span class="w">                                                      </span><span class="err">┃</span>
<span class="err">┣━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫</span>
<span class="err">┃</span><span class="w"> </span><span class="mi">9913</span><span class="w">    </span><span class="err">┃</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Opisthokonta</span><span class="p">;</span><span class="n">Metazoa</span><span class="p">;</span><span class="n">Eumetazoa</span><span class="p">;</span><span class="n">Bilateria</span><span class="p">;</span><span class="w"> </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Deuterostomia</span><span class="p">;</span><span class="n">Chordata</span><span class="p">;</span><span class="n">Craniata</span><span class="p">;</span><span class="n">Vertebrata</span><span class="p">;</span><span class="n">Gnathostomata</span><span class="p">;</span><span class="n">Teleostomi</span><span class="p">;</span><span class="w">   </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Euteleostomi</span><span class="p">;</span><span class="n">Sarcopterygii</span><span class="p">;</span><span class="n">Dipnotetrapodomorpha</span><span class="p">;</span><span class="n">Tetrapoda</span><span class="p">;</span><span class="n">Amniota</span><span class="p">;</span><span class="w">     </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Mammalia</span><span class="p">;</span><span class="n">Theria</span><span class="p">;</span><span class="n">Eutheria</span><span class="p">;</span><span class="n">Boreoeutheria</span><span class="p">;</span><span class="n">Laurasiatheria</span><span class="p">;</span><span class="n">Artiodactyla</span><span class="p">;</span><span class="w">    </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Ruminantia</span><span class="p">;</span><span class="n">Pecora</span><span class="p">;</span><span class="n">Bovidae</span><span class="p">;</span><span class="n">Bovinae</span><span class="p">;</span><span class="n">Bos</span><span class="p">;</span><span class="n">Bos</span><span class="w"> </span><span class="n">taurus</span><span class="w">                       </span><span class="err">┃</span>
<span class="err">┣━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫</span>
<span class="err">┃</span><span class="w"> </span><span class="mi">376619</span><span class="w">  </span><span class="err">┃</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="w">        </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Thiotrichales</span><span class="p">;</span><span class="n">Francisellaceae</span><span class="p">;</span><span class="n">Francisella</span><span class="p">;</span><span class="n">Francisella</span><span class="w"> </span><span class="n">tularensis</span><span class="p">;</span><span class="w">      </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Francisella</span><span class="w"> </span><span class="n">tularensis</span><span class="w"> </span><span class="n">subsp</span><span class="p">.</span><span class="w"> </span><span class="n">holarctica</span><span class="p">;</span><span class="w">                              </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Francisella</span><span class="w"> </span><span class="n">tularensis</span><span class="w"> </span><span class="n">subsp</span><span class="p">.</span><span class="w"> </span><span class="n">holarctica</span><span class="w"> </span><span class="n">LVS</span><span class="w">                           </span><span class="err">┃</span>
<span class="err">┣━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫</span>
<span class="err">┃</span><span class="w"> </span><span class="mi">349741</span><span class="w">  </span><span class="err">┃</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">PVC</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="w">                 </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Akkermansiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="w">       </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span><span class="w">           </span><span class="err">┃</span>
<span class="err">┣━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫</span>
<span class="err">┃</span><span class="w"> </span><span class="mi">239935</span><span class="w">  </span><span class="err">┃</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">PVC</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="w">                 </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Akkermansiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="w">       </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w">                                                </span><span class="err">┃</span>
<span class="err">┣━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫</span>
<span class="err">┃</span><span class="w"> </span><span class="mi">314101</span><span class="w">  </span><span class="err">┃</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">environmental</span><span class="w"> </span><span class="n">samples</span><span class="p">;</span><span class="w">                     </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">uncultured</span><span class="w"> </span><span class="n">murine</span><span class="w"> </span><span class="k">large</span><span class="w"> </span><span class="n">bowel</span><span class="w"> </span><span class="n">bacterium</span><span class="w"> </span><span class="n">BAC</span><span class="w"> </span><span class="mi">54</span><span class="n">B</span><span class="w">                        </span><span class="err">┃</span>
<span class="err">┣━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫</span>
<span class="err">┃</span><span class="w"> </span><span class="mi">11932</span><span class="w">   </span><span class="err">┃</span><span class="w"> </span><span class="n">Viruses</span><span class="p">;</span><span class="n">Riboviria</span><span class="p">;</span><span class="n">Pararnavirae</span><span class="p">;</span><span class="n">Artverviricota</span><span class="p">;</span><span class="n">Revtraviricetes</span><span class="p">;</span><span class="w">         </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Ortervirales</span><span class="p">;</span><span class="n">Retroviridae</span><span class="p">;</span><span class="n">unclassified</span><span class="w"> </span><span class="n">Retroviridae</span><span class="p">;</span><span class="w">                   </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Intracisternal</span><span class="w"> </span><span class="n">A</span><span class="o">-</span><span class="n">particles</span><span class="p">;</span><span class="n">Mouse</span><span class="w"> </span><span class="n">Intracisternal</span><span class="w"> </span><span class="n">A</span><span class="o">-</span><span class="n">particle</span><span class="w">             </span><span class="err">┃</span>
<span class="err">┣━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫</span>
<span class="err">┃</span><span class="w"> </span><span class="mi">1327037</span><span class="w"> </span><span class="err">┃</span><span class="w"> </span><span class="n">Viruses</span><span class="p">;</span><span class="n">Duplodnaviria</span><span class="p">;</span><span class="n">Heunggongvirae</span><span class="p">;</span><span class="n">Uroviricota</span><span class="p">;</span><span class="n">Caudoviricetes</span><span class="p">;</span><span class="w">       </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Caudovirales</span><span class="p">;</span><span class="n">Siphoviridae</span><span class="p">;</span><span class="n">unclassified</span><span class="w"> </span><span class="n">Siphoviridae</span><span class="p">;</span><span class="w">                   </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Croceibacter</span><span class="w"> </span><span class="n">phage</span><span class="w"> </span><span class="n">P2559Y</span><span class="w">                                              </span><span class="err">┃</span>
<span class="err">┣━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫</span>
<span class="err">┃</span><span class="w"> </span><span class="mi">92489</span><span class="w">   </span><span class="err">┃</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="w">        </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Enterobacterales</span><span class="p">;</span><span class="n">Erwiniaceae</span><span class="p">;</span><span class="n">Erwinia</span><span class="p">;</span><span class="n">Erwinia</span><span class="w"> </span><span class="n">oleae</span><span class="w">                     </span><span class="err">┃</span>
<span class="err">┣━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫</span>
<span class="err">┃</span><span class="w"> </span><span class="mi">1458427</span><span class="w"> </span><span class="err">┃</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Betaproteobacteria</span><span class="p">;</span><span class="w">         </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Burkholderiales</span><span class="p">;</span><span class="n">Comamonadaceae</span><span class="p">;</span><span class="n">Serpentinomonas</span><span class="p">;</span><span class="w">                        </span><span class="err">┃</span>
<span class="err">┃</span><span class="w">         </span><span class="err">┃</span><span class="w"> </span><span class="n">Serpentinomonas</span><span class="w"> </span><span class="n">raichei</span><span class="w">                                                </span><span class="err">┃</span>
<span class="err">┗━━━━━━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛</span>
</code></pre></div>

</li>
<li>
<p>Speed.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">9606</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>
<span class="m">9606</span><span class="w">    </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Eukaryota<span class="p">;</span>Opisthokonta<span class="p">;</span>Metazoa<span class="p">;</span>Eumetazoa<span class="p">;</span>Bilateria<span class="p">;</span>Deuterostomia<span class="p">;</span>Chordata<span class="p">;</span>Craniata<span class="p">;</span>Vertebrata<span class="p">;</span>Gnathostomata<span class="p">;</span>Teleostomi<span class="p">;</span>Euteleostomi<span class="p">;</span>Sarcopterygii<span class="p">;</span>Dipnotetrapodomorpha<span class="p">;</span>Tetrapoda<span class="p">;</span>Amniota<span class="p">;</span>Mammalia<span class="p">;</span>Theria<span class="p">;</span>Eutheria<span class="p">;</span>Boreoeutheria<span class="p">;</span>Euarchontoglires<span class="p">;</span>Primates<span class="p">;</span>Haplorrhini<span class="p">;</span>Simiiformes<span class="p">;</span>Catarrhini<span class="p">;</span>Hominoidea<span class="p">;</span>Hominidae<span class="p">;</span>Homininae<span class="p">;</span>Homo<span class="p">;</span>Homo<span class="w"> </span>sapiens

real<span class="w">    </span>0m1.190s
user<span class="w">    </span>0m2.365s
sys<span class="w">     </span>0m0.170s

<span class="c1"># all TaxIds</span>
$<span class="w"> </span><span class="nb">time</span><span class="w"> </span>taxonkit<span class="w"> </span>list<span class="w"> </span>--ids<span class="w"> </span><span class="m">1</span><span class="w"> </span>--indent<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>&gt;<span class="w"> </span>t

real<span class="w">    </span>0m4.249s
user<span class="w">    </span>0m16.418s
sys<span class="w">     </span>0m1.221s
</code></pre></div>

</li>
<li>
<p>Checking deleted or merged taxids</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>--show-status-code<span class="w"> </span>taxids.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>lineage.withcode.txt

<span class="c1"># valid</span>
$<span class="w"> </span>cat<span class="w"> </span>lineage.withcode.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;$2 &gt; 0&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,2
<span class="m">9606</span><span class="w">    </span><span class="m">9606</span>
<span class="m">9913</span><span class="w">    </span><span class="m">9913</span>
<span class="m">376619</span><span class="w">  </span><span class="m">376619</span>
<span class="m">349741</span><span class="w">  </span><span class="m">349741</span>
<span class="m">239935</span><span class="w">  </span><span class="m">239935</span>
<span class="m">314101</span><span class="w">  </span><span class="m">314101</span>
<span class="m">11932</span><span class="w">   </span><span class="m">11932</span>
<span class="m">1327037</span><span class="w"> </span><span class="m">1327037</span>
<span class="m">92489</span><span class="w">   </span><span class="m">796334</span>
<span class="m">1458427</span><span class="w"> </span><span class="m">1458425</span>

<span class="c1"># merged</span>
$<span class="w"> </span>cat<span class="w"> </span>lineage.withcode.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;$2 &gt; 0 &amp;&amp; $2 != $1&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,2
<span class="m">92489</span><span class="w">   </span><span class="m">796334</span>
<span class="m">1458427</span><span class="w"> </span><span class="m">1458425</span>

<span class="c1"># deleted</span>
$<span class="w"> </span>cat<span class="w"> </span>lineage.withcode.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;$2 == 0&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>
<span class="m">3</span>

<span class="c1"># invalid</span>
$<span class="w"> </span>cat<span class="w"> </span>lineage.withcode.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;$2 &lt; 0&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>
<span class="m">123124124</span>
</code></pre></div>

</li>
<li>
<p><strong>Filter out invalid and deleted taxids, and replace merged taxids with new ones</strong>,
  you may install <a href="https://github.com/shenwei356/csvtk">csvtk</a>.</p>
<div class="codehilite"><pre><span></span><code>#<span class="w"> </span><span class="nv">input</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">one</span><span class="o">-</span><span class="nv">column</span><span class="o">-</span><span class="nv">taxid</span>
$<span class="w"> </span><span class="nv">taxonkit</span><span class="w"> </span><span class="nv">lineage</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span><span class="nv">taxids</span>.<span class="nv">txt</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">awk</span><span class="w"> </span><span class="s1">&#39;$2&gt;0&#39;</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">cut</span><span class="w"> </span><span class="o">-</span><span class="nv">f</span><span class="w"> </span><span class="mi">2</span><span class="o">-</span>

#<span class="w"> </span><span class="nv">taxids</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="mi">3</span><span class="nv">rd</span><span class="w"> </span><span class="nv">field</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="mi">4</span><span class="o">-</span><span class="nv">columns</span><span class="w"> </span><span class="nv">tab</span><span class="o">-</span><span class="nv">delimited</span><span class="w"> </span><span class="nv">file</span>,
#<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mh">$5</span>,<span class="w"> </span><span class="nv">where</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>.
$<span class="w"> </span><span class="nv">cat</span><span class="w"> </span><span class="nv">input</span>.<span class="nv">txt</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">taxonkit</span><span class="w"> </span><span class="nv">lineage</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span><span class="o">-</span><span class="nv">i</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">csvtk</span><span class="w"> </span><span class="nv">filter2</span><span class="w"> </span><span class="o">-</span><span class="nv">H</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span><span class="w"> </span><span class="o">-</span><span class="nv">f</span><span class="w"> </span><span class="s1">&#39;$5&gt;0&#39;</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">csvtk</span><span class="w"> </span><span class="o">-</span><span class="nv">H</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span><span class="w"> </span><span class="nv">cut</span><span class="w"> </span><span class="o">-</span><span class="nv">f</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span>
</code></pre></div>

</li>
<li>
<p>Only show name and rank.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-r<span class="w"> </span>-n<span class="w"> </span>-L<span class="w"> </span>taxids.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t
<span class="m">9606</span><span class="w">        </span>Homo<span class="w"> </span>sapiens<span class="w">                                      </span>species
<span class="m">9913</span><span class="w">        </span>Bos<span class="w"> </span>taurus<span class="w">                                        </span>species
<span class="m">376619</span><span class="w">      </span>Francisella<span class="w"> </span>tularensis<span class="w"> </span>subsp.<span class="w"> </span>holarctica<span class="w"> </span>LVS<span class="w">      </span>strain
<span class="m">349741</span><span class="w">      </span>Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835<span class="w">              </span>strain
<span class="m">239935</span><span class="w">      </span>Akkermansia<span class="w"> </span>muciniphila<span class="w">                           </span>species
<span class="m">314101</span><span class="w">      </span>uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B<span class="w">   </span>species
<span class="m">11932</span><span class="w">       </span>Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle<span class="w">                   </span>species
<span class="m">1327037</span><span class="w">     </span>Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y<span class="w">                         </span>species
<span class="m">123124124</span><span class="w">                                                     </span>
<span class="m">3</span><span class="w">                                                             </span>
<span class="m">92489</span><span class="w">       </span>Erwinia<span class="w"> </span>oleae<span class="w">                                     </span>species
<span class="m">1458427</span><span class="w">     </span>Serpentinomonas<span class="w"> </span>raichei<span class="w">                           </span>species
</code></pre></div>

</li>
<li>
<p>Show lineage consisting of taxids:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-t<span class="w"> </span>taxids.txt
<span class="m">9606</span><span class="w">    </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Eukaryota<span class="p">;</span>Opisthokonta<span class="p">;</span>Metazoa<span class="p">;</span>Eumetazoa<span class="p">;</span>Bilateria<span class="p">;</span>Deuterostomia<span class="p">;</span>Chordata<span class="p">;</span>Craniata<span class="p">;</span>Vertebrata<span class="p">;</span>Gnathostomata<span class="p">;</span>Teleostomi<span class="p">;</span>Euteleostomi<span class="p">;</span>Sarcopterygii<span class="p">;</span>Dipnotetrapodomorpha<span class="p">;</span>Tetrapoda<span class="p">;</span>Amniota<span class="p">;</span>Mammalia<span class="p">;</span>Theria<span class="p">;</span>Eutheria<span class="p">;</span>Boreoeutheria<span class="p">;</span>Euarchontoglires<span class="p">;</span>Primates<span class="p">;</span>Haplorrhini<span class="p">;</span>Simiiformes<span class="p">;</span>Catarrhini<span class="p">;</span>Hominoidea<span class="p">;</span>Hominidae<span class="p">;</span>Homininae<span class="p">;</span>Homo<span class="p">;</span>Homo<span class="w"> </span>sapiens<span class="w">  </span><span class="m">131567</span><span class="p">;</span><span class="m">2759</span><span class="p">;</span><span class="m">33154</span><span class="p">;</span><span class="m">33208</span><span class="p">;</span><span class="m">6072</span><span class="p">;</span><span class="m">33213</span><span class="p">;</span><span class="m">33511</span><span class="p">;</span><span class="m">7711</span><span class="p">;</span><span class="m">89593</span><span class="p">;</span><span class="m">7742</span><span class="p">;</span><span class="m">7776</span><span class="p">;</span><span class="m">117570</span><span class="p">;</span><span class="m">117571</span><span class="p">;</span><span class="m">8287</span><span class="p">;</span><span class="m">1338369</span><span class="p">;</span><span class="m">32523</span><span class="p">;</span><span class="m">32524</span><span class="p">;</span><span class="m">40674</span><span class="p">;</span><span class="m">32525</span><span class="p">;</span><span class="m">9347</span><span class="p">;</span><span class="m">1437010</span><span class="p">;</span><span class="m">314146</span><span class="p">;</span><span class="m">9443</span><span class="p">;</span><span class="m">376913</span><span class="p">;</span><span class="m">314293</span><span class="p">;</span><span class="m">9526</span><span class="p">;</span><span class="m">314295</span><span class="p">;</span><span class="m">9604</span><span class="p">;</span><span class="m">207598</span><span class="p">;</span><span class="m">9605</span><span class="p">;</span><span class="m">9606</span>
<span class="m">9913</span><span class="w">    </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Eukaryota<span class="p">;</span>Opisthokonta<span class="p">;</span>Metazoa<span class="p">;</span>Eumetazoa<span class="p">;</span>Bilateria<span class="p">;</span>Deuterostomia<span class="p">;</span>Chordata<span class="p">;</span>Craniata<span class="p">;</span>Vertebrata<span class="p">;</span>Gnathostomata<span class="p">;</span>Teleostomi<span class="p">;</span>Euteleostomi<span class="p">;</span>Sarcopterygii<span class="p">;</span>Dipnotetrapodomorpha<span class="p">;</span>Tetrapoda<span class="p">;</span>Amniota<span class="p">;</span>Mammalia<span class="p">;</span>Theria<span class="p">;</span>Eutheria<span class="p">;</span>Boreoeutheria<span class="p">;</span>Laurasiatheria<span class="p">;</span>Artiodactyla<span class="p">;</span>Ruminantia<span class="p">;</span>Pecora<span class="p">;</span>Bovidae<span class="p">;</span>Bovinae<span class="p">;</span>Bos<span class="p">;</span>Bos<span class="w"> </span>taurus<span class="w">   </span><span class="m">131567</span><span class="p">;</span><span class="m">2759</span><span class="p">;</span><span class="m">33154</span><span class="p">;</span><span class="m">33208</span><span class="p">;</span><span class="m">6072</span><span class="p">;</span><span class="m">33213</span><span class="p">;</span><span class="m">33511</span><span class="p">;</span><span class="m">7711</span><span class="p">;</span><span class="m">89593</span><span class="p">;</span><span class="m">7742</span><span class="p">;</span><span class="m">7776</span><span class="p">;</span><span class="m">117570</span><span class="p">;</span><span class="m">117571</span><span class="p">;</span><span class="m">8287</span><span class="p">;</span><span class="m">1338369</span><span class="p">;</span><span class="m">32523</span><span class="p">;</span><span class="m">32524</span><span class="p">;</span><span class="m">40674</span><span class="p">;</span><span class="m">32525</span><span class="p">;</span><span class="m">9347</span><span class="p">;</span><span class="m">1437010</span><span class="p">;</span><span class="m">314145</span><span class="p">;</span><span class="m">91561</span><span class="p">;</span><span class="m">9845</span><span class="p">;</span><span class="m">35500</span><span class="p">;</span><span class="m">9895</span><span class="p">;</span><span class="m">27592</span><span class="p">;</span><span class="m">9903</span><span class="p">;</span><span class="m">9913</span>
<span class="m">376619</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Thiotrichales<span class="p">;</span>Francisellaceae<span class="p">;</span>Francisella<span class="p">;</span>Francisella<span class="w"> </span>tularensis<span class="p">;</span>Francisella<span class="w"> </span>tularensis<span class="w"> </span>subsp.<span class="w"> </span>holarctica<span class="p">;</span>Francisella<span class="w"> </span>tularensis<span class="w"> </span>subsp.<span class="w"> </span>holarctica<span class="w"> </span>LVS<span class="w">     </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">72273</span><span class="p">;</span><span class="m">34064</span><span class="p">;</span><span class="m">262</span><span class="p">;</span><span class="m">263</span><span class="p">;</span><span class="m">119857</span><span class="p">;</span><span class="m">376619</span>
<span class="m">349741</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835<span class="w">      </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1783257</span><span class="p">;</span><span class="m">74201</span><span class="p">;</span><span class="m">203494</span><span class="p">;</span><span class="m">48461</span><span class="p">;</span><span class="m">1647988</span><span class="p">;</span><span class="m">239934</span><span class="p">;</span><span class="m">239935</span><span class="p">;</span><span class="m">349741</span>
<span class="m">239935</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila<span class="w">   </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1783257</span><span class="p">;</span><span class="m">74201</span><span class="p">;</span><span class="m">203494</span><span class="p">;</span><span class="m">48461</span><span class="p">;</span><span class="m">1647988</span><span class="p">;</span><span class="m">239934</span><span class="p">;</span><span class="m">239935</span>
<span class="m">314101</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>environmental<span class="w"> </span>samples<span class="p">;</span>uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B<span class="w">       </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">48479</span><span class="p">;</span><span class="m">314101</span>
<span class="m">11932</span><span class="w">   </span>Viruses<span class="p">;</span>Riboviria<span class="p">;</span>Pararnavirae<span class="p">;</span>Artverviricota<span class="p">;</span>Revtraviricetes<span class="p">;</span>Ortervirales<span class="p">;</span>Retroviridae<span class="p">;</span>unclassified<span class="w"> </span>Retroviridae<span class="p">;</span>Intracisternal<span class="w"> </span>A-particles<span class="p">;</span>Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle<span class="w">    </span><span class="m">10239</span><span class="p">;</span><span class="m">2559587</span><span class="p">;</span><span class="m">2732397</span><span class="p">;</span><span class="m">2732409</span><span class="p">;</span><span class="m">2732514</span><span class="p">;</span><span class="m">2169561</span><span class="p">;</span><span class="m">11632</span><span class="p">;</span><span class="m">35276</span><span class="p">;</span><span class="m">11749</span><span class="p">;</span><span class="m">11932</span>
<span class="m">1327037</span><span class="w"> </span>Viruses<span class="p">;</span>Duplodnaviria<span class="p">;</span>Heunggongvirae<span class="p">;</span>Uroviricota<span class="p">;</span>Caudoviricetes<span class="p">;</span>Caudovirales<span class="p">;</span>Siphoviridae<span class="p">;</span>unclassified<span class="w"> </span>Siphoviridae<span class="p">;</span>Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y<span class="w">   </span><span class="m">10239</span><span class="p">;</span><span class="m">2731341</span><span class="p">;</span><span class="m">2731360</span><span class="p">;</span><span class="m">2731618</span><span class="p">;</span><span class="m">2731619</span><span class="p">;</span><span class="m">28883</span><span class="p">;</span><span class="m">10699</span><span class="p">;</span><span class="m">196894</span><span class="p">;</span><span class="m">1327037</span>
<span class="m">123124124</span>
<span class="m">3</span>
<span class="m">92489</span><span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Erwiniaceae<span class="p">;</span>Erwinia<span class="p">;</span>Erwinia<span class="w"> </span>oleae<span class="w">       </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">1903409</span><span class="p">;</span><span class="m">551</span><span class="p">;</span><span class="m">796334</span>
<span class="m">1458427</span><span class="w"> </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Betaproteobacteria<span class="p">;</span>Burkholderiales<span class="p">;</span>Comamonadaceae<span class="p">;</span>Serpentinomonas<span class="p">;</span>Serpentinomonas<span class="w"> </span>raichei<span class="w">    </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">28216</span><span class="p">;</span><span class="m">80840</span><span class="p">;</span><span class="m">80864</span><span class="p">;</span><span class="m">2490452</span><span class="p">;</span><span class="m">1458425</span>
</code></pre></div>

<p>or read taxids from STDIN:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>taxids.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage
</code></pre></div>

</li>
<li>
<p>And ranks of all nodes:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">2697049</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-t<span class="w"> </span>-R<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>transpose<span class="w"> </span>-Ht
<span class="m">2697049</span>
Viruses<span class="p">;</span>Riboviria<span class="p">;</span>Orthornavirae<span class="p">;</span>Pisuviricota<span class="p">;</span>Pisoniviricetes<span class="p">;</span>Nidovirales<span class="p">;</span>Cornidovirineae<span class="p">;</span>Coronaviridae<span class="p">;</span>Orthocoronavirinae<span class="p">;</span>Betacoronavirus<span class="p">;</span>Sarbecovirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome-related<span class="w"> </span>coronavirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span>
<span class="m">10239</span><span class="p">;</span><span class="m">2559587</span><span class="p">;</span><span class="m">2732396</span><span class="p">;</span><span class="m">2732408</span><span class="p">;</span><span class="m">2732506</span><span class="p">;</span><span class="m">76804</span><span class="p">;</span><span class="m">2499399</span><span class="p">;</span><span class="m">11118</span><span class="p">;</span><span class="m">2501931</span><span class="p">;</span><span class="m">694002</span><span class="p">;</span><span class="m">2509511</span><span class="p">;</span><span class="m">694009</span><span class="p">;</span><span class="m">2697049</span>
superkingdom<span class="p">;</span>clade<span class="p">;</span>kingdom<span class="p">;</span>phylum<span class="p">;</span>class<span class="p">;</span>order<span class="p">;</span>suborder<span class="p">;</span>family<span class="p">;</span>subfamily<span class="p">;</span>genus<span class="p">;</span>subgenus<span class="p">;</span>species<span class="p">;</span>no<span class="w"> </span>rank
</code></pre></div>

<p>Another way to show lineage detail of a TaxId</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">2697049</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-t<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>cut<span class="w"> </span>-Ht<span class="w"> </span>-f<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>unfold<span class="w"> </span>-Ht<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span><span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-r<span class="w"> </span>-n<span class="w"> </span>-L<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>cut<span class="w"> </span>-Ht<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3,2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>
<span class="m">10239</span><span class="w">     </span>superkingdom<span class="w">   </span>Viruses
<span class="m">2559587</span><span class="w">   </span>clade<span class="w">          </span>Riboviria
<span class="m">2732396</span><span class="w">   </span>kingdom<span class="w">        </span>Orthornavirae
<span class="m">2732408</span><span class="w">   </span>phylum<span class="w">         </span>Pisuviricota
<span class="m">2732506</span><span class="w">   </span>class<span class="w">          </span>Pisoniviricetes
<span class="m">76804</span><span class="w">     </span>order<span class="w">          </span>Nidovirales
<span class="m">2499399</span><span class="w">   </span>suborder<span class="w">       </span>Cornidovirineae
<span class="m">11118</span><span class="w">     </span>family<span class="w">         </span>Coronaviridae
<span class="m">2501931</span><span class="w">   </span>subfamily<span class="w">      </span>Orthocoronavirinae
<span class="m">694002</span><span class="w">    </span>genus<span class="w">          </span>Betacoronavirus
<span class="m">2509511</span><span class="w">   </span>subgenus<span class="w">       </span>Sarbecovirus
<span class="m">694009</span><span class="w">    </span>species<span class="w">        </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome-related<span class="w"> </span>coronavirus
<span class="m">2697049</span><span class="w">   </span>no<span class="w"> </span>rank<span class="w">        </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span>
</code></pre></div>

</li>
</ol>
<h2 id="reformat">reformat<a class="headerlink" href="#reformat" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Reformat lineage in canonical ranks

Input:

  - List of TaxIds or lineages, one record per line.
    The lineage can be a complete lineage or only one taxonomy name.
  - Or tab-delimited format.
    Plese specify the lineage field with flag -i/--lineage-field (default 2).
    Or specify the TaxId field with flag -I/--taxid-field (default 0),
    which overrides -i/--lineage-field.
  - Supporting (gzipped) file or STDIN.

Output:

  1. Input line data.
  2. Reformated lineage.
  3. (Optional) TaxIds taxons in the lineage (-t/--show-lineage-taxids)

Ambiguous names:

  - Some TaxIds have the same complete lineage, empty result is returned
    by default. You can use the flag -a/--output-ambiguous-result to
    return one possible result

Output format can be formated by flag --format, available placeholders:

    {r}: realm
    {k}: superkingdom
    {K}: kingdom
    {p}: phylum
    {c}: class
    {o}: order
    {f}: family
    {g}: genus
    {s}: species
    {t}: subspecies/strain

    {S}: subspecies
    {T}: strain

When these&#39;re no nodes of rank &quot;subspecies&quot; nor &quot;strain&quot;,
you can switch on -S/--pseudo-strain to use the node with lowest rank
as subspecies/strain name, if which rank is lower than &quot;species&quot;.
This flag affects {t}, {S}, {T}.

Output format can contains some escape charactors like &quot;\t&quot;.

Usage:
  taxonkit reformat [flags]

Flags:
  -P, --add-prefix                     add prefixes for all ranks, single prefix for a rank is defined
                                       by flag --prefix-X
  -d, --delimiter string               field delimiter in input lineage (default &quot;;&quot;)
  -F, --fill-miss-rank                 fill missing rank with lineage information of the next higher rank
  -f, --format string                  output format, placeholders of rank are needed (default
                                       &quot;{k};{p};{c};{o};{f};{g};{s}&quot;)
  -h, --help                           help for reformat
  -i, --lineage-field int              field index of lineage. data should be tab-separated (default 2)
  -r, --miss-rank-repl string          replacement string for missing rank
  -p, --miss-rank-repl-prefix string   prefix for estimated taxon names (default &quot;unclassified &quot;)
  -s, --miss-rank-repl-suffix string   suffix for estimated taxon names. &quot;rank&quot; for rank name, &quot;&quot; for no
                                       suffix (default &quot;rank&quot;)
  -R, --miss-taxid-repl string         replacement string for missing taxid
  -a, --output-ambiguous-result        output one of the ambigous result
      --prefix-K string                prefix for kingdom, used along with flag -P/--add-prefix (default
                                       &quot;K__&quot;)
      --prefix-S string                prefix for subspecies, used along with flag -P/--add-prefix
                                       (default &quot;S__&quot;)
      --prefix-T string                prefix for strain, used along with flag -P/--add-prefix (default
                                       &quot;T__&quot;)
      --prefix-c string                prefix for class, used along with flag -P/--add-prefix (default &quot;c__&quot;)
      --prefix-f string                prefix for family, used along with flag -P/--add-prefix (default
                                       &quot;f__&quot;)
      --prefix-g string                prefix for genus, used along with flag -P/--add-prefix (default &quot;g__&quot;)
      --prefix-k string                prefix for superkingdom, used along with flag -P/--add-prefix
                                       (default &quot;k__&quot;)
      --prefix-o string                prefix for order, used along with flag -P/--add-prefix (default &quot;o__&quot;)
      --prefix-p string                prefix for phylum, used along with flag -P/--add-prefix (default
                                       &quot;p__&quot;)
      --prefix-r string                prefix for realm, used along with flag -P/--add-prefix (default &quot;r__&quot;)
      --prefix-s string                prefix for species, used along with flag -P/--add-prefix (default
                                       &quot;s__&quot;)
      --prefix-t string                prefix for subspecies/strain, used along with flag
                                       -P/--add-prefix (default &quot;t__&quot;)
  -S, --pseudo-strain                  use the node with lowest rank as strain name, only if which rank
                                       is lower than &quot;species&quot; and not &quot;subpecies&quot; nor &quot;strain&quot;. It
                                       affects {t}, {S}, {T}. This flag needs flag -F
  -t, --show-lineage-taxids            show corresponding taxids of reformated lineage
  -I, --taxid-field int                field index of taxid. input data should be tab-separated. it
                                       overrides -i/--lineage-field
  -T, --trim                           do not fill or add prefix for missing rank lower than current rank
</code></pre></div>

<p>Examples:</p>
<ol>
<li>
<p><strong>For version &gt; 0.8.0, <code>reformat</code> accept input of TaxIds via flag <code>-I/--taxid-field</code></strong>.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">239935</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-I<span class="w"> </span><span class="m">1</span>
<span class="m">239935</span><span class="w">  </span>Bacteria<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">349741</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-I<span class="w"> </span><span class="m">1</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;{k}|{p}|{c}|{o}|{f}|{g}|{s}|{t}&quot;</span><span class="w"> </span>-F<span class="w"> </span>-t
<span class="m">349741</span><span class="w">  </span>Bacteria<span class="p">|</span>Verrucomicrobia<span class="p">|</span>Verrucomicrobiae<span class="p">|</span>Verrucomicrobiales<span class="p">|</span>Akkermansiaceae<span class="p">|</span>Akkermansia<span class="p">|</span>Akkermansia<span class="w"> </span>muciniphila<span class="p">|</span>Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835<span class="w">    </span><span class="m">2</span><span class="p">|</span><span class="m">74201</span><span class="p">|</span><span class="m">203494</span><span class="p">|</span><span class="m">48461</span><span class="p">|</span><span class="m">1647988</span><span class="p">|</span><span class="m">239934</span><span class="p">|</span><span class="m">239935</span><span class="p">|</span><span class="m">349741</span>
</code></pre></div>

</li>
<li>
<p>Example lineage (produced by: <code>taxonkit lineage taxids.txt | awk '$2!=""' &gt; lineage.txt</code>).</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>lineage.txt
<span class="m">9606</span><span class="w">    </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Eukaryota<span class="p">;</span>Opisthokonta<span class="p">;</span>Metazoa<span class="p">;</span>Eumetazoa<span class="p">;</span>Bilateria<span class="p">;</span>Deuterostomia<span class="p">;</span>Chordata<span class="p">;</span>Craniata<span class="p">;</span>Vertebrata<span class="p">;</span>Gnathostomata<span class="p">;</span>Teleostomi<span class="p">;</span>Euteleostomi<span class="p">;</span>Sarcopterygii<span class="p">;</span>Dipnotetrapodomorpha<span class="p">;</span>Tetrapoda<span class="p">;</span>Amniota<span class="p">;</span>Mammalia<span class="p">;</span>Theria<span class="p">;</span>Eutheria<span class="p">;</span>Boreoeutheria<span class="p">;</span>Euarchontoglires<span class="p">;</span>Primates<span class="p">;</span>Haplorrhini<span class="p">;</span>Simiiformes<span class="p">;</span>Catarrhini<span class="p">;</span>Hominoidea<span class="p">;</span>Hominidae<span class="p">;</span>Homininae<span class="p">;</span>Homo<span class="p">;</span>Homo<span class="w"> </span>sapiens
<span class="m">9913</span><span class="w">    </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Eukaryota<span class="p">;</span>Opisthokonta<span class="p">;</span>Metazoa<span class="p">;</span>Eumetazoa<span class="p">;</span>Bilateria<span class="p">;</span>Deuterostomia<span class="p">;</span>Chordata<span class="p">;</span>Craniata<span class="p">;</span>Vertebrata<span class="p">;</span>Gnathostomata<span class="p">;</span>Teleostomi<span class="p">;</span>Euteleostomi<span class="p">;</span>Sarcopterygii<span class="p">;</span>Dipnotetrapodomorpha<span class="p">;</span>Tetrapoda<span class="p">;</span>Amniota<span class="p">;</span>Mammalia<span class="p">;</span>Theria<span class="p">;</span>Eutheria<span class="p">;</span>Boreoeutheria<span class="p">;</span>Laurasiatheria<span class="p">;</span>Artiodactyla<span class="p">;</span>Ruminantia<span class="p">;</span>Pecora<span class="p">;</span>Bovidae<span class="p">;</span>Bovinae<span class="p">;</span>Bos<span class="p">;</span>Bos<span class="w"> </span>taurus
<span class="m">376619</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Thiotrichales<span class="p">;</span>Francisellaceae<span class="p">;</span>Francisella<span class="p">;</span>Francisella<span class="w"> </span>tularensis<span class="p">;</span>Francisella<span class="w"> </span>tularensis<span class="w"> </span>subsp.<span class="w"> </span>holarctica<span class="p">;</span>Francisella<span class="w"> </span>tularensis<span class="w"> </span>subsp.<span class="w"> </span>holarctica<span class="w"> </span>LVS
<span class="m">349741</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835
<span class="m">239935</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila
<span class="m">314101</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>environmental<span class="w"> </span>samples<span class="p">;</span>uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B
<span class="m">11932</span><span class="w">   </span>Viruses<span class="p">;</span>Riboviria<span class="p">;</span>Pararnavirae<span class="p">;</span>Artverviricota<span class="p">;</span>Revtraviricetes<span class="p">;</span>Ortervirales<span class="p">;</span>Retroviridae<span class="p">;</span>unclassified<span class="w"> </span>Retroviridae<span class="p">;</span>Intracisternal<span class="w"> </span>A-particles<span class="p">;</span>Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle
<span class="m">1327037</span><span class="w"> </span>Viruses<span class="p">;</span>Duplodnaviria<span class="p">;</span>Heunggongvirae<span class="p">;</span>Uroviricota<span class="p">;</span>Caudoviricetes<span class="p">;</span>Caudovirales<span class="p">;</span>Siphoviridae<span class="p">;</span>unclassified<span class="w"> </span>Siphoviridae<span class="p">;</span>Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y
<span class="m">92489</span><span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Erwiniaceae<span class="p">;</span>Erwinia<span class="p">;</span>Erwinia<span class="w"> </span>oleae
<span class="m">1458427</span><span class="w"> </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Betaproteobacteria<span class="p">;</span>Burkholderiales<span class="p">;</span>Comamonadaceae<span class="p">;</span>Serpentinomonas<span class="p">;</span>Serpentinomonas<span class="w"> </span>raichei
</code></pre></div>

</li>
<li>
<p>Default output format (<code>"{k};{p};{c};{o};{f};{g};{s}"</code>).</p>
<div class="codehilite"><pre><span></span><code><span class="o">#</span><span class="w"> </span><span class="nv">reformated</span><span class="w"> </span><span class="nv">lineages</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">appended</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">input</span><span class="w"> </span><span class="nv">data</span>
<span class="p">$</span><span class="w"> </span><span class="nv">taxonkit</span><span class="w"> </span><span class="nv">reformat</span><span class="w"> </span><span class="nv">lineage</span><span class="o">.</span><span class="nv">txt</span><span class="w"> </span>
<span class="o">...</span>
<span class="mi">239935</span><span class="w">  </span><span class="nv">cellular</span><span class="w"> </span><span class="ow">or</span><span class="nv">ganisms</span><span class="p">;</span><span class="nv">Bacteria</span><span class="p">;</span><span class="nv">PVC</span><span class="w"> </span><span class="nv">group</span><span class="p">;</span><span class="nv">Verrucomicrobia</span><span class="p">;</span><span class="nv">Verrucomicrobiae</span><span class="p">;</span><span class="nv">Verrucomicrobiales</span><span class="p">;</span><span class="nv">Akkermansiaceae</span><span class="p">;</span><span class="nv">Akkermansia</span><span class="p">;</span><span class="nv">Akkermansia</span><span class="w"> </span><span class="nv">muciniphila</span><span class="w">     </span><span class="nv">Bacteria</span><span class="p">;</span><span class="nv">Verrucomicrobia</span><span class="p">;</span><span class="nv">Verrucomicrobiae</span><span class="p">;</span><span class="nv">Verrucomicrobiales</span><span class="p">;</span><span class="nv">Akkermansiaceae</span><span class="p">;</span><span class="nv">Akkermansia</span><span class="p">;</span><span class="nv">Akkermansia</span><span class="w"> </span><span class="nv">muciniphila</span>
<span class="o">...</span>

<span class="p">$</span><span class="w"> </span>
<span class="p">$</span><span class="w"> </span><span class="nv">taxonkit</span><span class="w"> </span><span class="nv">reformat</span><span class="w"> </span><span class="nv">lineage</span><span class="o">.</span><span class="nv">txt</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">tee</span><span class="w"> </span><span class="nv">lineage</span><span class="o">.</span><span class="nv">txt</span><span class="o">.</span><span class="nv">reformat</span>

<span class="p">$</span><span class="w"> </span><span class="nv">cut</span><span class="w"> </span><span class="o">-</span><span class="nv">f</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="w"> </span><span class="nv">lineage</span><span class="o">.</span><span class="nv">txt</span><span class="o">.</span><span class="nv">reformat</span>
<span class="mi">9606</span><span class="w">    </span><span class="nv">Eukaryota</span><span class="p">;</span><span class="nv">Chordata</span><span class="p">;</span><span class="nv">Mammalia</span><span class="p">;</span><span class="nv">Primates</span><span class="p">;</span><span class="nv">Hominidae</span><span class="p">;</span><span class="nv">Homo</span><span class="p">;</span><span class="nv">Homo</span><span class="w"> </span><span class="nv">sapiens</span>
<span class="mi">9913</span><span class="w">    </span><span class="nv">Eukaryota</span><span class="p">;</span><span class="nv">Chordata</span><span class="p">;</span><span class="nv">Mammalia</span><span class="p">;</span><span class="nv">Artiodactyla</span><span class="p">;</span><span class="nv">Bovidae</span><span class="p">;</span><span class="nv">Bos</span><span class="p">;</span><span class="nv">Bos</span><span class="w"> </span><span class="nv">taurus</span>
<span class="mi">376619</span><span class="w">  </span><span class="nv">Bacteria</span><span class="p">;</span><span class="nv">Proteobacteria</span><span class="p">;</span><span class="nv">Gammaproteobacteria</span><span class="p">;</span><span class="nv">Thiotrichales</span><span class="p">;</span><span class="nv">Francisellaceae</span><span class="p">;</span><span class="nv">Francisella</span><span class="p">;</span><span class="nv">Francisella</span><span class="w"> </span><span class="nv">tularensis</span>
<span class="mi">349741</span><span class="w">  </span><span class="nv">Bacteria</span><span class="p">;</span><span class="nv">Verrucomicrobia</span><span class="p">;</span><span class="nv">Verrucomicrobiae</span><span class="p">;</span><span class="nv">Verrucomicrobiales</span><span class="p">;</span><span class="nv">Akkermansiaceae</span><span class="p">;</span><span class="nv">Akkermansia</span><span class="p">;</span><span class="nv">Akkermansia</span><span class="w"> </span><span class="nv">muciniphila</span>
<span class="mi">239935</span><span class="w">  </span><span class="nv">Bacteria</span><span class="p">;</span><span class="nv">Verrucomicrobia</span><span class="p">;</span><span class="nv">Verrucomicrobiae</span><span class="p">;</span><span class="nv">Verrucomicrobiales</span><span class="p">;</span><span class="nv">Akkermansiaceae</span><span class="p">;</span><span class="nv">Akkermansia</span><span class="p">;</span><span class="nv">Akkermansia</span><span class="w"> </span><span class="nv">muciniphila</span>
<span class="mi">314101</span><span class="w">  </span><span class="nv">Bacteria</span><span class="p">;;;;;;</span><span class="nv">uncultured</span><span class="w"> </span><span class="nv">murine</span><span class="w"> </span><span class="nv">large</span><span class="w"> </span><span class="nv">bowel</span><span class="w"> </span><span class="nv">bacterium</span><span class="w"> </span><span class="nv">BAC</span><span class="w"> </span><span class="mi">54</span><span class="nv">B</span>
<span class="mi">11932</span><span class="w">   </span><span class="nv">Viruses</span><span class="p">;</span><span class="nv">Artverviricota</span><span class="p">;</span><span class="nv">Revtraviricetes</span><span class="p">;</span><span class="nv">Ortervirales</span><span class="p">;</span><span class="nv">Retroviridae</span><span class="p">;</span><span class="nv">Intracisternal</span><span class="w"> </span><span class="nv">A</span><span class="o">-</span><span class="nv">particles</span><span class="p">;</span><span class="nv">Mouse</span><span class="w"> </span><span class="nv">Intracisternal</span><span class="w"> </span><span class="nv">A</span><span class="o">-</span><span class="nv">particle</span>
<span class="mi">1327037</span><span class="w"> </span><span class="nv">Viruses</span><span class="p">;</span><span class="nv">Uroviricota</span><span class="p">;</span><span class="nv">Caudoviricetes</span><span class="p">;</span><span class="nv">Caudovirales</span><span class="p">;</span><span class="nv">Siphoviridae</span><span class="p">;;</span><span class="nv">Croceibacter</span><span class="w"> </span><span class="nv">phage</span><span class="w"> </span><span class="nv">P2559Y</span>
<span class="mi">92489</span><span class="w">   </span><span class="nv">Bacteria</span><span class="p">;</span><span class="nv">Proteobacteria</span><span class="p">;</span><span class="nv">Gammaproteobacteria</span><span class="p">;</span><span class="nv">Enterobacterales</span><span class="p">;</span><span class="nv">Erwiniaceae</span><span class="p">;</span><span class="nv">Erwinia</span><span class="p">;</span><span class="nv">Erwinia</span><span class="w"> </span><span class="nv">oleae</span>
<span class="mi">1458427</span><span class="w"> </span><span class="nv">Bacteria</span><span class="p">;</span><span class="nv">Proteobacteria</span><span class="p">;</span><span class="nv">Betaproteobacteria</span><span class="p">;</span><span class="nv">Burkholderiales</span><span class="p">;</span><span class="nv">Comamonadaceae</span><span class="p">;</span><span class="nv">Serpentinomonas</span><span class="p">;</span><span class="nv">Serpentinomonas</span><span class="w"> </span><span class="nv">raichei</span>

<span class="o">#</span><span class="w"> </span><span class="nv">aligned</span><span class="w"> </span>
<span class="p">$</span><span class="w"> </span><span class="nv">cat</span><span class="w"> </span><span class="nv">lineage</span><span class="o">.</span><span class="nv">txt</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">taxonkit</span><span class="w"> </span><span class="nv">reformat</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">csvtk</span><span class="w"> </span><span class="o">-</span><span class="nv">H</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span><span class="w"> </span><span class="nv">cut</span><span class="w"> </span><span class="o">-</span><span class="nv">f</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">csvtk</span><span class="w"> </span><span class="o">-</span><span class="nv">H</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span><span class="w"> </span><span class="nv">sep</span><span class="w"> </span><span class="o">-</span><span class="nv">f</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="nv">s</span><span class="w"> </span><span class="o">&#39;</span><span class="p">;</span><span class="o">&#39;</span><span class="w"> </span><span class="o">-</span><span class="nv">R</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">csvtk</span><span class="w"> </span><span class="nv">add</span><span class="o">-</span><span class="nv">header</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span><span class="w"> </span><span class="o">-</span><span class="nv">n</span><span class="w"> </span><span class="nv">taxid</span><span class="p">,</span><span class="nv">kindom</span><span class="p">,</span><span class="nv">phylum</span><span class="p">,</span><span class="nv">class</span><span class="p">,</span><span class="ow">or</span><span class="nv">der</span><span class="p">,</span><span class="nv">family</span><span class="p">,</span><span class="nv">genus</span><span class="p">,</span><span class="nv">species</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nv">csvtk</span><span class="w"> </span><span class="nv">pretty</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span>

<span class="nv">taxid</span><span class="w">     </span><span class="nv">kindom</span><span class="w">      </span><span class="nv">phylum</span><span class="w">            </span><span class="nv">class</span><span class="w">                 </span><span class="ow">or</span><span class="nv">der</span><span class="w">                </span><span class="nv">family</span><span class="w">            </span><span class="nv">genus</span><span class="w">                        </span><span class="nv">species</span>
<span class="o">-------</span><span class="w">   </span><span class="o">---------</span><span class="w">   </span><span class="o">---------------</span><span class="w">   </span><span class="o">-------------------</span><span class="w">   </span><span class="o">------------------</span><span class="w">   </span><span class="o">---------------</span><span class="w">   </span><span class="o">--------------------------</span><span class="w">   </span><span class="o">-----------------------------------------------</span>
<span class="mi">9606</span><span class="w">      </span><span class="nv">Eukaryota</span><span class="w">   </span><span class="nv">Chordata</span><span class="w">          </span><span class="nv">Mammalia</span><span class="w">              </span><span class="nv">Primates</span><span class="w">             </span><span class="nv">Hominidae</span><span class="w">         </span><span class="nv">Homo</span><span class="w">                         </span><span class="nv">Homo</span><span class="w"> </span><span class="nv">sapiens</span>
<span class="mi">9913</span><span class="w">      </span><span class="nv">Eukaryota</span><span class="w">   </span><span class="nv">Chordata</span><span class="w">          </span><span class="nv">Mammalia</span><span class="w">              </span><span class="nv">Artiodactyla</span><span class="w">         </span><span class="nv">Bovidae</span><span class="w">           </span><span class="nv">Bos</span><span class="w">                          </span><span class="nv">Bos</span><span class="w"> </span><span class="nv">taurus</span>
<span class="mi">376619</span><span class="w">    </span><span class="nv">Bacteria</span><span class="w">    </span><span class="nv">Proteobacteria</span><span class="w">    </span><span class="nv">Gammaproteobacteria</span><span class="w">   </span><span class="nv">Thiotrichales</span><span class="w">        </span><span class="nv">Francisellaceae</span><span class="w">   </span><span class="nv">Francisella</span><span class="w">                  </span><span class="nv">Francisella</span><span class="w"> </span><span class="nv">tularensis</span>
<span class="mi">349741</span><span class="w">    </span><span class="nv">Bacteria</span><span class="w">    </span><span class="nv">Verrucomicrobia</span><span class="w">   </span><span class="nv">Verrucomicrobiae</span><span class="w">      </span><span class="nv">Verrucomicrobiales</span><span class="w">   </span><span class="nv">Akkermansiaceae</span><span class="w">   </span><span class="nv">Akkermansia</span><span class="w">                  </span><span class="nv">Akkermansia</span><span class="w"> </span><span class="nv">muciniphila</span>
<span class="mi">239935</span><span class="w">    </span><span class="nv">Bacteria</span><span class="w">    </span><span class="nv">Verrucomicrobia</span><span class="w">   </span><span class="nv">Verrucomicrobiae</span><span class="w">      </span><span class="nv">Verrucomicrobiales</span><span class="w">   </span><span class="nv">Akkermansiaceae</span><span class="w">   </span><span class="nv">Akkermansia</span><span class="w">                  </span><span class="nv">Akkermansia</span><span class="w"> </span><span class="nv">muciniphila</span>
<span class="mi">314101</span><span class="w">    </span><span class="nv">Bacteria</span><span class="w">                                                                                                                </span><span class="nv">uncultured</span><span class="w"> </span><span class="nv">murine</span><span class="w"> </span><span class="nv">large</span><span class="w"> </span><span class="nv">bowel</span><span class="w"> </span><span class="nv">bacterium</span><span class="w"> </span><span class="nv">BAC</span><span class="w"> </span><span class="mi">54</span><span class="nv">B</span>
<span class="mi">11932</span><span class="w">     </span><span class="nv">Viruses</span><span class="w">     </span><span class="nv">Artverviricota</span><span class="w">    </span><span class="nv">Revtraviricetes</span><span class="w">       </span><span class="nv">Ortervirales</span><span class="w">         </span><span class="nv">Retroviridae</span><span class="w">      </span><span class="nv">Intracisternal</span><span class="w"> </span><span class="nv">A</span><span class="o">-</span><span class="nv">particles</span><span class="w">   </span><span class="nv">Mouse</span><span class="w"> </span><span class="nv">Intracisternal</span><span class="w"> </span><span class="nv">A</span><span class="o">-</span><span class="nv">particle</span>
<span class="mi">1327037</span><span class="w">   </span><span class="nv">Viruses</span><span class="w">     </span><span class="nv">Uroviricota</span><span class="w">       </span><span class="nv">Caudoviricetes</span><span class="w">        </span><span class="nv">Caudovirales</span><span class="w">         </span><span class="nv">Siphoviridae</span><span class="w">                                   </span><span class="nv">Croceibacter</span><span class="w"> </span><span class="nv">phage</span><span class="w"> </span><span class="nv">P2559Y</span>
<span class="mi">92489</span><span class="w">     </span><span class="nv">Bacteria</span><span class="w">    </span><span class="nv">Proteobacteria</span><span class="w">    </span><span class="nv">Gammaproteobacteria</span><span class="w">   </span><span class="nv">Enterobacterales</span><span class="w">     </span><span class="nv">Erwiniaceae</span><span class="w">       </span><span class="nv">Erwinia</span><span class="w">                      </span><span class="nv">Erwinia</span><span class="w"> </span><span class="nv">oleae</span>
<span class="mi">1458427</span><span class="w">   </span><span class="nv">Bacteria</span><span class="w">    </span><span class="nv">Proteobacteria</span><span class="w">    </span><span class="nv">Betaproteobacteria</span><span class="w">    </span><span class="nv">Burkholderiales</span><span class="w">      </span><span class="nv">Comamonadaceae</span><span class="w">    </span><span class="nv">Serpentinomonas</span><span class="w">              </span><span class="nv">Serpentinomonas</span><span class="w"> </span><span class="nv">raichei</span>
</code></pre></div>

</li>
<li>
<p>And <code>subspecies/strain</code> (<code>{t}</code>), <code>subspecies</code> (<code>{S}</code>), and <code>strain</code> (<code>{T}</code>) are also available.</p>
<div class="codehilite"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nt">default</span><span class="w"> </span><span class="nt">operation</span>
<span class="o">$</span><span class="w"> </span><span class="nt">echo</span><span class="w"> </span><span class="nt">-ne</span><span class="w"> </span><span class="s2">&quot;239935\n83333\n1408252\n2697049\n2605619\n&quot;</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">taxonkit</span><span class="w"> </span><span class="nt">lineage</span><span class="w"> </span><span class="nt">-n</span><span class="w"> </span><span class="nt">-r</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">taxonkit</span><span class="w"> </span><span class="nt">reformat</span><span class="w"> </span><span class="nt">-f</span><span class="w"> </span><span class="s1">&#39;{t};{S};{T}&#39;</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">csvtk</span><span class="w"> </span><span class="nt">-H</span><span class="w"> </span><span class="nt">-t</span><span class="w"> </span><span class="nt">cut</span><span class="w"> </span><span class="nt">-f</span><span class="w"> </span><span class="nt">1</span><span class="o">,</span><span class="nt">4</span><span class="o">,</span><span class="nt">3</span><span class="o">,</span><span class="nt">5</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">csvtk</span><span class="w"> </span><span class="nt">-H</span><span class="w"> </span><span class="nt">-t</span><span class="w"> </span><span class="nt">sep</span><span class="w"> </span><span class="nt">-f</span><span class="w"> </span><span class="nt">4</span><span class="w"> </span><span class="nt">-s</span><span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span><span class="nt">-R</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">csvtk</span><span class="w"> </span><span class="nt">-H</span><span class="w"> </span><span class="nt">-t</span><span class="w"> </span><span class="nt">add-header</span><span class="w"> </span><span class="nt">-n</span><span class="w"> </span><span class="s2">&quot;taxid,rank,name,subspecies/strain,subspecies,strain&quot;</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">csvtk</span><span class="w"> </span><span class="nt">pretty</span><span class="w"> </span><span class="nt">-t</span>

<span class="nt">taxid</span><span class="w">     </span><span class="nt">rank</span><span class="w">         </span><span class="nt">name</span><span class="w">                                              </span><span class="nt">subspecies</span><span class="o">/</span><span class="nt">strain</span><span class="w">       </span><span class="nt">subspecies</span><span class="w">              </span><span class="nt">strain</span>
<span class="nt">-------</span><span class="w">   </span><span class="nt">----------</span><span class="w">   </span><span class="nt">-----------------------------------------------</span><span class="w">   </span><span class="nt">---------------------</span><span class="w">   </span><span class="nt">---------------------</span><span class="w">   </span><span class="nt">---------------------</span>
<span class="nt">239935</span><span class="w">    </span><span class="nt">species</span><span class="w">      </span><span class="nt">Akkermansia</span><span class="w"> </span><span class="nt">muciniphila</span><span class="w">                                                                           </span>
<span class="nt">83333</span><span class="w">     </span><span class="nt">strain</span><span class="w">       </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">K-12</span><span class="w">                             </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">K-12</span><span class="w">                           </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">K-12</span>
<span class="nt">1408252</span><span class="w">   </span><span class="nt">subspecies</span><span class="w">   </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">R178</span><span class="w">                             </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">R178</span><span class="w">   </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">R178</span><span class="w">   </span>
<span class="nt">2697049</span><span class="w">   </span><span class="nt">no</span><span class="w"> </span><span class="nt">rank</span><span class="w">      </span><span class="nt">Severe</span><span class="w"> </span><span class="nt">acute</span><span class="w"> </span><span class="nt">respiratory</span><span class="w"> </span><span class="nt">syndrome</span><span class="w"> </span><span class="nt">coronavirus</span><span class="w"> </span><span class="nt">2</span><span class="w">                                                   </span>
<span class="nt">2605619</span><span class="w">   </span><span class="nt">no</span><span class="w"> </span><span class="nt">rank</span><span class="w">      </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">O16</span><span class="p">:</span><span class="nd">H48</span>

<span class="err">#</span><span class="w"> </span><span class="nt">fill</span><span class="w"> </span><span class="nt">missing</span><span class="w"> </span><span class="nt">ranks</span>
<span class="err">#</span><span class="w"> </span><span class="nt">see</span><span class="w"> </span><span class="nt">example</span><span class="w"> </span><span class="nt">below</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nt">-F</span><span class="o">/</span><span class="nt">--fill-miss-rank</span>
<span class="err">#</span>
<span class="o">$</span><span class="w"> </span><span class="nt">echo</span><span class="w"> </span><span class="nt">-ne</span><span class="w"> </span><span class="s2">&quot;239935\n83333\n1408252\n2697049\n2605619\n&quot;</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">taxonkit</span><span class="w"> </span><span class="nt">lineage</span><span class="w"> </span><span class="nt">-n</span><span class="w"> </span><span class="nt">-r</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">taxonkit</span><span class="w"> </span><span class="nt">reformat</span><span class="w"> </span><span class="nt">-f</span><span class="w"> </span><span class="s1">&#39;{t};{S};{T}&#39;</span><span class="w"> </span><span class="nt">--fill-miss-rank</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">csvtk</span><span class="w"> </span><span class="nt">-H</span><span class="w"> </span><span class="nt">-t</span><span class="w"> </span><span class="nt">cut</span><span class="w"> </span><span class="nt">-f</span><span class="w"> </span><span class="nt">1</span><span class="o">,</span><span class="nt">4</span><span class="o">,</span><span class="nt">3</span><span class="o">,</span><span class="nt">5</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">csvtk</span><span class="w"> </span><span class="nt">-H</span><span class="w"> </span><span class="nt">-t</span><span class="w"> </span><span class="nt">sep</span><span class="w"> </span><span class="nt">-f</span><span class="w"> </span><span class="nt">4</span><span class="w"> </span><span class="nt">-s</span><span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span><span class="nt">-R</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">csvtk</span><span class="w"> </span><span class="nt">-H</span><span class="w"> </span><span class="nt">-t</span><span class="w"> </span><span class="nt">add-header</span><span class="w"> </span><span class="nt">-n</span><span class="w"> </span><span class="s2">&quot;taxid,rank,name,subspecies/strain,subspecies,strain&quot;</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nt">csvtk</span><span class="w"> </span><span class="nt">pretty</span><span class="w"> </span><span class="nt">-t</span>

<span class="nt">taxid</span><span class="w">     </span><span class="nt">rank</span><span class="w">         </span><span class="nt">name</span><span class="w">                                              </span><span class="nt">subspecies</span><span class="o">/</span><span class="nt">strain</span><span class="w">                                                                      </span><span class="nt">subspecies</span><span class="w">                                                                      </span><span class="nt">strain</span>
<span class="nt">-------</span><span class="w">   </span><span class="nt">----------</span><span class="w">   </span><span class="nt">-----------------------------------------------</span><span class="w">   </span><span class="nt">------------------------------------------------------------------------------------</span><span class="w">   </span><span class="nt">-----------------------------------------------------------------------------</span><span class="w">   </span><span class="nt">-------------------------------------------------------------------------</span>
<span class="nt">239935</span><span class="w">    </span><span class="nt">species</span><span class="w">      </span><span class="nt">Akkermansia</span><span class="w"> </span><span class="nt">muciniphila</span><span class="w">                           </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Akkermansia</span><span class="w"> </span><span class="nt">muciniphila</span><span class="w"> </span><span class="nt">subspecies</span><span class="o">/</span><span class="nt">strain</span><span class="w">                                 </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Akkermansia</span><span class="w"> </span><span class="nt">muciniphila</span><span class="w"> </span><span class="nt">subspecies</span><span class="w">                                 </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Akkermansia</span><span class="w"> </span><span class="nt">muciniphila</span><span class="w"> </span><span class="nt">strain</span>
<span class="nt">83333</span><span class="w">     </span><span class="nt">strain</span><span class="w">       </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">K-12</span><span class="w">                             </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">K-12</span><span class="w">                                                                  </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">subspecies</span><span class="w">                                        </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">K-12</span>
<span class="nt">1408252</span><span class="w">   </span><span class="nt">subspecies</span><span class="w">   </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">R178</span><span class="w">                             </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">R178</span><span class="w">                                                                  </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">R178</span><span class="w">                                                           </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">R178</span><span class="w"> </span><span class="nt">strain</span>
<span class="nt">2697049</span><span class="w">   </span><span class="nt">no</span><span class="w"> </span><span class="nt">rank</span><span class="w">      </span><span class="nt">Severe</span><span class="w"> </span><span class="nt">acute</span><span class="w"> </span><span class="nt">respiratory</span><span class="w"> </span><span class="nt">syndrome</span><span class="w"> </span><span class="nt">coronavirus</span><span class="w"> </span><span class="nt">2</span><span class="w">   </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Severe</span><span class="w"> </span><span class="nt">acute</span><span class="w"> </span><span class="nt">respiratory</span><span class="w"> </span><span class="nt">syndrome-related</span><span class="w"> </span><span class="nt">coronavirus</span><span class="w"> </span><span class="nt">subspecies</span><span class="o">/</span><span class="nt">strain</span><span class="w">   </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Severe</span><span class="w"> </span><span class="nt">acute</span><span class="w"> </span><span class="nt">respiratory</span><span class="w"> </span><span class="nt">syndrome-related</span><span class="w"> </span><span class="nt">coronavirus</span><span class="w"> </span><span class="nt">subspecies</span><span class="w">   </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Severe</span><span class="w"> </span><span class="nt">acute</span><span class="w"> </span><span class="nt">respiratory</span><span class="w"> </span><span class="nt">syndrome-related</span><span class="w"> </span><span class="nt">coronavirus</span><span class="w"> </span><span class="nt">strain</span>
<span class="nt">2605619</span><span class="w">   </span><span class="nt">no</span><span class="w"> </span><span class="nt">rank</span><span class="w">      </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">O16</span><span class="p">:</span><span class="nd">H48</span><span class="w">                          </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">subspecies</span><span class="o">/</span><span class="nt">strain</span><span class="w">                                        </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">subspecies</span><span class="w">                                        </span><span class="nt">unclassified</span><span class="w"> </span><span class="nt">Escherichia</span><span class="w"> </span><span class="nt">coli</span><span class="w"> </span><span class="nt">strain</span>
</code></pre></div>

</li>
<li>
<p><strong>When these's no nodes of rank "subspecies" nor "strain",
   you can switch <code>-S/--pseudo-strain</code> to use the node with lowest rank
   as subspecies/strain name, if which rank is lower than "species"</strong>. Recommend using v0.14.1 or later versions.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-ne<span class="w"> </span><span class="s2">&quot;239935\n83333\n1408252\n2697049\n2605619\n&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-n<span class="w"> </span>-r<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-f<span class="w"> </span><span class="s1">&#39;{t};{S};{T}&#39;</span><span class="w"> </span>--pseudo-strain<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,4,3,5<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>sep<span class="w"> </span>-f<span class="w"> </span><span class="m">4</span><span class="w"> </span>-s<span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span>-R<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>add-header<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;taxid,rank,name,subspecies/strain,subspecies,strain&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-t

taxid<span class="w">     </span>rank<span class="w">         </span>name<span class="w">                                              </span>subspecies/strain<span class="w">                                 </span>subspecies<span class="w">                                        </span>strain
-------<span class="w">   </span>----------<span class="w">   </span>-----------------------------------------------<span class="w">   </span>-----------------------------------------------<span class="w">   </span>-----------------------------------------------<span class="w">   </span>-----------------------------------------------
<span class="m">239935</span><span class="w">    </span>species<span class="w">      </span>Akkermansia<span class="w"> </span>muciniphila
<span class="m">83333</span><span class="w">     </span>strain<span class="w">       </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>K-12<span class="w">                             </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>K-12<span class="w">                                                                               </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>K-12
<span class="m">1408252</span><span class="w">   </span>subspecies<span class="w">   </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>R178<span class="w">                             </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>R178<span class="w">                             </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>R178
<span class="m">2697049</span><span class="w">   </span>no<span class="w"> </span>rank<span class="w">      </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span>
<span class="m">2605619</span><span class="w">   </span>no<span class="w"> </span>rank<span class="w">      </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>O16:H48<span class="w">                          </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>O16:H48<span class="w">                          </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>O16:H48<span class="w">                          </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>O16:H48
</code></pre></div>

</li>
<li>
<p>Add prefix (<code>-P/--add-prefix</code>).</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>lineage.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-P<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3

<span class="m">9606</span><span class="w">    </span>k__Eukaryota<span class="p">;</span>p__Chordata<span class="p">;</span>c__Mammalia<span class="p">;</span>o__Primates<span class="p">;</span>f__Hominidae<span class="p">;</span>g__Homo<span class="p">;</span>s__Homo<span class="w"> </span>sapiens
<span class="m">9913</span><span class="w">    </span>k__Eukaryota<span class="p">;</span>p__Chordata<span class="p">;</span>c__Mammalia<span class="p">;</span>o__Artiodactyla<span class="p">;</span>f__Bovidae<span class="p">;</span>g__Bos<span class="p">;</span>s__Bos<span class="w"> </span>taurus
<span class="m">376619</span><span class="w">  </span>k__Bacteria<span class="p">;</span>p__Proteobacteria<span class="p">;</span>c__Gammaproteobacteria<span class="p">;</span>o__Thiotrichales<span class="p">;</span>f__Francisellaceae<span class="p">;</span>g__Francisella<span class="p">;</span>s__Francisella<span class="w"> </span>tularensis
<span class="m">349741</span><span class="w">  </span>k__Bacteria<span class="p">;</span>p__Verrucomicrobia<span class="p">;</span>c__Verrucomicrobiae<span class="p">;</span>o__Verrucomicrobiales<span class="p">;</span>f__Akkermansiaceae<span class="p">;</span>g__Akkermansia<span class="p">;</span>s__Akkermansia<span class="w"> </span>muciniphila
<span class="m">239935</span><span class="w">  </span>k__Bacteria<span class="p">;</span>p__Verrucomicrobia<span class="p">;</span>c__Verrucomicrobiae<span class="p">;</span>o__Verrucomicrobiales<span class="p">;</span>f__Akkermansiaceae<span class="p">;</span>g__Akkermansia<span class="p">;</span>s__Akkermansia<span class="w"> </span>muciniphila
<span class="m">314101</span><span class="w">  </span>k__Bacteria<span class="p">;</span>p__<span class="p">;</span>c__<span class="p">;</span>o__<span class="p">;</span>f__<span class="p">;</span>g__<span class="p">;</span>s__uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B
<span class="m">11932</span><span class="w">   </span>k__Viruses<span class="p">;</span>p__Artverviricota<span class="p">;</span>c__Revtraviricetes<span class="p">;</span>o__Ortervirales<span class="p">;</span>f__Retroviridae<span class="p">;</span>g__Intracisternal<span class="w"> </span>A-particles<span class="p">;</span>s__Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle
<span class="m">1327037</span><span class="w"> </span>k__Viruses<span class="p">;</span>p__Uroviricota<span class="p">;</span>c__Caudoviricetes<span class="p">;</span>o__Caudovirales<span class="p">;</span>f__Siphoviridae<span class="p">;</span>g__<span class="p">;</span>s__Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y
<span class="m">92489</span><span class="w">   </span>k__Bacteria<span class="p">;</span>p__Proteobacteria<span class="p">;</span>c__Gammaproteobacteria<span class="p">;</span>o__Enterobacterales<span class="p">;</span>f__Erwiniaceae<span class="p">;</span>g__Erwinia<span class="p">;</span>s__Erwinia<span class="w"> </span>oleae
<span class="m">1458427</span><span class="w"> </span>k__Bacteria<span class="p">;</span>p__Proteobacteria<span class="p">;</span>c__Betaproteobacteria<span class="p">;</span>o__Burkholderiales<span class="p">;</span>f__Comamonadaceae<span class="p">;</span>g__Serpentinomonas<span class="p">;</span>s__Serpentinomonas<span class="w"> </span>raichei
</code></pre></div>

</li>
<li>
<p>Show corresponding taxids of reformated lineage (flag <code>-t/--show-lineage-taxids</code>)</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>lineage.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-t<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,4<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>sep<span class="w"> </span>-f<span class="w"> </span><span class="m">2</span><span class="w"> </span>-s<span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span>-R<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>add-header<span class="w"> </span>-t<span class="w"> </span>-n<span class="w"> </span>taxid,kindom,phylum,class,order,family,genus,species<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-t

taxid<span class="w">     </span>kindom<span class="w">   </span>phylum<span class="w">    </span>class<span class="w">     </span>order<span class="w">     </span>family<span class="w">    </span>genus<span class="w">     </span>species
-------<span class="w">   </span>------<span class="w">   </span>-------<span class="w">   </span>-------<span class="w">   </span>-------<span class="w">   </span>-------<span class="w">   </span>-------<span class="w">   </span>-------
<span class="m">9606</span><span class="w">      </span><span class="m">2759</span><span class="w">     </span><span class="m">7711</span><span class="w">      </span><span class="m">40674</span><span class="w">     </span><span class="m">9443</span><span class="w">      </span><span class="m">9604</span><span class="w">      </span><span class="m">9605</span><span class="w">      </span><span class="m">9606</span>
<span class="m">9913</span><span class="w">      </span><span class="m">2759</span><span class="w">     </span><span class="m">7711</span><span class="w">      </span><span class="m">40674</span><span class="w">     </span><span class="m">91561</span><span class="w">     </span><span class="m">9895</span><span class="w">      </span><span class="m">9903</span><span class="w">      </span><span class="m">9913</span>
<span class="m">376619</span><span class="w">    </span><span class="m">2</span><span class="w">        </span><span class="m">1224</span><span class="w">      </span><span class="m">1236</span><span class="w">      </span><span class="m">72273</span><span class="w">     </span><span class="m">34064</span><span class="w">     </span><span class="m">262</span><span class="w">       </span><span class="m">263</span>
<span class="m">349741</span><span class="w">    </span><span class="m">2</span><span class="w">        </span><span class="m">74201</span><span class="w">     </span><span class="m">203494</span><span class="w">    </span><span class="m">48461</span><span class="w">     </span><span class="m">1647988</span><span class="w">   </span><span class="m">239934</span><span class="w">    </span><span class="m">239935</span>
<span class="m">239935</span><span class="w">    </span><span class="m">2</span><span class="w">        </span><span class="m">74201</span><span class="w">     </span><span class="m">203494</span><span class="w">    </span><span class="m">48461</span><span class="w">     </span><span class="m">1647988</span><span class="w">   </span><span class="m">239934</span><span class="w">    </span><span class="m">239935</span>
<span class="m">314101</span><span class="w">    </span><span class="m">2</span><span class="w">                                                          </span><span class="m">314101</span>
<span class="m">11932</span><span class="w">     </span><span class="m">10239</span><span class="w">    </span><span class="m">2732409</span><span class="w">   </span><span class="m">2732514</span><span class="w">   </span><span class="m">2169561</span><span class="w">   </span><span class="m">11632</span><span class="w">     </span><span class="m">11749</span><span class="w">     </span><span class="m">11932</span>
<span class="m">1327037</span><span class="w">   </span><span class="m">10239</span><span class="w">    </span><span class="m">2731618</span><span class="w">   </span><span class="m">2731619</span><span class="w">   </span><span class="m">28883</span><span class="w">     </span><span class="m">10699</span><span class="w">               </span><span class="m">1327037</span>
<span class="m">92489</span><span class="w">     </span><span class="m">2</span><span class="w">        </span><span class="m">1224</span><span class="w">      </span><span class="m">1236</span><span class="w">      </span><span class="m">91347</span><span class="w">     </span><span class="m">1903409</span><span class="w">   </span><span class="m">551</span><span class="w">       </span><span class="m">796334</span>
<span class="m">1458427</span><span class="w">   </span><span class="m">2</span><span class="w">        </span><span class="m">1224</span><span class="w">      </span><span class="m">28216</span><span class="w">     </span><span class="m">80840</span><span class="w">     </span><span class="m">80864</span><span class="w">     </span><span class="m">2490452</span><span class="w">   </span><span class="m">1458425</span>

<span class="c1"># both node name and taxids</span>
<span class="nb">echo</span><span class="w"> </span><span class="m">562</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-I<span class="w"> </span><span class="m">1</span><span class="w"> </span>-t<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>sep<span class="w"> </span>-f<span class="w"> </span><span class="m">2</span><span class="w"> </span>-s<span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span>-R<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>sep<span class="w"> </span>-f<span class="w"> </span><span class="m">2</span><span class="w"> </span>-s<span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span>-R<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>add-header<span class="w"> </span>-t<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;taxid,kingdom,phylum,class,order,family,genus,species,kingdom_taxid,phylum_taxid,class_taxid,order_taxid,family_taxid,genus_taxid,species_taxid&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-t
taxid<span class="w">   </span>kingdom<span class="w">    </span>phylum<span class="w">           </span>class<span class="w">                 </span>order<span class="w">              </span>family<span class="w">               </span>genus<span class="w">         </span>species<span class="w">            </span>kingdom_taxid<span class="w">   </span>phylum_taxid<span class="w">   </span>class_taxid<span class="w">   </span>order_taxid<span class="w">   </span>family_taxid<span class="w">   </span>genus_taxid<span class="w">   </span>species_taxid
-----<span class="w">   </span>--------<span class="w">   </span>--------------<span class="w">   </span>-------------------<span class="w">   </span>----------------<span class="w">   </span>------------------<span class="w">   </span>-----------<span class="w">   </span>----------------<span class="w">   </span>-------------<span class="w">   </span>------------<span class="w">   </span>-----------<span class="w">   </span>-----------<span class="w">   </span>------------<span class="w">   </span>-----------<span class="w">   </span>-------------
<span class="m">562</span><span class="w">     </span>Bacteria<span class="w">   </span>Pseudomonadota<span class="w">   </span>Gammaproteobacteria<span class="w">   </span>Enterobacterales<span class="w">   </span>Enterobacteriaceae<span class="w">   </span>Escherichia<span class="w">   </span>Escherichia<span class="w"> </span>coli<span class="w">   </span><span class="m">2</span><span class="w">               </span><span class="m">1224</span><span class="w">           </span><span class="m">1236</span><span class="w">          </span><span class="m">91347</span><span class="w">         </span><span class="m">543</span><span class="w">            </span><span class="m">561</span><span class="w">           </span><span class="m">562</span>
</code></pre></div>

</li>
<li>
<p>Use custom symbols for unclassfied ranks (<code>-r/--miss-rank-repl</code>)</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>lineage.txt<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;__&quot;</span><span class="w">  </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">3</span>
Eukaryota<span class="p">;</span>Chordata<span class="p">;</span>Mammalia<span class="p">;</span>Primates<span class="p">;</span>Hominidae<span class="p">;</span>Homo<span class="p">;</span>Homo<span class="w"> </span>sapiens
Eukaryota<span class="p">;</span>Chordata<span class="p">;</span>Mammalia<span class="p">;</span>Artiodactyla<span class="p">;</span>Bovidae<span class="p">;</span>Bos<span class="p">;</span>Bos<span class="w"> </span>taurus
Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Thiotrichales<span class="p">;</span>Francisellaceae<span class="p">;</span>Francisella<span class="p">;</span>Francisella<span class="w"> </span>tularensis
Bacteria<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila
Bacteria<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila
Bacteria<span class="p">;</span>__<span class="p">;</span>__<span class="p">;</span>__<span class="p">;</span>__<span class="p">;</span>__<span class="p">;</span>uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B
Viruses<span class="p">;</span>Artverviricota<span class="p">;</span>Revtraviricetes<span class="p">;</span>Ortervirales<span class="p">;</span>Retroviridae<span class="p">;</span>Intracisternal<span class="w"> </span>A-particles<span class="p">;</span>Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle
Viruses<span class="p">;</span>Uroviricota<span class="p">;</span>Caudoviricetes<span class="p">;</span>Caudovirales<span class="p">;</span>Siphoviridae<span class="p">;</span>__<span class="p">;</span>Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y
Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Erwiniaceae<span class="p">;</span>Erwinia<span class="p">;</span>Erwinia<span class="w"> </span>oleae
Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Betaproteobacteria<span class="p">;</span>Burkholderiales<span class="p">;</span>Comamonadaceae<span class="p">;</span>Serpentinomonas<span class="p">;</span>Serpentinomonas<span class="w"> </span>raichei

$<span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>lineage.txt<span class="w"> </span>-r<span class="w"> </span>Unassigned<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">3</span>
Eukaryota<span class="p">;</span>Chordata<span class="p">;</span>Mammalia<span class="p">;</span>Primates<span class="p">;</span>Hominidae<span class="p">;</span>Homo<span class="p">;</span>Homo<span class="w"> </span>sapiens
Eukaryota<span class="p">;</span>Chordata<span class="p">;</span>Mammalia<span class="p">;</span>Artiodactyla<span class="p">;</span>Bovidae<span class="p">;</span>Bos<span class="p">;</span>Bos<span class="w"> </span>taurus
Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Thiotrichales<span class="p">;</span>Francisellaceae<span class="p">;</span>Francisella<span class="p">;</span>Francisella<span class="w"> </span>tularensis
Bacteria<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila
Bacteria<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila
Bacteria<span class="p">;</span>Unassigned<span class="p">;</span>Unassigned<span class="p">;</span>Unassigned<span class="p">;</span>Unassigned<span class="p">;</span>Unassigned<span class="p">;</span>uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B
Viruses<span class="p">;</span>Artverviricota<span class="p">;</span>Revtraviricetes<span class="p">;</span>Ortervirales<span class="p">;</span>Retroviridae<span class="p">;</span>Intracisternal<span class="w"> </span>A-particles<span class="p">;</span>Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle
Viruses<span class="p">;</span>Uroviricota<span class="p">;</span>Caudoviricetes<span class="p">;</span>Caudovirales<span class="p">;</span>Siphoviridae<span class="p">;</span>Unassigned<span class="p">;</span>Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y
Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Erwiniaceae<span class="p">;</span>Erwinia<span class="p">;</span>Erwinia<span class="w"> </span>oleae
Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Betaproteobacteria<span class="p">;</span>Burkholderiales<span class="p">;</span>Comamonadaceae<span class="p">;</span>Serpentinomonas<span class="p">;</span>Serpentinomonas<span class="w"> </span>raichei
</code></pre></div>

</li>
<li>
<p><strong>Estimate and fill missing rank with original lineage information</strong>
  (<code>-F, --fill-miss-rank</code>, very useful for formatting input data for
  <a href="https://bitbucket.org/biobakery/biobakery/wiki/lefse">LEfSe</a>).
  You can change the prefix "unclassified" using flag <code>-p/--miss-rank-repl-prefix</code>.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>lineage.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-F<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>sep<span class="w"> </span>-f<span class="w"> </span><span class="m">2</span><span class="w"> </span>-s<span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span>-R<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>add-header<span class="w"> </span>-t<span class="w"> </span>-n<span class="w"> </span>taxid,kindom,phylum,class,order,family,genus,species<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-t

taxid<span class="w">     </span>kindom<span class="w">      </span>phylum<span class="w">                         </span>class<span class="w">                         </span>order<span class="w">                         </span>family<span class="w">                         </span>genus<span class="w">                             </span>species
-------<span class="w">   </span>---------<span class="w">   </span>----------------------------<span class="w">   </span>---------------------------<span class="w">   </span>---------------------------<span class="w">   </span>----------------------------<span class="w">   </span>-------------------------------<span class="w">   </span>-----------------------------------------------
<span class="m">9606</span><span class="w">      </span>Eukaryota<span class="w">   </span>Chordata<span class="w">                       </span>Mammalia<span class="w">                      </span>Primates<span class="w">                      </span>Hominidae<span class="w">                      </span>Homo<span class="w">                              </span>Homo<span class="w"> </span>sapiens
<span class="m">9913</span><span class="w">      </span>Eukaryota<span class="w">   </span>Chordata<span class="w">                       </span>Mammalia<span class="w">                      </span>Artiodactyla<span class="w">                  </span>Bovidae<span class="w">                        </span>Bos<span class="w">                               </span>Bos<span class="w"> </span>taurus
<span class="m">376619</span><span class="w">    </span>Bacteria<span class="w">    </span>Proteobacteria<span class="w">                 </span>Gammaproteobacteria<span class="w">           </span>Thiotrichales<span class="w">                 </span>Francisellaceae<span class="w">                </span>Francisella<span class="w">                       </span>Francisella<span class="w"> </span>tularensis
<span class="m">349741</span><span class="w">    </span>Bacteria<span class="w">    </span>Verrucomicrobia<span class="w">                </span>Verrucomicrobiae<span class="w">              </span>Verrucomicrobiales<span class="w">            </span>Akkermansiaceae<span class="w">                </span>Akkermansia<span class="w">                       </span>Akkermansia<span class="w"> </span>muciniphila
<span class="m">239935</span><span class="w">    </span>Bacteria<span class="w">    </span>Verrucomicrobia<span class="w">                </span>Verrucomicrobiae<span class="w">              </span>Verrucomicrobiales<span class="w">            </span>Akkermansiaceae<span class="w">                </span>Akkermansia<span class="w">                       </span>Akkermansia<span class="w"> </span>muciniphila
<span class="m">314101</span><span class="w">    </span>Bacteria<span class="w">    </span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>phylum<span class="w">   </span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>class<span class="w">   </span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>order<span class="w">   </span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>family<span class="w">   </span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>genus<span class="w">       </span>uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B
<span class="m">11932</span><span class="w">     </span>Viruses<span class="w">     </span>Artverviricota<span class="w">                 </span>Revtraviricetes<span class="w">               </span>Ortervirales<span class="w">                  </span>Retroviridae<span class="w">                   </span>Intracisternal<span class="w"> </span>A-particles<span class="w">        </span>Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle
<span class="m">1327037</span><span class="w">   </span>Viruses<span class="w">     </span>Uroviricota<span class="w">                    </span>Caudoviricetes<span class="w">                </span>Caudovirales<span class="w">                  </span>Siphoviridae<span class="w">                   </span>unclassified<span class="w"> </span>Siphoviridae<span class="w"> </span>genus<span class="w">   </span>Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y
<span class="m">92489</span><span class="w">     </span>Bacteria<span class="w">    </span>Proteobacteria<span class="w">                 </span>Gammaproteobacteria<span class="w">           </span>Enterobacterales<span class="w">              </span>Erwiniaceae<span class="w">                    </span>Erwinia<span class="w">                           </span>Erwinia<span class="w"> </span>oleae
<span class="m">1458427</span><span class="w">   </span>Bacteria<span class="w">    </span>Proteobacteria<span class="w">                 </span>Betaproteobacteria<span class="w">            </span>Burkholderiales<span class="w">               </span>Comamonadaceae<span class="w">                 </span>Serpentinomonas<span class="w">                   </span>Serpentinomonas<span class="w"> </span>raichei
</code></pre></div>

<p>Do not add prefix or suffix for estimated nodes:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">314101</span><span class="w"> </span><span class="p">|</span><span class="w">  </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-I<span class="w">  </span><span class="m">1</span>
<span class="m">314101</span><span class="w">  </span>Bacteria<span class="p">;;;;;;</span>uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">314101</span><span class="w"> </span><span class="p">|</span><span class="w">  </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-I<span class="w"> </span><span class="m">1</span><span class="w"> </span>-F<span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="m">314101</span><span class="w">  </span>Bacteria<span class="p">;</span>Bacteria<span class="p">;</span>Bacteria<span class="p">;</span>Bacteria<span class="p">;</span>Bacteria<span class="p">;</span>Bacteria<span class="p">;</span>uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B
</code></pre></div>

</li>
<li>
<p>Only some ranks.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>lineage.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-F<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;{s};{p}&quot;</span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>sep<span class="w"> </span>-f<span class="w"> </span><span class="m">2</span><span class="w"> </span>-s<span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span>-R<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>add-header<span class="w"> </span>-t<span class="w"> </span>-n<span class="w"> </span>taxid,species,phylum<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-t

taxid<span class="w">     </span>species<span class="w">                                           </span>phylum
-------<span class="w">   </span>-----------------------------------------------<span class="w">   </span>----------------------------
<span class="m">9606</span><span class="w">      </span>Homo<span class="w"> </span>sapiens<span class="w">                                      </span>Chordata
<span class="m">9913</span><span class="w">      </span>Bos<span class="w"> </span>taurus<span class="w">                                        </span>Chordata
<span class="m">376619</span><span class="w">    </span>Francisella<span class="w"> </span>tularensis<span class="w">                            </span>Proteobacteria
<span class="m">349741</span><span class="w">    </span>Akkermansia<span class="w"> </span>muciniphila<span class="w">                           </span>Verrucomicrobia
<span class="m">239935</span><span class="w">    </span>Akkermansia<span class="w"> </span>muciniphila<span class="w">                           </span>Verrucomicrobia
<span class="m">314101</span><span class="w">    </span>uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B<span class="w">   </span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>phylum
<span class="m">11932</span><span class="w">     </span>Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle<span class="w">                   </span>Artverviricota
<span class="m">1327037</span><span class="w">   </span>Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y<span class="w">                         </span>Uroviricota
<span class="m">92489</span><span class="w">     </span>Erwinia<span class="w"> </span>oleae<span class="w">                                     </span>Proteobacteria
<span class="m">1458427</span><span class="w">   </span>Serpentinomonas<span class="w"> </span>raichei<span class="w">                           </span>Proteobacteria
</code></pre></div>

</li>
<li>
<p><strong>For some taxids which rank is higher than the lowest rank in <code>-f/--format</code>, use <code>-T/--trim</code> to avoid fill missing rank lower than current rank</strong>.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-ne<span class="w"> </span><span class="s2">&quot;2\n239934\n239935\n&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-F<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;s/;+</span>$<span class="s2">//&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3

<span class="m">2</span><span class="w">       </span>Bacteria<span class="p">;</span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>phylum<span class="p">;</span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>class<span class="p">;</span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>order<span class="p">;</span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>family<span class="p">;</span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>genus<span class="p">;</span>unclassified<span class="w"> </span>Bacteria<span class="w"> </span>species
<span class="m">239934</span><span class="w">  </span>Bacteria<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>unclassified<span class="w"> </span>Akkermansia<span class="w"> </span>species
<span class="m">239935</span><span class="w">  </span>Bacteria<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-ne<span class="w"> </span><span class="s2">&quot;2\n239934\n239935\n&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-F<span class="w"> </span>-T<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;s/;+</span>$<span class="s2">//&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3

<span class="m">2</span><span class="w">       </span>Bacteria
<span class="m">239934</span><span class="w">  </span>Bacteria<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia
<span class="m">239935</span><span class="w">  </span>Bacteria<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila
</code></pre></div>

</li>
<li>
<p>Support tab in format string</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">9606</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;{k}\t{p}\t{c}\t{o}\t{f}\t{g}\t{s}\t{S}&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>cut<span class="w"> </span>-t<span class="w"> </span>-f<span class="w"> </span>-2

<span class="m">9606</span><span class="w">    </span>Eukaryota<span class="w">       </span>Chordata<span class="w">        </span>Mammalia<span class="w">        </span>Primates<span class="w">        </span>Hominidae<span class="w">       </span>Homo<span class="w">    </span>Homo<span class="w"> </span>sapiens
</code></pre></div>

</li>
<li>
<p>List seven-level lineage for all TaxIds.</p>
<div class="codehilite"><pre><span></span><code><span class="p">#</span><span class="w"> </span><span class="n">replace</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">taxon</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="s">&quot;Unassigned&quot;</span>
<span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mh">1</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">reformat</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">Unassigned</span><span class="w"> </span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">gzip</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">all</span><span class="p">.</span><span class="n">lineage</span><span class="p">.</span><span class="n">tsv</span><span class="p">.</span><span class="n">gz</span>

<span class="p">#</span><span class="w"> </span><span class="n">tab</span><span class="o">-</span><span class="n">delimited</span><span class="w"> </span><span class="n">seven</span><span class="o">-</span><span class="n">levels</span>
<span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mh">1</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">reformat</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">Unassigned</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="s">&quot;{k}</span><span class="se">\t</span><span class="s">{p}</span><span class="se">\t</span><span class="s">{c}</span><span class="se">\t</span><span class="s">{o}</span><span class="se">\t</span><span class="s">{f}</span><span class="se">\t</span><span class="s">{g}</span><span class="se">\t</span><span class="s">{s}&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">cut</span><span class="w"> </span><span class="o">-</span><span class="n">H</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="o">-</span><span class="mh">2</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="mh">5</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">pretty</span><span class="w"> </span><span class="o">-</span><span class="n">H</span><span class="w"> </span><span class="o">-</span><span class="n">t</span>

<span class="p">#</span><span class="w"> </span><span class="mh">8</span><span class="o">-</span><span class="n">level</span>
<span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mh">1</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">reformat</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">Unassigned</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="s">&quot;{k}</span><span class="se">\t</span><span class="s">{p}</span><span class="se">\t</span><span class="s">{c}</span><span class="se">\t</span><span class="s">{o}</span><span class="se">\t</span><span class="s">{f}</span><span class="se">\t</span><span class="s">{g}</span><span class="se">\t</span><span class="s">{s}</span><span class="se">\t</span><span class="s">{t}&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">cut</span><span class="w"> </span><span class="o">-</span><span class="n">H</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="o">-</span><span class="mh">2</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="mh">5</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">pretty</span><span class="w"> </span><span class="o">-</span><span class="n">H</span><span class="w"> </span><span class="o">-</span><span class="n">t</span>

<span class="p">#</span><span class="w"> </span><span class="n">Fill</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">trim</span>
<span class="err">$</span><span class="w"> </span><span class="n">memusg</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="p">&#39;</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mh">1</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">reformat</span><span class="w"> </span><span class="o">-</span><span class="n">F</span><span class="w"> </span><span class="o">-</span><span class="n">T</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="s">&quot;s/;+$//&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">gzip</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">all</span><span class="p">.</span><span class="n">lineage</span><span class="p">.</span><span class="n">tsv</span><span class="p">.</span><span class="n">gz</span><span class="w"> </span><span class="p">&#39;</span>

<span class="n">elapsed</span><span class="w"> </span><span class="kt">time</span><span class="o">:</span><span class="w"> </span><span class="mf">19.930</span><span class="n">s</span>
<span class="n">peak</span><span class="w"> </span><span class="nl">rss:</span><span class="w"> </span><span class="mf">6.25</span><span class="w"> </span><span class="n">GB</span>
</code></pre></div>

</li>
<li>
<p>From taxid to 7-ranks lineage:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>taxids.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat

<span class="c1"># for taxonkit v0.8.0 or later versions</span>
$<span class="w"> </span>cat<span class="w"> </span>taxids.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-I<span class="w"> </span><span class="m">1</span>
</code></pre></div>

</li>
<li>
<p>Some TaxIds have the same complete lineage, empty result is returned 
    by default. You can use the flag <code>-a/--output-ambiguous-result</code> to
    return one possible result. <a href="https://github.com/shenwei356/taxonkit/issues/42">see #42</a></p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="o">-</span><span class="n">ne</span><span class="w"> </span><span class="ss">&quot;2507530\n2516889\n&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="o">--</span><span class="k">data</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">reformat</span><span class="w"> </span><span class="o">--</span><span class="k">data</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span>
<span class="mi">19</span><span class="err">:</span><span class="mi">18</span><span class="err">:</span><span class="mf">29.770</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">can</span><span class="s1">&#39;t distinguish the TaxIds (2507530, 2516889) for lineage: cellular organisms;Eukaryota;Opisthokonta;Fungi;Dikarya;Basidiomycota;Agaricomycotina;Agaricomycetes;Agaricomycetes incertae sedis;Russulales;Russulaceae;Russula;unclassified Russula;Russula sp. 8 KA-2019. But you can use -a/--output-ambiguous-result to return one possible result</span>
<span class="s1">19:18:29.770 [WARN] we can&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">distinguish</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">TaxIds</span><span class="w"> </span><span class="p">(</span><span class="mi">2507530</span><span class="p">,</span><span class="w"> </span><span class="mi">2516889</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nl">lineage</span><span class="p">:</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Opisthokonta</span><span class="p">;</span><span class="n">Fungi</span><span class="p">;</span><span class="n">Dikarya</span><span class="p">;</span><span class="n">Basidiomycota</span><span class="p">;</span><span class="n">Agaricomycotina</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="w"> </span><span class="n">incertae</span><span class="w"> </span><span class="n">sedis</span><span class="p">;</span><span class="n">Russulales</span><span class="p">;</span><span class="n">Russulaceae</span><span class="p">;</span><span class="n">Russula</span><span class="p">;</span><span class="n">unclassified</span><span class="w"> </span><span class="n">Russula</span><span class="p">;</span><span class="n">Russula</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">KA</span><span class="o">-</span><span class="mf">2019.</span><span class="w"> </span><span class="n">But</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="o">/--</span><span class="k">output</span><span class="o">-</span><span class="n">ambiguous</span><span class="o">-</span><span class="k">result</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">possible</span><span class="w"> </span><span class="k">result</span>
<span class="mi">2507530</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Opisthokonta</span><span class="p">;</span><span class="n">Fungi</span><span class="p">;</span><span class="n">Dikarya</span><span class="p">;</span><span class="n">Basidiomycota</span><span class="p">;</span><span class="n">Agaricomycotina</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="w"> </span><span class="n">incertae</span><span class="w"> </span><span class="n">sedis</span><span class="p">;</span><span class="n">Russulales</span><span class="p">;</span><span class="n">Russulaceae</span><span class="p">;</span><span class="n">Russula</span><span class="p">;</span><span class="n">unclassified</span><span class="w"> </span><span class="n">Russula</span><span class="p">;</span><span class="n">Russula</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">KA</span><span class="o">-</span><span class="mi">2019</span>
<span class="mi">2516889</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Opisthokonta</span><span class="p">;</span><span class="n">Fungi</span><span class="p">;</span><span class="n">Dikarya</span><span class="p">;</span><span class="n">Basidiomycota</span><span class="p">;</span><span class="n">Agaricomycotina</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="w"> </span><span class="n">incertae</span><span class="w"> </span><span class="n">sedis</span><span class="p">;</span><span class="n">Russulales</span><span class="p">;</span><span class="n">Russulaceae</span><span class="p">;</span><span class="n">Russula</span><span class="p">;</span><span class="n">unclassified</span><span class="w"> </span><span class="n">Russula</span><span class="p">;</span><span class="n">Russula</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">KA</span><span class="o">-</span><span class="mi">2019</span>

<span class="err">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="o">-</span><span class="n">ne</span><span class="w"> </span><span class="ss">&quot;2507530\n2516889\n&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="o">--</span><span class="k">data</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">reformat</span><span class="w"> </span><span class="o">--</span><span class="k">data</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="o">-</span><span class="n">a</span>
<span class="mi">2507530</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Opisthokonta</span><span class="p">;</span><span class="n">Fungi</span><span class="p">;</span><span class="n">Dikarya</span><span class="p">;</span><span class="n">Basidiomycota</span><span class="p">;</span><span class="n">Agaricomycotina</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="w"> </span><span class="n">incertae</span><span class="w"> </span><span class="n">sedis</span><span class="p">;</span><span class="n">Russulales</span><span class="p">;</span><span class="n">Russulaceae</span><span class="p">;</span><span class="n">Russula</span><span class="p">;</span><span class="n">unclassified</span><span class="w"> </span><span class="n">Russula</span><span class="p">;</span><span class="n">Russula</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">KA</span><span class="o">-</span><span class="mi">2019</span><span class="w">     </span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Basidiomycota</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="p">;</span><span class="n">Russulales</span><span class="p">;</span><span class="n">Russulaceae</span><span class="p">;</span><span class="n">Russula</span><span class="p">;</span><span class="n">Russula</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">KA</span><span class="o">-</span><span class="mi">2019</span><span class="w">      </span><span class="mi">2759</span><span class="p">;</span><span class="mi">5204</span><span class="p">;</span><span class="mi">155619</span><span class="p">;</span><span class="mi">452342</span><span class="p">;</span><span class="mi">5401</span><span class="p">;</span><span class="mi">5402</span><span class="p">;</span><span class="mi">2507530</span>
<span class="mi">2516889</span><span class="w"> </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Opisthokonta</span><span class="p">;</span><span class="n">Fungi</span><span class="p">;</span><span class="n">Dikarya</span><span class="p">;</span><span class="n">Basidiomycota</span><span class="p">;</span><span class="n">Agaricomycotina</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="w"> </span><span class="n">incertae</span><span class="w"> </span><span class="n">sedis</span><span class="p">;</span><span class="n">Russulales</span><span class="p">;</span><span class="n">Russulaceae</span><span class="p">;</span><span class="n">Russula</span><span class="p">;</span><span class="n">unclassified</span><span class="w"> </span><span class="n">Russula</span><span class="p">;</span><span class="n">Russula</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">KA</span><span class="o">-</span><span class="mi">2019</span><span class="w">     </span><span class="n">Eukaryota</span><span class="p">;</span><span class="n">Basidiomycota</span><span class="p">;</span><span class="n">Agaricomycetes</span><span class="p">;</span><span class="n">Russulales</span><span class="p">;</span><span class="n">Russulaceae</span><span class="p">;</span><span class="n">Russula</span><span class="p">;</span><span class="n">Russula</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">KA</span><span class="o">-</span><span class="mi">2019</span><span class="w">      </span><span class="mi">2759</span><span class="p">;</span><span class="mi">5204</span><span class="p">;</span><span class="mi">155619</span><span class="p">;</span><span class="mi">452342</span><span class="p">;</span><span class="mi">5401</span><span class="p">;</span><span class="mi">5402</span><span class="p">;</span><span class="mi">2507530</span>
</code></pre></div>

</li>
</ol>
<h2 id="reformat2">reformat2<a class="headerlink" href="#reformat2" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Reformat lineage in chosen ranks, allowing more ranks than &#39;reformat&#39;

Input:

  - List of TaxIds, one record per line.
  - Or tab-delimited format.
    Please specify the TaxId field with flag -I/--taxid-field (default 1)
  - Supporting (gzipped) file or STDIN.

Output:

  1. Input line data.
  2. Reformated lineage.
  3. (Optional) TaxIds taxons in the lineage (-t/--show-lineage-taxids)

Output format:

  1. it can contain some escape characters like &quot;\t&quot;.
  2. For subspecies nodes, the rank might be &quot;subpecies&quot;, &quot;strain&quot;, or &quot;no rank&quot;.
     You can use &quot;|&quot; to set multiple ranks, and the first valid one will be outputted.
     For example,
       $ echo -ne &quot;562\n83333\n2697049\n&quot; \
          | taxonkit lineage -L -r \
          | taxonkit reformat2 -f &quot;{species};{strain|subspecies|no rank}&quot;
       562     species Escherichia coli;
       83333   strain  Escherichia coli;Escherichia coli K-12
       2697049 no rank Severe acute respiratory syndrome-related coronavirus;Severe acute respiratory syndrome coronavirus 2

Differences from &#39;taxonkit reformat&#39;:

  - [input] only accept TaxIDs
  - [format] accept more rank place holders, not just the seven canonical ones.
  - [format] use the full name of ranks, such as &quot;{species}&quot;, rather than &quot;{s}&quot;
  - [format] support multiple ranks in one place holder, such as &quot;{subspecies|strain}&quot;
  - do not automatically add prefixes, but you can set in the format

Usage:
  taxonkit reformat2 [flags] 

Flags:
  -f, --format string            output format, placeholders of rank are needed (default
                                 &quot;{superkingdom};{phylum};{class};{order};{family};{genus};{species}&quot;)
  -h, --help                     help for reformat2
  -r, --miss-rank-repl string    replacement string for missing rank
  -R, --miss-taxid-repl string   replacement string for missing taxid
  -B, --no-ranks strings         rank names of no-rank. A lineage might have many &quot;no rank&quot; ranks, we
                                 only keep the last one below known ranks (default [no rank,clade])
  -t, --show-lineage-taxids      show corresponding taxids of reformated lineage
  -I, --taxid-field int          field index of taxid. input data should be tab-separated. it overrides
                                 -i/--lineage-field (default 1)
  -T, --trim                     do not replace missing ranks lower than the rank of the current node
</code></pre></div>

<p>Examples</p>
<ol>
<li>
<p>Default format</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">562</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat2
<span class="m">562</span><span class="w">     </span>Bacteria<span class="p">;</span>Pseudomonadota<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>coli
</code></pre></div>

</li>
<li>
<p>Change the format</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">562</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat2<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;g__{genus}\ts__{species}&quot;</span>
<span class="m">562</span><span class="w">     </span>g__Escherichia<span class="w">  </span>s__Escherichia<span class="w"> </span>coli
</code></pre></div>

</li>
<li>
<p>Subspecies</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">511145</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage
<span class="m">511145</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Pseudomonadota<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="w"> </span>K-12<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="w"> </span>str.<span class="w"> </span>K-12<span class="w"> </span>substr.<span class="w"> </span>MG1655

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">511145</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w">  </span>-I<span class="w"> </span><span class="m">1</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;{k};{p};{c};{o};{f};{g};{s};{t}&quot;</span>
<span class="m">511145</span><span class="w">  </span>Bacteria<span class="p">;</span>Pseudomonadota<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="w"> </span>K-12

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">511145</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat2<span class="w"> </span>-I<span class="w"> </span><span class="m">1</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;{superkingdom};{phylum};{class};{order};{family};{genus};{species};{subspecies|strain|no rank}&quot;</span>
<span class="m">511145</span><span class="w">  </span>Bacteria<span class="p">;</span>Pseudomonadota<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="w"> </span>K-12
</code></pre></div>

</li>
<li>
<p>Trim</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">561</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat2<span class="w"> </span>-r<span class="w"> </span>unknown
<span class="m">561</span><span class="w">     </span>Bacteria<span class="p">;</span>Pseudomonadota<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>unknown

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">561</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat2<span class="w"> </span>-r<span class="w"> </span>unknown<span class="w"> </span>-T
<span class="m">561</span><span class="w">     </span>Bacteria<span class="p">;</span>Pseudomonadota<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>

<span class="c1"># -----------------------------------------------------------</span>
<span class="c1"># another example where the order rank is missing</span>

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">102403</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat2<span class="w"> </span>-I<span class="w"> </span><span class="m">1</span><span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;{superkingdom};{phylum};{class};{order};{family};{genus};{species}&quot;</span>
<span class="m">102403</span><span class="w">  </span>Eukaryota<span class="p">;</span>Mollusca<span class="p">;</span>Bivalvia<span class="p">;</span><span class="m">0</span><span class="p">;</span>Poromyidae<span class="p">;</span>Tropidomya<span class="p">;</span><span class="m">0</span>

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">102403</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat2<span class="w"> </span>-I<span class="w"> </span><span class="m">1</span><span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;{superkingdom};{phylum};{class};{order};{family};{genus};{species}&quot;</span><span class="w"> </span>-T
<span class="m">102403</span><span class="w">  </span>Eukaryota<span class="p">;</span>Mollusca<span class="p">;</span>Bivalvia<span class="p">;</span><span class="m">0</span><span class="p">;</span>Poromyidae<span class="p">;</span>Tropidomya<span class="p">;</span>

<span class="c1"># and now, the lowest rank in the output format is order, but the tailing &quot;0&quot; is not trimmed.</span>

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">102403</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat2<span class="w"> </span>-I<span class="w"> </span><span class="m">1</span><span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;{superkingdom};{phylum};{class};{order}&quot;</span>
<span class="m">102403</span><span class="w">  </span>Eukaryota<span class="p">;</span>Mollusca<span class="p">;</span>Bivalvia<span class="p">;</span><span class="m">0</span>

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">102403</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat2<span class="w"> </span>-I<span class="w"> </span><span class="m">1</span><span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;{superkingdom};{phylum};{class};{order}&quot;</span><span class="w"> </span>-T
<span class="m">102403</span><span class="w">  </span>Eukaryota<span class="p">;</span>Mollusca<span class="p">;</span>Bivalvia<span class="p">;</span><span class="m">0</span>
</code></pre></div>

</li>
</ol>
<h2 id="name2taxid">name2taxid<a class="headerlink" href="#name2taxid" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Convert taxon names to TaxIds

Attention:

  1. Some TaxIds share the same names, e.g, Drosophila.
     These input lines are duplicated with multiple TaxIds.

    $ echo Drosophila | taxonkit name2taxid | taxonkit lineage -i 2 -r -L
    Drosophila      7215    genus
    Drosophila      32281   subgenus
    Drosophila      2081351 genus

Usage:
  taxonkit name2taxid [flags]

Flags:
  -h, --help             help for name2taxid
  -i, --name-field int   field index of name. data should be tab-separated (default 1)
  -s, --sci-name         only searching scientific names
  -r, --show-rank        show rank
</code></pre></div>

<p>Examples</p>
<p>Example data</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>names.txt
Homo<span class="w"> </span>sapiens
Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835
Akkermansia<span class="w"> </span>muciniphila
Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle
Wei<span class="w"> </span>Shen
uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B
Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y
</code></pre></div>

<ol>
<li>
<p>Default.</p>
<div class="codehilite"><pre><span></span><code># taxonkit name2taxid names.txt
$ cat names.txt | taxonkit name2taxid | csvtk pretty -H -t
Homo sapiens                                      9606
Akkermansia muciniphila ATCC BAA-835              349741
Akkermansia muciniphila                           239935
Mouse Intracisternal A-particle                   11932
Wei Shen                                          
uncultured murine large bowel bacterium BAC 54B   314101
Croceibacter phage P2559Y                         1327037
</code></pre></div>

</li>
<li>
<p>Show rank.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>names.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>name2taxid<span class="w"> </span>--show-rank<span class="w"> </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t
Homo<span class="w"> </span>sapiens<span class="w">                                      </span><span class="m">9606</span><span class="w">      </span>species
Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835<span class="w">              </span><span class="m">349741</span><span class="w">    </span>strain
Akkermansia<span class="w"> </span>muciniphila<span class="w">                           </span><span class="m">239935</span><span class="w">    </span>species
Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle<span class="w">                   </span><span class="m">11932</span><span class="w">     </span>species
Wei<span class="w"> </span>Shen<span class="w">                                                    </span>
uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B<span class="w">   </span><span class="m">314101</span><span class="w">    </span>species
Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y<span class="w">                         </span><span class="m">1327037</span><span class="w">   </span>species
</code></pre></div>

</li>
<li>
<p>From name to lineage.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>names.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>name2taxid<span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>--taxid-field<span class="w"> </span><span class="m">2</span>
Homo<span class="w"> </span>sapiens<span class="w">    </span><span class="m">9606</span><span class="w">    </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Eukaryota<span class="p">;</span>Opisthokonta<span class="p">;</span>Metazoa<span class="p">;</span>Eumetazoa<span class="p">;</span>Bilateria<span class="p">;</span>Deuterostomia<span class="p">;</span>Chordata<span class="p">;</span>Craniata<span class="p">;</span>Vertebrata<span class="p">;</span>Gnathostomata<span class="p">;</span>Teleostomi<span class="p">;</span>Euteleostomi<span class="p">;</span>Sarcopterygii<span class="p">;</span>Dipnotetrapodomorpha<span class="p">;</span>Tetrapoda<span class="p">;</span>Amniota<span class="p">;</span>Mammalia<span class="p">;</span>Theria<span class="p">;</span>Eutheria<span class="p">;</span>Boreoeutheria<span class="p">;</span>Euarchontoglires<span class="p">;</span>Primates<span class="p">;</span>Haplorrhini<span class="p">;</span>Simiiformes<span class="p">;</span>Catarrhini<span class="p">;</span>Hominoidea<span class="p">;</span>Hominidae<span class="p">;</span>Homininae<span class="p">;</span>Homo<span class="p">;</span>Homo<span class="w"> </span>sapiens
Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835<span class="w">    </span><span class="m">349741</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835
Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span><span class="m">239935</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila
Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle<span class="w"> </span><span class="m">11932</span><span class="w">   </span>Viruses<span class="p">;</span>Ortervirales<span class="p">;</span>Retroviridae<span class="p">;</span>unclassified<span class="w"> </span>Retroviridae<span class="p">;</span>Intracisternal<span class="w"> </span>A-particles<span class="p">;</span>Mouse<span class="w"> </span>Intracisternal<span class="w"> </span>A-particle
Wei<span class="w"> </span>Shen
uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B<span class="w"> </span><span class="m">314101</span><span class="w">  </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>environmental<span class="w"> </span>samples<span class="p">;</span>uncultured<span class="w"> </span>murine<span class="w"> </span>large<span class="w"> </span>bowel<span class="w"> </span>bacterium<span class="w"> </span>BAC<span class="w"> </span>54B
Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y<span class="w">       </span><span class="m">1327037</span><span class="w"> </span>Viruses<span class="p">;</span>Caudovirales<span class="p">;</span>Siphoviridae<span class="p">;</span>unclassified<span class="w"> </span>Siphoviridae<span class="p">;</span>Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y
</code></pre></div>

</li>
<li>
<p>Convert old names to new names.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>Lactobacillus<span class="w"> </span>fermentum<span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>name2taxid<span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-i<span class="w"> </span><span class="m">2</span><span class="w"> </span>-n<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,2,4
Lactobacillus<span class="w"> </span>fermentum<span class="w"> </span><span class="m">1613</span><span class="w">    </span>Limosilactobacillus<span class="w"> </span>fermentum
</code></pre></div>

</li>
<li>
<p><strong>Some TaxIds share the same scientific names</strong>, e.g, Drosophila.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>Drosophila<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>name2taxid<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-i<span class="w"> </span><span class="m">2</span><span class="w"> </span>-r<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>reformat<span class="w"> </span>-i<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>cut<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,2,4,5<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t
Drosophila<span class="w">   </span><span class="m">7215</span><span class="w">      </span>genus<span class="w">      </span>Eukaryota<span class="p">;</span>Arthropoda<span class="p">;</span>Insecta<span class="p">;</span>Diptera<span class="p">;</span>Drosophilidae<span class="p">;</span>Drosophila<span class="p">;</span>
Drosophila<span class="w">   </span><span class="m">32281</span><span class="w">     </span>subgenus<span class="w">   </span>Eukaryota<span class="p">;</span>Arthropoda<span class="p">;</span>Insecta<span class="p">;</span>Diptera<span class="p">;</span>Drosophilidae<span class="p">;</span>Drosophila<span class="p">;</span>
Drosophila<span class="w">   </span><span class="m">2081351</span><span class="w">   </span>genus<span class="w">      </span>Eukaryota<span class="p">;</span>Basidiomycota<span class="p">;</span>Agaricomycetes<span class="p">;</span>Agaricales<span class="p">;</span>Psathyrellaceae<span class="p">;</span>Drosophila<span class="p">;</span>
</code></pre></div>

</li>
</ol>
<h2 id="filter">filter<a class="headerlink" href="#filter" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Filter TaxIds by taxonomic rank range

Attention:

  1. Flag -L/--lower-than and -H/--higher-than are exclusive, and can be
     used along with -E/--equal-to which values can be different.
  2. A list of pre-ordered ranks is in ~/.taxonkit/ranks.txt, you can use
     your list by -r/--rank-file, the format specification is below.
  3. All ranks in taxonomy database should be defined in rank file.
  4. Ranks can be removed with black list via -B/--black-list.

  5. TaxIDs with no rank are kept by default!!!
     They can be optionally discarded by -N/--discard-noranks.
  6. [Recommended] When filtering with -L/--lower-than, you can use
    -n/--save-predictable-norank to save some special ranks without order,
    where rank of the closest higher node is still lower than rank cutoff.

Rank file:

  1. Blank lines or lines starting with &quot;#&quot; are ignored.
  2. Ranks are in decending order and case ignored.
  3. Ranks with same order should be in one line separated with comma (&quot;,&quot;, no space).
  4. Ranks without order should be assigned a prefix symbol &quot;!&quot; for each rank.

Usage:
  taxonkit filter [flags]

Flags:
  -B, --black-list strings        black list of ranks to discard, e.g., &#39;-B &quot;no rank&quot; -B &quot;clade&quot;
  -N, --discard-noranks           discard all ranks without order, type &quot;taxonkit filter --help&quot; for details
  -R, --discard-root              discard root taxid, defined by --root-taxid
  -E, --equal-to strings          output TaxIds with rank equal to some ranks, multiple values can be
                                  separated with comma &quot;,&quot; (e.g., -E &quot;genus,species&quot;), or give multiple
                                  times (e.g., -E genus -E species)
  -h, --help                      help for filter
  -H, --higher-than string        output TaxIds with rank higher than a rank, exclusive with --lower-than
      --list-order                list user defined ranks in order, from &quot;$HOME/.taxonkit/ranks.txt&quot;
      --list-ranks                list ordered ranks in taxonomy database, sorted in user defined order
  -L, --lower-than string         output TaxIds with rank lower than a rank, exclusive with --higher-than
  -r, --rank-file string          user-defined ordered taxonomic ranks, type &quot;taxonkit filter --help&quot;
                                  for details
      --root-taxid uint32         root taxid (default 1)
  -n, --save-predictable-norank   do not discard some special ranks without order when using -L, where
                                  rank of the closest higher node is still lower than rank cutoff
  -i, --taxid-field int           field index of taxid. input data should be tab-separated (default 1)
</code></pre></div>

<p>Examples</p>
<ol>
<li>
<p>Example data</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">349741</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-t<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/;/\n/g&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>taxids2.txt

$<span class="w"> </span>cat<span class="w"> </span>taxids2.txt
<span class="m">131567</span>
<span class="m">2</span>
<span class="m">1783257</span>
<span class="m">74201</span>
<span class="m">203494</span>
<span class="m">48461</span>
<span class="m">1647988</span>
<span class="m">239934</span>
<span class="m">239935</span>
<span class="m">349741</span>

$<span class="w"> </span>cat<span class="w"> </span>taxids2.txt<span class="w">  </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-r<span class="w"> </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-Ht<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3,2<span class="w"> </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t
<span class="m">131567</span><span class="w">    </span>no<span class="w"> </span>rank<span class="w">        </span>cellular<span class="w"> </span>organisms
<span class="m">2</span><span class="w">         </span>superkingdom<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria
<span class="m">1783257</span><span class="w">   </span>clade<span class="w">          </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group
<span class="m">74201</span><span class="w">     </span>phylum<span class="w">         </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia
<span class="m">203494</span><span class="w">    </span>class<span class="w">          </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae
<span class="m">48461</span><span class="w">     </span>order<span class="w">          </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales
<span class="m">1647988</span><span class="w">   </span>family<span class="w">         </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae
<span class="m">239934</span><span class="w">    </span>genus<span class="w">          </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia
<span class="m">239935</span><span class="w">    </span>species<span class="w">        </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila
<span class="m">349741</span><span class="w">    </span>strain<span class="w">         </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae<span class="p">;</span>Verrucomicrobiales<span class="p">;</span>Akkermansiaceae<span class="p">;</span>Akkermansia<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila<span class="p">;</span>Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835
</code></pre></div>

</li>
<li>
<p>Equal to certain rank(s) (<code>-E/--equal-to</code>)</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>taxids2.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>filter<span class="w"> </span>-E<span class="w"> </span>Phylum<span class="w"> </span>-E<span class="w"> </span>Class<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-r<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-Ht<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3,2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t
<span class="m">74201</span><span class="w">    </span>phylum<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia
<span class="m">203494</span><span class="w">   </span>class<span class="w">    </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>PVC<span class="w"> </span>group<span class="p">;</span>Verrucomicrobia<span class="p">;</span>Verrucomicrobiae
</code></pre></div>

</li>
<li>
<p>Lower than a rank (<code>-L/--lower-than</code>)</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>taxids2.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>filter<span class="w"> </span>-L<span class="w"> </span>genus<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-r<span class="w"> </span>-n<span class="w"> </span>-L<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-Ht<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3,2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t
<span class="m">239935</span><span class="w">   </span>species<span class="w">   </span>Akkermansia<span class="w"> </span>muciniphila
<span class="m">349741</span><span class="w">   </span>strain<span class="w">    </span>Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835
</code></pre></div>

</li>
<li>
<p>Higher than a rank (<code>-H/--higher-than</code>)</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>taxids2.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>filter<span class="w"> </span>-H<span class="w"> </span>phylum<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-r<span class="w"> </span>-n<span class="w"> </span>-L<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>-Ht<span class="w"> </span>cut<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3,2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t
<span class="m">2</span><span class="w">   </span>superkingdom<span class="w">   </span>Bacteria
</code></pre></div>

</li>
<li>
<p>TaxIDs with no rank are kept by default!!!
  "no rank" and "clade" have no rank and can be filter out via <code>-N/--discard-noranks</code>.
  Futher ranks can be removed with black list via <code>-B/--black-list</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="mi">562</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">TaxId</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">Escherichia</span><span class="w"> </span><span class="nx">coli</span>
<span class="err">$</span><span class="w"> </span><span class="nx">taxonkit</span><span class="w"> </span><span class="nx">list</span><span class="w"> </span><span class="o">--</span><span class="nx">ids</span><span class="w"> </span><span class="mi">562</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nx">taxonkit</span><span class="w"> </span><span class="nx">filter</span><span class="w"> </span><span class="o">-</span><span class="nx">L</span><span class="w"> </span><span class="nx">species</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nx">taxonkit</span><span class="w"> </span><span class="nx">lineage</span><span class="w"> </span><span class="o">-</span><span class="nx">r</span><span class="w"> </span><span class="o">-</span><span class="nx">n</span><span class="w"> </span><span class="o">-</span><span class="nx">L</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nx">csvtk</span><span class="w"> </span><span class="nx">cut</span><span class="w"> </span><span class="o">-</span><span class="nx">Ht</span><span class="w"> </span><span class="o">-</span><span class="nx">f</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nx">csvtk</span><span class="w"> </span><span class="nx">freq</span><span class="w"> </span><span class="o">-</span><span class="nx">Ht</span><span class="w"> </span><span class="o">-</span><span class="nx">f</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="nx">nr</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nx">csvtk</span><span class="w"> </span><span class="nx">pretty</span><span class="w"> </span><span class="o">-</span><span class="nx">H</span><span class="w"> </span><span class="o">-</span><span class="nx">t</span>
<span class="nx">strain</span><span class="w">       </span><span class="mi">2950</span>
<span class="nx">no</span><span class="w"> </span><span class="nx">rank</span><span class="w">      </span><span class="mi">149</span>
<span class="nx">serotype</span><span class="w">     </span><span class="mi">141</span>
<span class="nx">serogroup</span><span class="w">    </span><span class="mi">95</span>
<span class="nx">isolate</span><span class="w">      </span><span class="mi">1</span>
<span class="nx">subspecies</span><span class="w">   </span><span class="mi">1</span>

<span class="err">$</span><span class="w"> </span><span class="nx">taxonkit</span><span class="w"> </span><span class="nx">list</span><span class="w"> </span><span class="o">--</span><span class="nx">ids</span><span class="w"> </span><span class="mi">562</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nx">taxonkit</span><span class="w"> </span><span class="nx">filter</span><span class="w"> </span><span class="o">-</span><span class="nx">L</span><span class="w"> </span><span class="nx">species</span><span class="w"> </span><span class="o">-</span><span class="nx">N</span><span class="w"> </span><span class="o">-</span><span class="nx">B</span><span class="w"> </span><span class="nx">strain</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nx">taxonkit</span><span class="w"> </span><span class="nx">lineage</span><span class="w"> </span><span class="o">-</span><span class="nx">r</span><span class="w"> </span><span class="o">-</span><span class="nx">n</span><span class="w"> </span><span class="o">-</span><span class="nx">L</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nx">csvtk</span><span class="w"> </span><span class="nx">cut</span><span class="w"> </span><span class="o">-</span><span class="nx">Ht</span><span class="w"> </span><span class="o">-</span><span class="nx">f</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nx">csvtk</span><span class="w"> </span><span class="nx">freq</span><span class="w"> </span><span class="o">-</span><span class="nx">Ht</span><span class="w"> </span><span class="o">-</span><span class="nx">f</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="nx">nr</span><span class="w"> </span>\
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nx">csvtk</span><span class="w"> </span><span class="nx">pretty</span><span class="w"> </span><span class="o">-</span><span class="nx">H</span><span class="w"> </span><span class="o">-</span><span class="nx">t</span>
<span class="nx">serotype</span><span class="w">     </span><span class="mi">141</span>
<span class="nx">serogroup</span><span class="w">    </span><span class="mi">95</span>
<span class="nx">isolate</span><span class="w">      </span><span class="mi">1</span>
<span class="nx">subspecies</span><span class="w">   </span><span class="mi">1</span>
</code></pre></div>

</li>
<li>
<p>Combine of <code>-L/-H</code> with <code>-E</code>.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>taxids2.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>filter<span class="w"> </span>-L<span class="w"> </span>genus<span class="w"> </span>-E<span class="w"> </span>genus<span class="w">  </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-r<span class="w"> </span>-n<span class="w"> </span>-L<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>cut<span class="w"> </span>-Ht<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3,2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t
<span class="m">239934</span><span class="w">   </span>genus<span class="w">     </span>Akkermansia
<span class="m">239935</span><span class="w">   </span>species<span class="w">   </span>Akkermansia<span class="w"> </span>muciniphila
<span class="m">349741</span><span class="w">   </span>strain<span class="w">    </span>Akkermansia<span class="w"> </span>muciniphila<span class="w"> </span>ATCC<span class="w"> </span>BAA-835
</code></pre></div>

</li>
<li>
<p><strong>Special cases of "no rank"</strong>. (<code>-n/--save-predictable-norank</code>).
    When filtering with <code>-L/--lower-than</code>, you can use
    <code>-n/--save-predictable-norank</code> to save some special ranks without order,
    where rank of the closest higher node is still lower than rank cutoff.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-ne<span class="w"> </span><span class="s2">&quot;2605619\n1327037\n&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-t<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>cut<span class="w"> </span>-Ht<span class="w"> </span>-f<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>unfold<span class="w"> </span>-Ht<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span><span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-r<span class="w"> </span>-n<span class="w"> </span>-L<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>cut<span class="w"> </span>-Ht<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3,2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t<span class="w"> </span>
<span class="m">131567</span><span class="w">    </span>no<span class="w"> </span>rank<span class="w">        </span>cellular<span class="w"> </span>organisms
<span class="m">2</span><span class="w">         </span>superkingdom<span class="w">   </span>Bacteria
<span class="m">1224</span><span class="w">      </span>phylum<span class="w">         </span>Proteobacteria
<span class="m">1236</span><span class="w">      </span>class<span class="w">          </span>Gammaproteobacteria
<span class="m">91347</span><span class="w">     </span>order<span class="w">          </span>Enterobacterales
<span class="m">543</span><span class="w">       </span>family<span class="w">         </span>Enterobacteriaceae
<span class="m">561</span><span class="w">       </span>genus<span class="w">          </span>Escherichia
<span class="m">562</span><span class="w">       </span>species<span class="w">        </span>Escherichia<span class="w"> </span>coli
<span class="m">2605619</span><span class="w">   </span>no<span class="w"> </span>rank<span class="w">        </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>O16:H48

<span class="m">10239</span><span class="w">     </span>superkingdom<span class="w">   </span>Viruses
<span class="m">2731341</span><span class="w">   </span>clade<span class="w">          </span>Duplodnaviria
<span class="m">2731360</span><span class="w">   </span>clade<span class="w">          </span>Heunggongvirae
<span class="m">2731618</span><span class="w">   </span>phylum<span class="w">         </span>Uroviricota
<span class="m">2731619</span><span class="w">   </span>class<span class="w">          </span>Caudoviricetes
<span class="m">28883</span><span class="w">     </span>order<span class="w">          </span>Caudovirales
<span class="m">10699</span><span class="w">     </span>family<span class="w">         </span>Siphoviridae
<span class="m">196894</span><span class="w">    </span>no<span class="w"> </span>rank<span class="w">        </span>unclassified<span class="w"> </span>Siphoviridae
<span class="m">1327037</span><span class="w">   </span>species<span class="w">        </span>Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y

<span class="c1"># save taxids</span>
$<span class="w">  </span><span class="nb">echo</span><span class="w"> </span>-ne<span class="w"> </span><span class="s2">&quot;2605619\n1327037\n&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-t<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>cut<span class="w"> </span>-Ht<span class="w"> </span>-f<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>unfold<span class="w"> </span>-Ht<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span><span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>taxids4.txt
<span class="m">131567</span>
<span class="m">2</span>
<span class="m">1224</span>
<span class="m">1236</span>
<span class="m">91347</span>
<span class="m">543</span>
<span class="m">561</span>
<span class="m">562</span>
<span class="m">2605619</span>
<span class="m">10239</span>
<span class="m">2731341</span>
<span class="m">2731360</span>
<span class="m">2731618</span>
<span class="m">2731619</span>
<span class="m">28883</span>
<span class="m">10699</span>
<span class="m">196894</span>
<span class="m">1327037</span>
</code></pre></div>

<p>Now, filter nodes of rank &lt;= species.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>taxids4.txt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>filter<span class="w"> </span>-L<span class="w"> </span>species<span class="w"> </span>-E<span class="w"> </span>species<span class="w"> </span>-N<span class="w"> </span>-n<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lineage<span class="w"> </span>-r<span class="w"> </span>-n<span class="w"> </span>-L<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>cut<span class="w"> </span>-Ht<span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>,3,2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty<span class="w"> </span>-H<span class="w"> </span>-t
<span class="m">562</span><span class="w">       </span>species<span class="w">   </span>Escherichia<span class="w"> </span>coli
<span class="m">2605619</span><span class="w">   </span>no<span class="w"> </span>rank<span class="w">   </span>Escherichia<span class="w"> </span>coli<span class="w"> </span>O16:H48
<span class="m">1327037</span><span class="w">   </span>species<span class="w">   </span>Croceibacter<span class="w"> </span>phage<span class="w"> </span>P2559Y
</code></pre></div>

<p>Note that 2605619 (no rank) is saved because its parent node 562 is &lt;= species.</p>
</li>
</ol>
<h2 id="lca">lca<a class="headerlink" href="#lca" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Compute lowest common ancestor (LCA) for TaxIds

Attention:

  1. This command computes LCA TaxId for a list of TaxIds 
     in a field (&quot;-i/--taxids-field) of tab-delimited file or STDIN.
  2. TaxIDs should have the same separator (&quot;-s/--separator&quot;),
     single charactor separator is prefered.
  3. Empty lines or lines without valid TaxIds in the field are omitted.
  4. If some TaxIds are not found in database, it returns 0.

Examples:

    $ echo 239934, 239935, 349741 | taxonkit lca  -s &quot;, &quot;
    239934, 239935, 349741  239934

    $ time echo 239934  239935  349741 9606  | taxonkit lca
    239934 239935 349741 9606       131567

Usage:
  taxonkit lca [flags] 

Flags:
  -b, --buffer-size string   size of line buffer, supported unit: K, M, G. You need to increase the
                             value when &quot;bufio.Scanner: token too long&quot; error occured (default &quot;1M&quot;)
  -h, --help                 help for lca
      --separater string     separater for TaxIds. This flag is same to --separator. (default &quot; &quot;)
  -s, --separator string     separator for TaxIds (default &quot; &quot;)
  -D, --skip-deleted         skip deleted TaxIds and compute with left ones
  -U, --skip-unfound         skip unfound TaxIds and compute with left ones
  -i, --taxids-field int     field index of TaxIds. Input data should be tab-separated (default 1)
</code></pre></div>

<p>Examples:</p>
<ol>
<li>
<p>Example data</p>
<div class="codehilite"><pre><span></span><code><span class="n">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mi">9605</span><span class="w"> </span><span class="o">-</span><span class="n">nr</span><span class="w"> </span><span class="o">--</span><span class="n">indent</span><span class="w"> </span><span class="s">&quot;    &quot;</span>
<span class="mi">9605</span><span class="w"> </span><span class="p">[</span><span class="n">genus</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span>
<span class="w">    </span><span class="mi">9606</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span><span class="w"> </span><span class="n">sapiens</span>
<span class="w">        </span><span class="mi">63221</span><span class="w"> </span><span class="p">[</span><span class="n">subspecies</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span><span class="w"> </span><span class="n">sapiens</span><span class="w"> </span><span class="n">neanderthalensis</span>
<span class="w">        </span><span class="mi">741158</span><span class="w"> </span><span class="p">[</span><span class="n">subspecies</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span><span class="w"> </span><span class="n">sapiens</span><span class="w"> </span><span class="n">subsp</span><span class="p">.</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Denisova</span><span class="err">&#39;</span>
<span class="w">    </span><span class="mi">1425170</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span><span class="w"> </span><span class="n">heidelbergensis</span>
<span class="w">    </span><span class="mi">2665952</span><span class="w"> </span><span class="p">[</span><span class="n">no</span><span class="w"> </span><span class="n">rank</span><span class="p">]</span><span class="w"> </span><span class="n">environmental</span><span class="w"> </span><span class="n">samples</span>
<span class="w">        </span><span class="mi">2665953</span><span class="w"> </span><span class="p">[</span><span class="n">species</span><span class="p">]</span><span class="w"> </span><span class="n">Homo</span><span class="w"> </span><span class="n">sapiens</span><span class="w"> </span><span class="n">environmental</span><span class="w"> </span><span class="n">sample</span>
</code></pre></div>

</li>
<li>
<p>Simple one</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">63221</span><span class="w"> </span><span class="m">2665953</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lca
<span class="m">63221</span><span class="w"> </span><span class="m">2665953</span><span class="w">   </span><span class="m">9605</span>
</code></pre></div>

</li>
<li>
<p>Custom field (<code>-i/--taxids-field</code>) and separater (<code>-s/--separator</code>).</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-ne<span class="w"> </span><span class="s2">&quot;a\t63221,2665953\nb\t63221, 741158\n&quot;</span>
a<span class="w">       </span><span class="m">63221</span>,2665953
b<span class="w">       </span><span class="m">63221</span>,<span class="w"> </span><span class="m">741158</span>

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-ne<span class="w"> </span><span class="s2">&quot;a\t63221,2665953\nb\t63221, 741158\n&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>taxonkit<span class="w"> </span>lca<span class="w"> </span>-i<span class="w"> </span><span class="m">2</span><span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;,&quot;</span>
a<span class="w">       </span><span class="m">63221</span>,2665953<span class="w">   </span><span class="m">9605</span>
b<span class="w">       </span><span class="m">63221</span>,<span class="w"> </span><span class="m">741158</span><span class="w">   </span><span class="m">9606</span>
</code></pre></div>

</li>
<li>
<p>Merged TaxIds.</p>
<div class="codehilite"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">merged</span>
<span class="err">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="mi">92487</span><span class="w"> </span><span class="mi">92488</span><span class="w"> </span><span class="mi">92489</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lca</span>
<span class="mi">10</span><span class="err">:</span><span class="mi">08</span><span class="err">:</span><span class="mf">26.578</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="mi">92489</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">merged</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="mi">796334</span>
<span class="mi">92487</span><span class="w"> </span><span class="mi">92488</span><span class="w"> </span><span class="mi">92489</span><span class="w">       </span><span class="mi">1236</span>
</code></pre></div>

</li>
<li>
<p>Deleted TaxIds, you can ommit theses and continue compute with left onces with (<code>-D/--skip-deleted</code>).</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lca</span><span class="w"> </span>
<span class="mi">10</span><span class="err">:</span><span class="mi">30</span><span class="err">:</span><span class="mf">17.678</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">found</span>
<span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="mi">0</span>

<span class="err">$</span><span class="w"> </span><span class="nc">time</span><span class="w">  </span><span class="n">echo</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lca</span><span class="w"> </span><span class="o">-</span><span class="n">D</span>
<span class="mi">10</span><span class="err">:</span><span class="mi">29</span><span class="err">:</span><span class="mf">31.828</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">deleted</span>
<span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="mi">1</span>
</code></pre></div>

</li>
<li>
<p>TaxIDs not found in database, you can ommit theses and continue compute with left onces with (<code>-U/--skip-unfound</code>).</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="mi">61021</span><span class="w"> </span><span class="mi">61022</span><span class="w"> </span><span class="mi">11111111</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lca</span>
<span class="mi">10</span><span class="err">:</span><span class="mi">31</span><span class="err">:</span><span class="mf">44.929</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="mi">11111111</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">found</span>
<span class="mi">61021</span><span class="w"> </span><span class="mi">61022</span><span class="w"> </span><span class="mi">11111111</span><span class="w">    </span><span class="mi">0</span>

<span class="err">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="mi">61021</span><span class="w"> </span><span class="mi">61022</span><span class="w"> </span><span class="mi">11111111</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lca</span><span class="w"> </span><span class="o">-</span><span class="n">U</span>
<span class="mi">10</span><span class="err">:</span><span class="mi">32</span><span class="err">:</span><span class="mf">02.772</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="mi">11111111</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">found</span>
<span class="mi">61021</span><span class="w"> </span><span class="mi">61022</span><span class="w"> </span><span class="mi">11111111</span><span class="w">    </span><span class="mi">2628496</span>
</code></pre></div>

</li>
</ol>
<h2 id="taxid-changelog">taxid-changelog<a class="headerlink" href="#taxid-changelog" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Create TaxId changelog from dump archives

Attention:
  1. This command was originally designed for NCBI taxonomy, where the the TaxIds are stable.
  2. For other taxonomic data created by &quot;taxonkit create-taxdump&quot;, e.g., GTDB-taxdump,
    some change events might be wrong, because
     a) There would be dramatic changes between the two versions.
     b) Different taxons in multiple versions might have the same TaxIds, because we only
        check and eliminate taxid collision within a single version.
     So a single version of taxonomic data created by &quot;taxonkit create-taxdump&quot; has no problem,
     it&#39;s just the changelog might not be perfect.

Steps:

    # dependencies:
    #   rush - https://github.com/shenwei356/rush/

    mkdir -p archive; cd archive;

    # --------- download ---------

    # option 1
    # for fast network connection
    wget ftp://ftp.ncbi.nlm.nih.gov/pub/taxonomy/taxdump_archive/taxdmp*.zip

    # option 2
    # for slow network connection
    url=https://ftp.ncbi.nlm.nih.gov/pub/taxonomy/taxdump_archive/
    wget $url -O - -o /dev/null \
        | grep taxdmp | perl -ne &#39;/(taxdmp_.+?.zip)/; print &quot;$1\n&quot;;&#39; \
        | rush -j 2 -v url=$url &#39;axel -n 5 {url}/{}&#39; \
            --immediate-output  -c -C download.rush

    # --------- unzip ---------

    ls taxdmp*.zip | rush -j 1 &#39;unzip {} names.dmp nodes.dmp merged.dmp delnodes.dmp -d {@_(.+)\.}&#39;

    # optionally compress .dmp files with pigz, for saving disk space
    fd .dmp$ | rush -j 4 &#39;pigz {}&#39;

    # --------- create log ---------

    cd ..
    taxonkit taxid-changelog -i archive -o taxid-changelog.csv.gz --verbose

Output format (CSV):

    # fields        comments
    taxid           # taxid
    version         # version / time of archive, e.g, 2019-07-01
    change          # change, values:
                    #   NEW             newly added
                    #   REUSE_DEL       deleted taxids being reused
                    #   REUSE_MER       merged taxids being reused
                    #   DELETE          deleted
                    #   MERGE           merged into another taxid
                    #   ABSORB          other taxids merged into this one
                    #   CHANGE_NAME     scientific name changed
                    #   CHANGE_RANK     rank changed
                    #   CHANGE_LIN_LIN  lineage taxids remain but lineage remain
                    #   CHANGE_LIN_TAX  lineage taxids changed
                    #   CHANGE_LIN_LEN  lineage length changed
    change-value    # variable values for changes: 
                    #   1) new taxid for MERGE
                    #   2) merged taxids for ABSORB
                    #   3) empty for others
    name            # scientific name
    rank            # rank
    lineage         # complete lineage of the taxid
    lineage-taxids  # taxids of the lineage

    # you can use csvtk to investigate them. e.g.,
    csvtk grep -f taxid -p 1390515 taxid-changelog.csv.gz

Usage:
  taxonkit taxid-changelog [flags]

Flags:
  -i, --archive string   directory containing uncompressed dumped archives
  -h, --help             help for taxid-changelog
</code></pre></div>

<p><a href="https://github.com/shenwei356/taxid-changelog">Details</a></p>
<ol>
<li>
<p>Example 1  (<em>E.coli</em> with taxid <code>562</code>)</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>pigz<span class="w"> </span>-cd<span class="w"> </span>taxid-changelog.csv.gz<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>grep<span class="w"> </span>-f<span class="w"> </span>taxid<span class="w"> </span>-p<span class="w"> </span><span class="m">562</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty
taxid<span class="w">   </span>version<span class="w">      </span>change<span class="w">           </span>change-value<span class="w">    </span>name<span class="w">               </span>rank<span class="w">      </span>lineage<span class="w">                                                                                                                            </span>lineage-taxids
<span class="m">562</span><span class="w">     </span><span class="m">2014</span>-08-01<span class="w">   </span>NEW<span class="w">                              </span>Escherichia<span class="w"> </span>coli<span class="w">   </span>species<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacteriales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="w">   </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">543</span><span class="p">;</span><span class="m">561</span><span class="p">;</span><span class="m">562</span>
<span class="m">562</span><span class="w">     </span><span class="m">2014</span>-08-01<span class="w">   </span>ABSORB<span class="w">           </span><span class="m">662101</span><span class="p">;</span><span class="m">662104</span><span class="w">   </span>Escherichia<span class="w"> </span>coli<span class="w">   </span>species<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacteriales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="w">   </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">543</span><span class="p">;</span><span class="m">561</span><span class="p">;</span><span class="m">562</span>
<span class="m">562</span><span class="w">     </span><span class="m">2015</span>-11-01<span class="w">   </span>ABSORB<span class="w">           </span><span class="m">1637691</span><span class="w">         </span>Escherichia<span class="w"> </span>coli<span class="w">   </span>species<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacteriales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="w">   </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">543</span><span class="p">;</span><span class="m">561</span><span class="p">;</span><span class="m">562</span>
<span class="m">562</span><span class="w">     </span><span class="m">2016</span>-10-01<span class="w">   </span>CHANGE_LIN_LIN<span class="w">                   </span>Escherichia<span class="w"> </span>coli<span class="w">   </span>species<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="w">    </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">543</span><span class="p">;</span><span class="m">561</span><span class="p">;</span><span class="m">562</span>
<span class="m">562</span><span class="w">     </span><span class="m">2018</span>-06-01<span class="w">   </span>ABSORB<span class="w">           </span><span class="m">469598</span><span class="w">          </span>Escherichia<span class="w"> </span>coli<span class="w">   </span>species<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>coli<span class="w">    </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">543</span><span class="p">;</span><span class="m">561</span><span class="p">;</span><span class="m">562</span>

<span class="c1"># merged taxids</span>
$<span class="w"> </span>pigz<span class="w"> </span>-cd<span class="w"> </span>taxid-changelog.csv.gz<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>grep<span class="w"> </span>-f<span class="w"> </span>taxid<span class="w"> </span>-p<span class="w"> </span><span class="m">662101</span>,662104,1637691,469598<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty
taxid<span class="w">     </span>version<span class="w">      </span>change<span class="w">           </span>change-value<span class="w">   </span>name<span class="w">                        </span>rank<span class="w">      </span>lineage<span class="w">                                                                                                                                     </span>lineage-taxids
<span class="m">469598</span><span class="w">    </span><span class="m">2014</span>-08-01<span class="w">   </span>NEW<span class="w">                             </span>Escherichia<span class="w"> </span>sp.<span class="w"> </span>3_2_53FAA<span class="w">   </span>species<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacteriales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>sp.<span class="w"> </span>3_2_53FAA<span class="w">   </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">543</span><span class="p">;</span><span class="m">561</span><span class="p">;</span><span class="m">469598</span>
<span class="m">469598</span><span class="w">    </span><span class="m">2016</span>-10-01<span class="w">   </span>CHANGE_LIN_LIN<span class="w">                  </span>Escherichia<span class="w"> </span>sp.<span class="w"> </span>3_2_53FAA<span class="w">   </span>species<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>sp.<span class="w"> </span>3_2_53FAA<span class="w">    </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">543</span><span class="p">;</span><span class="m">561</span><span class="p">;</span><span class="m">469598</span>
<span class="m">469598</span><span class="w">    </span><span class="m">2018</span>-06-01<span class="w">   </span>MERGE<span class="w">            </span><span class="m">562</span><span class="w">            </span>Escherichia<span class="w"> </span>sp.<span class="w"> </span>3_2_53FAA<span class="w">   </span>species<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacterales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>sp.<span class="w"> </span>3_2_53FAA<span class="w">    </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">543</span><span class="p">;</span><span class="m">561</span><span class="p">;</span><span class="m">469598</span>
<span class="m">662101</span><span class="w">    </span><span class="m">2014</span>-08-01<span class="w">   </span>MERGE<span class="w">            </span><span class="m">562</span><span class="w">                                                                                                                                                                                              </span>
<span class="m">662104</span><span class="w">    </span><span class="m">2014</span>-08-01<span class="w">   </span>MERGE<span class="w">            </span><span class="m">562</span><span class="w">                                                                                                                                                                                              </span>
<span class="m">1637691</span><span class="w">   </span><span class="m">2015</span>-04-01<span class="w">   </span>DELETE<span class="w">                                                                                                                                                                                                            </span>
<span class="m">1637691</span><span class="w">   </span><span class="m">2015</span>-05-01<span class="w">   </span>REUSE_DEL<span class="w">                       </span>Escherichia<span class="w"> </span>sp.<span class="w"> </span>MAR<span class="w">         </span>species<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacteriales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>sp.<span class="w"> </span>MAR<span class="w">         </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">543</span><span class="p">;</span><span class="m">561</span><span class="p">;</span><span class="m">1637691</span>
<span class="m">1637691</span><span class="w">   </span><span class="m">2015</span>-11-01<span class="w">   </span>MERGE<span class="w">            </span><span class="m">562</span><span class="w">            </span>Escherichia<span class="w"> </span>sp.<span class="w"> </span>MAR<span class="w">         </span>species<span class="w">   </span>cellular<span class="w"> </span>organisms<span class="p">;</span>Bacteria<span class="p">;</span>Proteobacteria<span class="p">;</span>Gammaproteobacteria<span class="p">;</span>Enterobacteriales<span class="p">;</span>Enterobacteriaceae<span class="p">;</span>Escherichia<span class="p">;</span>Escherichia<span class="w"> </span>sp.<span class="w"> </span>MAR<span class="w">         </span><span class="m">131567</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">1224</span><span class="p">;</span><span class="m">1236</span><span class="p">;</span><span class="m">91347</span><span class="p">;</span><span class="m">543</span><span class="p">;</span><span class="m">561</span><span class="p">;</span><span class="m">1637691</span>
</code></pre></div>

</li>
<li>
<p>Example 2 (SARS-CoV-2).</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nb">time</span><span class="w"> </span>pigz<span class="w"> </span>-cd<span class="w"> </span>taxid-changelog.csv.gz<span class="w"> </span><span class="se">\</span>
<span class="w">        </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>grep<span class="w"> </span>-f<span class="w"> </span>taxid<span class="w"> </span>-p<span class="w"> </span><span class="m">2697049</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span><span class="p">|</span><span class="w"> </span>csvtk<span class="w"> </span>pretty
taxid<span class="w">     </span>version<span class="w">      </span>change<span class="w">           </span>change-value<span class="w">   </span>name<span class="w">                                              </span>rank<span class="w">      </span>lineage<span class="w">                                                                                                                                                                                                                                                        </span>lineage-taxids
<span class="m">2697049</span><span class="w">   </span><span class="m">2020</span>-02-01<span class="w">   </span>NEW<span class="w">                             </span>Wuhan<span class="w"> </span>seafood<span class="w"> </span>market<span class="w"> </span>pneumonia<span class="w"> </span>virus<span class="w">              </span>species<span class="w">   </span>Viruses<span class="p">;</span>Riboviria<span class="p">;</span>Nidovirales<span class="p">;</span>Cornidovirineae<span class="p">;</span>Coronaviridae<span class="p">;</span>Orthocoronavirinae<span class="p">;</span>Betacoronavirus<span class="p">;</span>unclassified<span class="w"> </span>Betacoronavirus<span class="p">;</span>Wuhan<span class="w"> </span>seafood<span class="w"> </span>market<span class="w"> </span>pneumonia<span class="w"> </span>virus<span class="w">                                                                                               </span><span class="m">10239</span><span class="p">;</span><span class="m">2559587</span><span class="p">;</span><span class="m">76804</span><span class="p">;</span><span class="m">2499399</span><span class="p">;</span><span class="m">11118</span><span class="p">;</span><span class="m">2501931</span><span class="p">;</span><span class="m">694002</span><span class="p">;</span><span class="m">696098</span><span class="p">;</span><span class="m">2697049</span>
<span class="m">2697049</span><span class="w">   </span><span class="m">2020</span>-03-01<span class="w">   </span>CHANGE_NAME<span class="w">                     </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span>no<span class="w"> </span>rank<span class="w">   </span>Viruses<span class="p">;</span>Riboviria<span class="p">;</span>Nidovirales<span class="p">;</span>Cornidovirineae<span class="p">;</span>Coronaviridae<span class="p">;</span>Orthocoronavirinae<span class="p">;</span>Betacoronavirus<span class="p">;</span>Sarbecovirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome-related<span class="w"> </span>coronavirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">                                              </span><span class="m">10239</span><span class="p">;</span><span class="m">2559587</span><span class="p">;</span><span class="m">76804</span><span class="p">;</span><span class="m">2499399</span><span class="p">;</span><span class="m">11118</span><span class="p">;</span><span class="m">2501931</span><span class="p">;</span><span class="m">694002</span><span class="p">;</span><span class="m">2509511</span><span class="p">;</span><span class="m">694009</span><span class="p">;</span><span class="m">2697049</span>
<span class="m">2697049</span><span class="w">   </span><span class="m">2020</span>-03-01<span class="w">   </span>CHANGE_RANK<span class="w">                     </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span>no<span class="w"> </span>rank<span class="w">   </span>Viruses<span class="p">;</span>Riboviria<span class="p">;</span>Nidovirales<span class="p">;</span>Cornidovirineae<span class="p">;</span>Coronaviridae<span class="p">;</span>Orthocoronavirinae<span class="p">;</span>Betacoronavirus<span class="p">;</span>Sarbecovirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome-related<span class="w"> </span>coronavirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">                                              </span><span class="m">10239</span><span class="p">;</span><span class="m">2559587</span><span class="p">;</span><span class="m">76804</span><span class="p">;</span><span class="m">2499399</span><span class="p">;</span><span class="m">11118</span><span class="p">;</span><span class="m">2501931</span><span class="p">;</span><span class="m">694002</span><span class="p">;</span><span class="m">2509511</span><span class="p">;</span><span class="m">694009</span><span class="p">;</span><span class="m">2697049</span>
<span class="m">2697049</span><span class="w">   </span><span class="m">2020</span>-03-01<span class="w">   </span>CHANGE_LIN_LEN<span class="w">                  </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span>no<span class="w"> </span>rank<span class="w">   </span>Viruses<span class="p">;</span>Riboviria<span class="p">;</span>Nidovirales<span class="p">;</span>Cornidovirineae<span class="p">;</span>Coronaviridae<span class="p">;</span>Orthocoronavirinae<span class="p">;</span>Betacoronavirus<span class="p">;</span>Sarbecovirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome-related<span class="w"> </span>coronavirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">                                              </span><span class="m">10239</span><span class="p">;</span><span class="m">2559587</span><span class="p">;</span><span class="m">76804</span><span class="p">;</span><span class="m">2499399</span><span class="p">;</span><span class="m">11118</span><span class="p">;</span><span class="m">2501931</span><span class="p">;</span><span class="m">694002</span><span class="p">;</span><span class="m">2509511</span><span class="p">;</span><span class="m">694009</span><span class="p">;</span><span class="m">2697049</span>
<span class="m">2697049</span><span class="w">   </span><span class="m">2020</span>-06-01<span class="w">   </span>CHANGE_LIN_LEN<span class="w">                  </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span>no<span class="w"> </span>rank<span class="w">   </span>Viruses<span class="p">;</span>Riboviria<span class="p">;</span>Orthornavirae<span class="p">;</span>Pisuviricota<span class="p">;</span>Pisoniviricetes<span class="p">;</span>Nidovirales<span class="p">;</span>Cornidovirineae<span class="p">;</span>Coronaviridae<span class="p">;</span>Orthocoronavirinae<span class="p">;</span>Betacoronavirus<span class="p">;</span>Sarbecovirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome-related<span class="w"> </span>coronavirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span><span class="m">10239</span><span class="p">;</span><span class="m">2559587</span><span class="p">;</span><span class="m">2732396</span><span class="p">;</span><span class="m">2732408</span><span class="p">;</span><span class="m">2732506</span><span class="p">;</span><span class="m">76804</span><span class="p">;</span><span class="m">2499399</span><span class="p">;</span><span class="m">11118</span><span class="p">;</span><span class="m">2501931</span><span class="p">;</span><span class="m">694002</span><span class="p">;</span><span class="m">2509511</span><span class="p">;</span><span class="m">694009</span><span class="p">;</span><span class="m">2697049</span>
<span class="m">2697049</span><span class="w">   </span><span class="m">2020</span>-07-01<span class="w">   </span>CHANGE_RANK<span class="w">                     </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span>isolate<span class="w">   </span>Viruses<span class="p">;</span>Riboviria<span class="p">;</span>Orthornavirae<span class="p">;</span>Pisuviricota<span class="p">;</span>Pisoniviricetes<span class="p">;</span>Nidovirales<span class="p">;</span>Cornidovirineae<span class="p">;</span>Coronaviridae<span class="p">;</span>Orthocoronavirinae<span class="p">;</span>Betacoronavirus<span class="p">;</span>Sarbecovirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome-related<span class="w"> </span>coronavirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span><span class="m">10239</span><span class="p">;</span><span class="m">2559587</span><span class="p">;</span><span class="m">2732396</span><span class="p">;</span><span class="m">2732408</span><span class="p">;</span><span class="m">2732506</span><span class="p">;</span><span class="m">76804</span><span class="p">;</span><span class="m">2499399</span><span class="p">;</span><span class="m">11118</span><span class="p">;</span><span class="m">2501931</span><span class="p">;</span><span class="m">694002</span><span class="p">;</span><span class="m">2509511</span><span class="p">;</span><span class="m">694009</span><span class="p">;</span><span class="m">2697049</span>
<span class="m">2697049</span><span class="w">   </span><span class="m">2020</span>-08-01<span class="w">   </span>CHANGE_RANK<span class="w">                     </span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span>no<span class="w"> </span>rank<span class="w">   </span>Viruses<span class="p">;</span>Riboviria<span class="p">;</span>Orthornavirae<span class="p">;</span>Pisuviricota<span class="p">;</span>Pisoniviricetes<span class="p">;</span>Nidovirales<span class="p">;</span>Cornidovirineae<span class="p">;</span>Coronaviridae<span class="p">;</span>Orthocoronavirinae<span class="p">;</span>Betacoronavirus<span class="p">;</span>Sarbecovirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome-related<span class="w"> </span>coronavirus<span class="p">;</span>Severe<span class="w"> </span>acute<span class="w"> </span>respiratory<span class="w"> </span>syndrome<span class="w"> </span>coronavirus<span class="w"> </span><span class="m">2</span><span class="w">   </span><span class="m">10239</span><span class="p">;</span><span class="m">2559587</span><span class="p">;</span><span class="m">2732396</span><span class="p">;</span><span class="m">2732408</span><span class="p">;</span><span class="m">2732506</span><span class="p">;</span><span class="m">76804</span><span class="p">;</span><span class="m">2499399</span><span class="p">;</span><span class="m">11118</span><span class="p">;</span><span class="m">2501931</span><span class="p">;</span><span class="m">694002</span><span class="p">;</span><span class="m">2509511</span><span class="p">;</span><span class="m">694009</span><span class="p">;</span><span class="m">2697049</span>

real<span class="w">    </span>0m7.644s
user<span class="w">    </span>0m16.749s
sys<span class="w">     </span>0m3.985s
</code></pre></div>

</li>
<li>
<p>Example 3 (All subspecies and strain in <em>Akkermansia muciniphila</em> 239935)</p>
<div class="codehilite"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">species</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">Akkermansia</span>
<span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="nf">rank</span><span class="w"> </span><span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">name</span><span class="w"> </span><span class="o">--</span><span class="n">indent</span><span class="w"> </span><span class="ss">&quot;    &quot;</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mi">239935</span>
<span class="mi">239935</span><span class="w"> </span><span class="o">[</span><span class="n">species</span><span class="o">]</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span>
<span class="w">    </span><span class="mi">349741</span><span class="w"> </span><span class="o">[</span><span class="n">strain</span><span class="o">]</span><span class="w"> </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span>

<span class="err">#</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="ow">all</span><span class="w">  </span>
<span class="err">$</span><span class="w"> </span><span class="n">pigz</span><span class="w"> </span><span class="o">-</span><span class="n">cd</span><span class="w"> </span><span class="n">taxid</span><span class="o">-</span><span class="n">changelog</span><span class="p">.</span><span class="n">csv</span><span class="p">.</span><span class="n">gz</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="o">-</span><span class="n">P</span><span class="w"> </span><span class="o">&lt;</span><span class="p">(</span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">indent</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mi">239935</span><span class="p">)</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">pretty</span><span class="w">                                                                                                                                                   </span><span class="n">lineage</span><span class="o">-</span><span class="n">taxids</span>
<span class="n">taxid</span><span class="w">    </span><span class="n">version</span><span class="w">      </span><span class="n">change</span><span class="w">           </span><span class="n">change</span><span class="o">-</span><span class="k">value</span><span class="w">   </span><span class="n">name</span><span class="w">                                   </span><span class="nf">rank</span><span class="w">      </span><span class="n">lineage</span><span class="w">                                                                                                                                                                                                         </span><span class="n">lineage</span><span class="o">-</span><span class="n">taxids</span>
<span class="mi">239935</span><span class="w">   </span><span class="mi">2014</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">01</span><span class="w">   </span><span class="k">NEW</span><span class="w">                             </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w">                </span><span class="n">species</span><span class="w">   </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Chlamydiae</span><span class="o">/</span><span class="n">Verrucomicrobia</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Verrucomicrobiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w">                                        </span><span class="mi">131567</span><span class="p">;</span><span class="mi">2</span><span class="p">;</span><span class="mi">51290</span><span class="p">;</span><span class="mi">74201</span><span class="p">;</span><span class="mi">203494</span><span class="p">;</span><span class="mi">48461</span><span class="p">;</span><span class="mi">203557</span><span class="p">;</span><span class="mi">239934</span><span class="p">;</span><span class="mi">239935</span>
<span class="mi">239935</span><span class="w">   </span><span class="mi">2015</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">01</span><span class="w">   </span><span class="n">CHANGE_LIN_TAX</span><span class="w">                  </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w">                </span><span class="n">species</span><span class="w">   </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Chlamydiae</span><span class="o">/</span><span class="n">Verrucomicrobia</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Akkermansiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w">                                            </span><span class="mi">131567</span><span class="p">;</span><span class="mi">2</span><span class="p">;</span><span class="mi">51290</span><span class="p">;</span><span class="mi">74201</span><span class="p">;</span><span class="mi">203494</span><span class="p">;</span><span class="mi">48461</span><span class="p">;</span><span class="mi">1647988</span><span class="p">;</span><span class="mi">239934</span><span class="p">;</span><span class="mi">239935</span>
<span class="mi">239935</span><span class="w">   </span><span class="mi">2016</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">01</span><span class="w">   </span><span class="n">CHANGE_LIN_TAX</span><span class="w">                  </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w">                </span><span class="n">species</span><span class="w">   </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">PVC</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Akkermansiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w">                                                                   </span><span class="mi">131567</span><span class="p">;</span><span class="mi">2</span><span class="p">;</span><span class="mi">1783257</span><span class="p">;</span><span class="mi">74201</span><span class="p">;</span><span class="mi">203494</span><span class="p">;</span><span class="mi">48461</span><span class="p">;</span><span class="mi">1647988</span><span class="p">;</span><span class="mi">239934</span><span class="p">;</span><span class="mi">239935</span>
<span class="mi">239935</span><span class="w">   </span><span class="mi">2016</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">01</span><span class="w">   </span><span class="n">ABSORB</span><span class="w">           </span><span class="mi">1834199</span><span class="w">        </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w">                </span><span class="n">species</span><span class="w">   </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">PVC</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Akkermansiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w">                                                                   </span><span class="mi">131567</span><span class="p">;</span><span class="mi">2</span><span class="p">;</span><span class="mi">1783257</span><span class="p">;</span><span class="mi">74201</span><span class="p">;</span><span class="mi">203494</span><span class="p">;</span><span class="mi">48461</span><span class="p">;</span><span class="mi">1647988</span><span class="p">;</span><span class="mi">239934</span><span class="p">;</span><span class="mi">239935</span>
<span class="mi">349741</span><span class="w">   </span><span class="mi">2014</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">01</span><span class="w">   </span><span class="k">NEW</span><span class="w">                             </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span><span class="w">   </span><span class="k">no</span><span class="w"> </span><span class="nf">rank</span><span class="w">   </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Chlamydiae</span><span class="o">/</span><span class="n">Verrucomicrobia</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Verrucomicrobiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span><span class="w">   </span><span class="mi">131567</span><span class="p">;</span><span class="mi">2</span><span class="p">;</span><span class="mi">51290</span><span class="p">;</span><span class="mi">74201</span><span class="p">;</span><span class="mi">203494</span><span class="p">;</span><span class="mi">48461</span><span class="p">;</span><span class="mi">203557</span><span class="p">;</span><span class="mi">239934</span><span class="p">;</span><span class="mi">239935</span><span class="p">;</span><span class="mi">349741</span>
<span class="mi">349741</span><span class="w">   </span><span class="mi">2015</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">01</span><span class="w">   </span><span class="n">CHANGE_LIN_TAX</span><span class="w">                  </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span><span class="w">   </span><span class="k">no</span><span class="w"> </span><span class="nf">rank</span><span class="w">   </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Chlamydiae</span><span class="o">/</span><span class="n">Verrucomicrobia</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Akkermansiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span><span class="w">       </span><span class="mi">131567</span><span class="p">;</span><span class="mi">2</span><span class="p">;</span><span class="mi">51290</span><span class="p">;</span><span class="mi">74201</span><span class="p">;</span><span class="mi">203494</span><span class="p">;</span><span class="mi">48461</span><span class="p">;</span><span class="mi">1647988</span><span class="p">;</span><span class="mi">239934</span><span class="p">;</span><span class="mi">239935</span><span class="p">;</span><span class="mi">349741</span>
<span class="mi">349741</span><span class="w">   </span><span class="mi">2016</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">01</span><span class="w">   </span><span class="n">CHANGE_LIN_TAX</span><span class="w">                  </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span><span class="w">   </span><span class="k">no</span><span class="w"> </span><span class="nf">rank</span><span class="w">   </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">PVC</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Akkermansiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span><span class="w">                              </span><span class="mi">131567</span><span class="p">;</span><span class="mi">2</span><span class="p">;</span><span class="mi">1783257</span><span class="p">;</span><span class="mi">74201</span><span class="p">;</span><span class="mi">203494</span><span class="p">;</span><span class="mi">48461</span><span class="p">;</span><span class="mi">1647988</span><span class="p">;</span><span class="mi">239934</span><span class="p">;</span><span class="mi">239935</span><span class="p">;</span><span class="mi">349741</span>
<span class="mi">349741</span><span class="w">   </span><span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">01</span><span class="w">   </span><span class="n">CHANGE_RANK</span><span class="w">                     </span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span><span class="w">   </span><span class="n">strain</span><span class="w">    </span><span class="n">cellular</span><span class="w"> </span><span class="n">organisms</span><span class="p">;</span><span class="n">Bacteria</span><span class="p">;</span><span class="n">PVC</span><span class="w"> </span><span class="k">group</span><span class="p">;</span><span class="n">Verrucomicrobia</span><span class="p">;</span><span class="n">Verrucomicrobiae</span><span class="p">;</span><span class="n">Verrucomicrobiales</span><span class="p">;</span><span class="n">Akkermansiaceae</span><span class="p">;</span><span class="n">Akkermansia</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="p">;</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="n">ATCC</span><span class="w"> </span><span class="n">BAA</span><span class="o">-</span><span class="mi">835</span><span class="w">                              </span><span class="mi">131567</span><span class="p">;</span><span class="mi">2</span><span class="p">;</span><span class="mi">1783257</span><span class="p">;</span><span class="mi">74201</span><span class="p">;</span><span class="mi">203494</span><span class="p">;</span><span class="mi">48461</span><span class="p">;</span><span class="mi">1647988</span><span class="p">;</span><span class="mi">239934</span><span class="p">;</span><span class="mi">239935</span><span class="p">;</span><span class="mi">349741</span>
</code></pre></div>

</li>
</ol>
<p><a href="https://github.com/shenwei356/taxid-changelog">More</a></p>
<h2 id="create-taxdump">create-taxdump<a class="headerlink" href="#create-taxdump" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Create NCBI-style taxdump files for custom taxonomy, e.g., GTDB and ICTV

Input format:
  0. For GTDB taxonomy file, just use --gtdb.
     We use the numeric assembly accession as the taxon at subspecies rank.
     (without the prefix GCA_ and GCF_, and version number).
  1. The input file should be tab-delimited, at least one column is needed.
  2. Ranks can be given either via the first row or the flag --rank-names.
  3. The column containing the genome/assembly accession is recommended to
     generate TaxId mapping file (taxid.map, id -&gt; taxid).
       -A/--field-accession,    field contaning genome/assembly accession
       --field-accession-re,    regular expression to extract the accession
     Note that mutiple TaxIds pointing to the same accession are listed as
     comma-seperated integers.

Attention:
  1. Duplicated taxon names wit different ranks are allowed since v0.16.0, since
     the rank and taxon name are contatenated for generating the TaxId.
  2. The generated TaxIds are not consecutive numbers, however some tools like MMSeqs2
     required this, you can use the script below for convertion:

     https://github.com/apcamargo/ictv-mmseqs2-protein-database/blob/master/scripts/fix_taxdump.py

  3. We only check and eliminate taxid collision within a single version of taxonomy data.
     Therefore, if you create taxid-changelog with &quot;taxid-changelog&quot;, different taxons
     in multiple versions might have the same TaxIds and some change events might be wrong.

     So a single version of taxonomic data created by &quot;taxonkit create-taxdump&quot; has no problem,
     it&#39;s just the changelog might not be perfect.

Usage:
  taxonkit create-taxdump [flags]

Flags:
  -A, --field-accession int             field index of assembly accession (genome ID), for outputting
                                        taxid.map
  -S, --field-accession-as-subspecies   treate the accession as subspecies rank
      --field-accession-re string       regular expression to extract assembly accession (default &quot;^(.+)$&quot;)
      --force                           overwrite existing output directory
      --gtdb                            input files are GTDB taxonomy file
      --gtdb-re-subs string             regular expression to extract assembly accession as the
                                        subspecies (default &quot;^\\w\\w_GC[AF]_(.+)\\.\\d+$&quot;)
  -h, --help                            help for create-taxdump
      --line-chunk-size int             number of lines to process for each thread, and 4 threads is
                                        fast enough. (default 5000)
      --null strings                    null value of taxa (default [,NULL,NA])
  -x, --old-taxdump-dir string          taxdump directory of the previous version, for generating
                                        merged.dmp and delnodes.dmp
  -O, --out-dir string                  output directory
  -R, --rank-names strings              names of all ranks, leave it empty to use the (lowercase) first
                                        row of input as rank names
</code></pre></div>

<p>Examples:</p>
<ol>
<li>
<p>GTDB. See more: https://github.com/shenwei356/gtdb-taxdump</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="k">create</span><span class="o">-</span><span class="n">taxdump</span><span class="w"> </span><span class="o">--</span><span class="n">gtdb</span><span class="w"> </span><span class="n">ar53_taxonomy_r207</span><span class="p">.</span><span class="n">tsv</span><span class="p">.</span><span class="n">gz</span><span class="w"> </span><span class="n">bac120_taxonomy_r207</span><span class="p">.</span><span class="n">tsv</span><span class="p">.</span><span class="n">gz</span><span class="w"> </span><span class="o">--</span><span class="k">out</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="n">taxdump</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">42</span><span class="err">:</span><span class="mf">35.213</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">317542</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">taxdump</span><span class="o">/</span><span class="n">taxid</span><span class="p">.</span><span class="k">map</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">42</span><span class="err">:</span><span class="mf">35.460</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">401815</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">taxdump</span><span class="o">/</span><span class="n">nodes</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">42</span><span class="err">:</span><span class="mf">35.611</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">401815</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">taxdump</span><span class="o">/</span><span class="k">names</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">42</span><span class="err">:</span><span class="mf">35.611</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">taxdump</span><span class="o">/</span><span class="n">merged</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">42</span><span class="err">:</span><span class="mf">35.611</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">taxdump</span><span class="o">/</span><span class="n">delnodes</span><span class="p">.</span><span class="n">dmp</span>
</code></pre></div>

</li>
<li>
<p>ICTV, See more: https://github.com/shenwei356/ictv-taxdump</p>
</li>
<li>
<p><a href="https://www.nature.com/articles/s41564-021-00928-6">MGV</a>. Only Order, Family, Genus information are available.</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="n">mgv_contig_info</span><span class="p">.</span><span class="n">tsv</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">cut</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="n">ictv_order</span><span class="p">,</span><span class="n">ictv_family</span><span class="p">,</span><span class="n">ictv_genus</span><span class="p">,</span><span class="n">votu_id</span><span class="p">,</span><span class="n">contig_id</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="mi">1</span><span class="n">d</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">mgv</span><span class="p">.</span><span class="n">tsv</span>

<span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="k">create</span><span class="o">-</span><span class="n">taxdump</span><span class="w"> </span><span class="n">mgv</span><span class="p">.</span><span class="n">tsv</span><span class="w"> </span><span class="o">--</span><span class="k">out</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="n">mgv</span><span class="w"> </span><span class="o">--</span><span class="n">force</span><span class="w"> </span><span class="o">-</span><span class="n">A</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="n">R</span><span class="w"> </span><span class="k">order</span><span class="p">,</span><span class="n">family</span><span class="p">,</span><span class="n">genus</span><span class="p">,</span><span class="n">species</span>
<span class="mi">23</span><span class="err">:</span><span class="mi">33</span><span class="err">:</span><span class="mf">18.098</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">189680</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">mgv</span><span class="o">/</span><span class="n">taxid</span><span class="p">.</span><span class="k">map</span>
<span class="mi">23</span><span class="err">:</span><span class="mi">33</span><span class="err">:</span><span class="mf">18.131</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">58102</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">mgv</span><span class="o">/</span><span class="n">nodes</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">23</span><span class="err">:</span><span class="mi">33</span><span class="err">:</span><span class="mf">18.150</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">58102</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">mgv</span><span class="o">/</span><span class="k">names</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">23</span><span class="err">:</span><span class="mi">33</span><span class="err">:</span><span class="mf">18.150</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">mgv</span><span class="o">/</span><span class="n">merged</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">23</span><span class="err">:</span><span class="mi">33</span><span class="err">:</span><span class="mf">18.150</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">mgv</span><span class="o">/</span><span class="n">delnodes</span><span class="p">.</span><span class="n">dmp</span>

<span class="err">$</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">mgv</span><span class="o">/</span><span class="n">taxid</span><span class="p">.</span><span class="k">map</span><span class="w"> </span>
<span class="n">MGV</span><span class="o">-</span><span class="n">GENOME</span><span class="o">-</span><span class="mi">0364295</span><span class="w">      </span><span class="mi">677052301</span>
<span class="n">MGV</span><span class="o">-</span><span class="n">GENOME</span><span class="o">-</span><span class="mi">0364296</span><span class="w">      </span><span class="mi">677052301</span>
<span class="n">MGV</span><span class="o">-</span><span class="n">GENOME</span><span class="o">-</span><span class="mi">0364303</span><span class="w">      </span><span class="mi">1414406025</span>
<span class="n">MGV</span><span class="o">-</span><span class="n">GENOME</span><span class="o">-</span><span class="mi">0364311</span><span class="w">      </span><span class="mi">1849074420</span>
<span class="n">MGV</span><span class="o">-</span><span class="n">GENOME</span><span class="o">-</span><span class="mi">0364312</span><span class="w">      </span><span class="mi">2074846424</span>

<span class="err">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="mi">677052301</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="o">--</span><span class="k">data</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="n">mgv</span><span class="o">/</span><span class="w"> </span>
<span class="mi">677052301</span><span class="w">       </span><span class="n">Caudovirales</span><span class="p">;</span><span class="n">crAss</span><span class="o">-</span><span class="n">phage</span><span class="p">;</span><span class="n">OTU</span><span class="o">-</span><span class="mi">61123</span>

<span class="err">$</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="mi">677052301</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">reformat</span><span class="w"> </span><span class="o">--</span><span class="k">data</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="n">mgv</span><span class="o">/</span><span class="w"> </span><span class="o">-</span><span class="n">I</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="n">P</span>
<span class="mi">677052301</span><span class="w">       </span><span class="n">k__</span><span class="p">;</span><span class="n">p__</span><span class="p">;</span><span class="n">c__</span><span class="p">;</span><span class="n">o__Caudovirales</span><span class="p">;</span><span class="n">f__crAss</span><span class="o">-</span><span class="n">phage</span><span class="p">;</span><span class="n">g__</span><span class="p">;</span><span class="n">s__OTU</span><span class="o">-</span><span class="mi">61123</span>

<span class="err">$</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="n">MGV</span><span class="o">-</span><span class="n">GENOME</span><span class="o">-</span><span class="mi">0364295</span><span class="w"> </span><span class="n">mgv</span><span class="p">.</span><span class="n">tsv</span><span class="w"> </span>
<span class="n">Caudovirales</span><span class="w">    </span><span class="n">crAss</span><span class="o">-</span><span class="n">phage</span><span class="w">     </span><span class="k">NULL</span><span class="w">    </span><span class="n">OTU</span><span class="o">-</span><span class="mi">61123</span><span class="w">       </span><span class="n">MGV</span><span class="o">-</span><span class="n">GENOME</span><span class="o">-</span><span class="mi">0364295</span>
</code></pre></div>

</li>
<li>
<p>Custom lineages with the first row as rank names and treating one column as accession.</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">pretty</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxonomy</span><span class="p">.</span><span class="n">tsv</span><span class="w"> </span>
<span class="n">id</span><span class="w">                </span><span class="n">superkingdom</span><span class="w">   </span><span class="n">phylum</span><span class="w">           </span><span class="k">class</span><span class="w">                 </span><span class="k">order</span><span class="w">              </span><span class="n">family</span><span class="w">               </span><span class="n">genus</span><span class="w">            </span><span class="n">species</span>
<span class="o">---------------</span><span class="w">   </span><span class="o">------------</span><span class="w">   </span><span class="o">--------------</span><span class="w">   </span><span class="o">-------------------</span><span class="w">   </span><span class="o">----------------</span><span class="w">   </span><span class="o">------------------</span><span class="w">   </span><span class="o">--------------</span><span class="w">   </span><span class="o">--------------------------</span>
<span class="n">GCF_001027105</span><span class="mf">.1</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Firmicutes</span><span class="w">       </span><span class="n">Bacilli</span><span class="w">               </span><span class="n">Bacillales</span><span class="w">         </span><span class="n">Staphylococcaceae</span><span class="w">    </span><span class="n">Staphylococcus</span><span class="w">   </span><span class="n">Staphylococcus</span><span class="w"> </span><span class="n">aureus</span>
<span class="n">GCF_001096185</span><span class="mf">.1</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Firmicutes</span><span class="w">       </span><span class="n">Bacilli</span><span class="w">               </span><span class="n">Lactobacillales</span><span class="w">    </span><span class="n">Streptococcaceae</span><span class="w">     </span><span class="n">Streptococcus</span><span class="w">    </span><span class="n">Streptococcus</span><span class="w"> </span><span class="n">pneumoniae</span>
<span class="n">GCF_001544255</span><span class="mf">.1</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Firmicutes</span><span class="w">       </span><span class="n">Bacilli</span><span class="w">               </span><span class="n">Lactobacillales</span><span class="w">    </span><span class="n">Enterococcaceae</span><span class="w">      </span><span class="n">Enterococcus</span><span class="w">     </span><span class="n">Enterococcus</span><span class="w"> </span><span class="n">faecium</span>
<span class="n">GCF_002949675</span><span class="mf">.1</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Proteobacteria</span><span class="w">   </span><span class="n">Gammaproteobacteria</span><span class="w">   </span><span class="n">Enterobacterales</span><span class="w">   </span><span class="n">Enterobacteriaceae</span><span class="w">   </span><span class="n">Shigella</span><span class="w">         </span><span class="n">Shigella</span><span class="w"> </span><span class="n">dysenteriae</span>
<span class="n">GCF_002950215</span><span class="mf">.1</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Proteobacteria</span><span class="w">   </span><span class="n">Gammaproteobacteria</span><span class="w">   </span><span class="n">Enterobacterales</span><span class="w">   </span><span class="n">Enterobacteriaceae</span><span class="w">   </span><span class="n">Shigella</span><span class="w">         </span><span class="n">Shigella</span><span class="w"> </span><span class="n">flexneri</span>
<span class="n">GCF_006742205</span><span class="mf">.1</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Firmicutes</span><span class="w">       </span><span class="n">Bacilli</span><span class="w">               </span><span class="n">Bacillales</span><span class="w">         </span><span class="n">Staphylococcaceae</span><span class="w">    </span><span class="n">Staphylococcus</span><span class="w">   </span><span class="n">Staphylococcus</span><span class="w"> </span><span class="n">epidermidis</span>
<span class="n">GCF_000006945</span><span class="mf">.2</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Proteobacteria</span><span class="w">   </span><span class="n">Gammaproteobacteria</span><span class="w">   </span><span class="n">Enterobacterales</span><span class="w">   </span><span class="n">Enterobacteriaceae</span><span class="w">   </span><span class="n">Salmonella</span><span class="w">       </span><span class="n">Salmonella</span><span class="w"> </span><span class="n">enterica</span>
<span class="n">GCF_000017205</span><span class="mf">.1</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Proteobacteria</span><span class="w">   </span><span class="n">Gammaproteobacteria</span><span class="w">   </span><span class="n">Pseudomonadales</span><span class="w">    </span><span class="n">Pseudomonadaceae</span><span class="w">     </span><span class="n">Pseudomonas</span><span class="w">      </span><span class="n">Pseudomonas</span><span class="w"> </span><span class="n">aeruginosa</span>
<span class="n">GCF_003697165</span><span class="mf">.2</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Proteobacteria</span><span class="w">   </span><span class="n">Gammaproteobacteria</span><span class="w">   </span><span class="n">Enterobacterales</span><span class="w">   </span><span class="n">Enterobacteriaceae</span><span class="w">   </span><span class="n">Escherichia</span><span class="w">      </span><span class="n">Escherichia</span><span class="w"> </span><span class="n">coli</span>
<span class="n">GCF_009759685</span><span class="mf">.1</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Proteobacteria</span><span class="w">   </span><span class="n">Gammaproteobacteria</span><span class="w">   </span><span class="n">Moraxellales</span><span class="w">       </span><span class="n">Moraxellaceae</span><span class="w">        </span><span class="n">Acinetobacter</span><span class="w">    </span><span class="n">Acinetobacter</span><span class="w"> </span><span class="n">baumannii</span>
<span class="n">GCF_000148585</span><span class="mf">.2</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Firmicutes</span><span class="w">       </span><span class="n">Bacilli</span><span class="w">               </span><span class="n">Lactobacillales</span><span class="w">    </span><span class="n">Streptococcaceae</span><span class="w">     </span><span class="n">Streptococcus</span><span class="w">    </span><span class="n">Streptococcus</span><span class="w"> </span><span class="n">mitis</span>
<span class="n">GCF_000392875</span><span class="mf">.1</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Firmicutes</span><span class="w">       </span><span class="n">Bacilli</span><span class="w">               </span><span class="n">Lactobacillales</span><span class="w">    </span><span class="n">Enterococcaceae</span><span class="w">      </span><span class="n">Enterococcus</span><span class="w">     </span><span class="n">Enterococcus</span><span class="w"> </span><span class="n">faecalis</span>
<span class="n">GCF_000742135</span><span class="mf">.1</span><span class="w">   </span><span class="n">Bacteria</span><span class="w">       </span><span class="n">Proteobacteria</span><span class="w">   </span><span class="n">Gammaproteobacteria</span><span class="w">   </span><span class="n">Enterobacterales</span><span class="w">   </span><span class="n">Enterobacteriaceae</span><span class="w">   </span><span class="n">Klebsiella</span><span class="w">       </span><span class="n">Klebsiella</span><span class="w"> </span><span class="n">pneumonia</span>

<span class="err">#</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">first</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">accession</span>
<span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="k">create</span><span class="o">-</span><span class="n">taxdump</span><span class="w"> </span><span class="o">-</span><span class="n">A</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxonomy</span><span class="p">.</span><span class="n">tsv</span><span class="w"> </span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">31</span><span class="err">:</span><span class="mf">31.828</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">first</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">input</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nf">rank</span><span class="w"> </span><span class="k">names</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">31</span><span class="err">:</span><span class="mf">31.843</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump</span><span class="o">/</span><span class="n">taxid</span><span class="p">.</span><span class="k">map</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">31</span><span class="err">:</span><span class="mf">31.843</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">39</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump</span><span class="o">/</span><span class="n">nodes</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">31</span><span class="err">:</span><span class="mf">31.843</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">39</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump</span><span class="o">/</span><span class="k">names</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">31</span><span class="err">:</span><span class="mf">31.843</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump</span><span class="o">/</span><span class="n">merged</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">31</span><span class="err">:</span><span class="mf">31.843</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump</span><span class="o">/</span><span class="n">delnodes</span><span class="p">.</span><span class="n">dmp</span>

<span class="err">$</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">TAXONKIT_DB</span><span class="o">=</span><span class="n">example</span><span class="o">/</span><span class="n">taxdump</span>
<span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="k">filter</span><span class="w"> </span><span class="o">-</span><span class="n">E</span><span class="w"> </span><span class="n">species</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">pretty</span><span class="w"> </span><span class="o">-</span><span class="n">Ht</span>
<span class="mi">793223984</span><span class="w">    </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Moraxellales</span><span class="p">;</span><span class="n">Moraxellaceae</span><span class="p">;</span><span class="n">Acinetobacter</span><span class="p">;</span><span class="n">Acinetobacter</span><span class="w"> </span><span class="n">baumannii</span><span class="w">       </span><span class="n">species</span>
<span class="mi">1220345221</span><span class="w">   </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Pseudomonadales</span><span class="p">;</span><span class="n">Pseudomonadaceae</span><span class="p">;</span><span class="n">Pseudomonas</span><span class="p">;</span><span class="n">Pseudomonas</span><span class="w"> </span><span class="n">aeruginosa</span><span class="w">    </span><span class="n">species</span>
<span class="mi">561101225</span><span class="w">    </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Enterobacterales</span><span class="p">;</span><span class="n">Enterobacteriaceae</span><span class="p">;</span><span class="n">Shigella</span><span class="p">;</span><span class="n">Shigella</span><span class="w"> </span><span class="n">flexneri</span><span class="w">         </span><span class="n">species</span>
<span class="mi">1969112428</span><span class="w">   </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Enterobacterales</span><span class="p">;</span><span class="n">Enterobacteriaceae</span><span class="p">;</span><span class="n">Shigella</span><span class="p">;</span><span class="n">Shigella</span><span class="w"> </span><span class="n">dysenteriae</span><span class="w">      </span><span class="n">species</span>
<span class="mi">599451526</span><span class="w">    </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Enterobacterales</span><span class="p">;</span><span class="n">Enterobacteriaceae</span><span class="p">;</span><span class="n">Escherichia</span><span class="p">;</span><span class="n">Escherichia</span><span class="w"> </span><span class="n">coli</span><span class="w">       </span><span class="n">species</span>
<span class="mi">2034984046</span><span class="w">   </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Enterobacterales</span><span class="p">;</span><span class="n">Enterobacteriaceae</span><span class="p">;</span><span class="n">Salmonella</span><span class="p">;</span><span class="n">Salmonella</span><span class="w"> </span><span class="n">enterica</span><span class="w">     </span><span class="n">species</span>
<span class="mi">1859674812</span><span class="w">   </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Enterobacterales</span><span class="p">;</span><span class="n">Enterobacteriaceae</span><span class="p">;</span><span class="n">Klebsiella</span><span class="p">;</span><span class="n">Klebsiella</span><span class="w"> </span><span class="n">pneumoniae</span><span class="w">   </span><span class="n">species</span>
<span class="mi">773201972</span><span class="w">    </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Firmicutes</span><span class="p">;</span><span class="n">Bacilli</span><span class="p">;</span><span class="n">Bacillales</span><span class="p">;</span><span class="n">Staphylococcaceae</span><span class="p">;</span><span class="n">Staphylococcus</span><span class="p">;</span><span class="n">Staphylococcus</span><span class="w"> </span><span class="n">aureus</span><span class="w">                      </span><span class="n">species</span>
<span class="mi">1295317147</span><span class="w">   </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Firmicutes</span><span class="p">;</span><span class="n">Bacilli</span><span class="p">;</span><span class="n">Bacillales</span><span class="p">;</span><span class="n">Staphylococcaceae</span><span class="p">;</span><span class="n">Staphylococcus</span><span class="p">;</span><span class="n">Staphylococcus</span><span class="w"> </span><span class="n">epidermidis</span><span class="w">                 </span><span class="n">species</span>
<span class="mi">182402976</span><span class="w">    </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Firmicutes</span><span class="p">;</span><span class="n">Bacilli</span><span class="p">;</span><span class="n">Lactobacillales</span><span class="p">;</span><span class="n">Enterococcaceae</span><span class="p">;</span><span class="n">Enterococcus</span><span class="p">;</span><span class="n">Enterococcus</span><span class="w"> </span><span class="n">faecium</span><span class="w">                      </span><span class="n">species</span>
<span class="mi">1566113429</span><span class="w">   </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Firmicutes</span><span class="p">;</span><span class="n">Bacilli</span><span class="p">;</span><span class="n">Lactobacillales</span><span class="p">;</span><span class="n">Enterococcaceae</span><span class="p">;</span><span class="n">Enterococcus</span><span class="p">;</span><span class="n">Enterococcus</span><span class="w"> </span><span class="n">faecalis</span><span class="w">                     </span><span class="n">species</span>
<span class="mi">891083107</span><span class="w">    </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Firmicutes</span><span class="p">;</span><span class="n">Bacilli</span><span class="p">;</span><span class="n">Lactobacillales</span><span class="p">;</span><span class="n">Streptococcaceae</span><span class="p">;</span><span class="n">Streptococcus</span><span class="p">;</span><span class="n">Streptococcus</span><span class="w"> </span><span class="n">pneumoniae</span><span class="w">                </span><span class="n">species</span>
<span class="mi">1357145446</span><span class="w">   </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Firmicutes</span><span class="p">;</span><span class="n">Bacilli</span><span class="p">;</span><span class="n">Lactobacillales</span><span class="p">;</span><span class="n">Streptococcaceae</span><span class="p">;</span><span class="n">Streptococcus</span><span class="p">;</span><span class="n">Streptococcus</span><span class="w"> </span><span class="n">mitis</span><span class="w">                     </span><span class="n">species</span>

<span class="err">$</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump</span><span class="o">/</span><span class="n">taxid</span><span class="p">.</span><span class="k">map</span>
<span class="n">GCF_001027105</span><span class="mf">.1</span><span class="w"> </span><span class="mi">773201972</span>
<span class="n">GCF_001096185</span><span class="mf">.1</span><span class="w"> </span><span class="mi">891083107</span>
<span class="n">GCF_001544255</span><span class="mf">.1</span><span class="w"> </span><span class="mi">182402976</span>
</code></pre></div>

</li>
<li>
<p>Custom lineages with the first row as rank names (pure lineage data)</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">cut</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="mi">2</span><span class="o">-</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxonomy</span><span class="p">.</span><span class="n">tsv</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">pretty</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span>
<span class="n">superkingdom</span><span class="w">   </span><span class="n">phylum</span><span class="w">       </span><span class="k">class</span><span class="w">     </span><span class="k">order</span><span class="w">        </span><span class="n">family</span><span class="w">              </span><span class="n">genus</span><span class="w">            </span><span class="n">species</span>
<span class="o">------------</span><span class="w">   </span><span class="o">----------</span><span class="w">   </span><span class="o">-------</span><span class="w">   </span><span class="o">----------</span><span class="w">   </span><span class="o">-----------------</span><span class="w">   </span><span class="o">--------------</span><span class="w">   </span><span class="o">---------------------</span>
<span class="n">Bacteria</span><span class="w">       </span><span class="n">Firmicutes</span><span class="w">   </span><span class="n">Bacilli</span><span class="w">   </span><span class="n">Bacillales</span><span class="w">   </span><span class="n">Staphylococcaceae</span><span class="w">   </span><span class="n">Staphylococcus</span><span class="w">   </span><span class="n">Staphylococcus</span><span class="w"> </span><span class="n">aureus</span>

<span class="err">$</span><span class="w"> </span><span class="n">csvtk</span><span class="w"> </span><span class="n">cut</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="mi">2</span><span class="o">-</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxonomy</span><span class="p">.</span><span class="n">tsv</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="k">create</span><span class="o">-</span><span class="n">taxdump</span><span class="w"> </span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump2</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">53</span><span class="err">:</span><span class="mf">08.604</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">first</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">input</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nf">rank</span><span class="w"> </span><span class="k">names</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">53</span><span class="err">:</span><span class="mf">08.614</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">39</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump2</span><span class="o">/</span><span class="n">nodes</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">53</span><span class="err">:</span><span class="mf">08.614</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">39</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump2</span><span class="o">/</span><span class="k">names</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">53</span><span class="err">:</span><span class="mf">08.614</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump2</span><span class="o">/</span><span class="n">merged</span><span class="p">.</span><span class="n">dmp</span>
<span class="mi">16</span><span class="err">:</span><span class="mi">53</span><span class="err">:</span><span class="mf">08.615</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">example</span><span class="o">/</span><span class="n">taxdump2</span><span class="o">/</span><span class="n">delnodes</span><span class="p">.</span><span class="n">dmp</span>

<span class="err">$</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">TAXONKIT_DB</span><span class="o">=</span><span class="n">example</span><span class="o">/</span><span class="n">taxdump2</span>
<span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">--</span><span class="n">ids</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="k">filter</span><span class="w"> </span><span class="o">-</span><span class="n">E</span><span class="w"> </span><span class="n">species</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">lineage</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="mi">2</span>
<span class="mi">793223984</span><span class="w">       </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Moraxellales</span><span class="p">;</span><span class="n">Moraxellaceae</span><span class="p">;</span><span class="n">Acinetobacter</span><span class="p">;</span><span class="n">Acinetobacter</span><span class="w"> </span><span class="n">baumannii</span><span class="w">    </span><span class="n">species</span>
<span class="mi">1220345221</span><span class="w">      </span><span class="n">Bacteria</span><span class="p">;</span><span class="n">Proteobacteria</span><span class="p">;</span><span class="n">Gammaproteobacteria</span><span class="p">;</span><span class="n">Pseudomonadales</span><span class="p">;</span><span class="n">Pseudomonadaceae</span><span class="p">;</span><span class="n">Pseudomonas</span><span class="p">;</span><span class="n">Pseudomonas</span><span class="w"> </span><span class="n">aeruginosa</span><span class="w"> </span><span class="n">species</span>
</code></pre></div>

</li>
</ol>
<h2 id="genautocomplete">genautocomplete<a class="headerlink" href="#genautocomplete" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Generate shell autocompletion script

Supported shell: bash|zsh|fish|powershell

Bash:

    # generate completion shell
    taxonkit genautocomplete --shell bash

    # configure if never did.
    # install bash-completion if the &quot;complete&quot; command is not found.
    echo &quot;for bcfile in ~/.bash_completion.d/* ; do source \$bcfile; done&quot; &gt;&gt; ~/.bash_completion
    echo &quot;source ~/.bash_completion&quot; &gt;&gt; ~/.bashrc

Zsh:

    # generate completion shell
    taxonkit genautocomplete --shell zsh --file ~/.zfunc/_taxonkit

    # configure if never did
    echo &#39;fpath=( ~/.zfunc &quot;${fpath[@]}&quot; )&#39; &gt;&gt; ~/.zshrc
    echo &quot;autoload -U compinit; compinit&quot; &gt;&gt; ~/.zshrc

fish:

    taxonkit genautocomplete --shell fish --file ~/.config/fish/completions/taxonkit.fish

Usage:
  taxonkit genautocomplete [flags]

Flags:
      --file string   autocompletion file (default &quot;/home/shenwei/.bash_completion.d/taxonkit.sh&quot;)
  -h, --help          help for genautocomplete
      --type string   autocompletion type (currently only bash supported) (default &quot;bash&quot;)
</code></pre></div>

<h2 id="profile2cami">profile2cami<a class="headerlink" href="#profile2cami" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Convert metagenomic profile table to CAMI format

Input format:
  1. The input file should be tab-delimited
  2. At least two columns needed:
     a) TaxId of a taxon.
     b) Abundance (could be percentage, automatically detected or use -p/--percentage).

Attention:
  0. If some TaxIds are parents of others, please switch on -S/--no-sum-up to disable
     summing up abundances.
  1. Some TaxIds may be merged to another ones in current taxonomy version,
     the abundances will be summed up.
  2. Some TaxIds may be deleted in current taxonomy version,
     the abundances can be optionally recomputed with the flag -R/--recompute-abd.

Usage:
  taxonkit profile2cami [flags]

Flags:
  -a, --abundance-field int   field index of abundance. input data should be tab-separated (default 2)
  -h, --help                  help for profile2cami
  -0, --keep-zero             keep taxons with abundance of zero
  -S, --no-sum-up             do not sum up abundance from child to parent TaxIds
  -p, --percentage            abundance is in percentage
  -R, --recompute-abd         recompute abundance if some TaxIds are deleted in current taxonomy version
  -s, --sample-id string      sample ID in result file
  -r, --show-rank strings     only show TaxIds and names of these ranks (default
                              [superkingdom,phylum,class,order,family,genus,species,strain])
  -i, --taxid-field int       field index of taxid. input data should be tab-separated (default 1)
  -t, --taxonomy-id string    taxonomy ID in result file
</code></pre></div>

<p>Examples</p>
<ul>
<li>
<p>Test data, note that <code>2824115</code> is merged to <code>483329</code> and <code>1657696</code> is deleted in current taxonomy version.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>example/abundance.tsv<span class="w"> </span>
<span class="m">2824115</span><span class="w"> </span><span class="m">0</span>.2<span class="w">     </span>merged<span class="w"> </span>to<span class="w"> </span><span class="m">483329</span>
<span class="m">483329</span><span class="w">  </span><span class="m">0</span>.2<span class="w">     </span>absord<span class="w"> </span><span class="m">2824115</span>
<span class="m">239935</span><span class="w">  </span><span class="m">0</span>.5<span class="w">     </span>no<span class="w"> </span>change
<span class="m">1657696</span><span class="w"> </span><span class="m">0</span>.1<span class="w">     </span>deleted
</code></pre></div>

</li>
<li>
<p>Example:</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">profile2cami</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="n">sample1</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">01</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">example</span><span class="o">/</span><span class="n">abundance</span><span class="p">.</span><span class="n">tsv</span>

<span class="mi">13</span><span class="err">:</span><span class="mi">17</span><span class="err">:</span><span class="mf">40.552</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">deleted</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">taxonomy</span><span class="w"> </span><span class="nl">version</span><span class="p">:</span><span class="w"> </span><span class="mi">1657696</span>
<span class="mi">13</span><span class="err">:</span><span class="mi">17</span><span class="err">:</span><span class="mf">40.552</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">recomputed</span><span class="w"> </span><span class="n">abundance</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">-</span><span class="n">R</span><span class="o">/--</span><span class="n">recompute</span><span class="o">-</span><span class="n">abd</span>
<span class="nv">@SampleID</span><span class="err">:</span><span class="n">sample1</span>
<span class="nv">@Version</span><span class="err">:</span><span class="mf">0.10.0</span>
<span class="nv">@Ranks</span><span class="err">:</span><span class="n">superkingdom</span><span class="o">|</span><span class="n">phylum</span><span class="o">|</span><span class="k">class</span><span class="o">|</span><span class="k">order</span><span class="o">|</span><span class="n">family</span><span class="o">|</span><span class="n">genus</span><span class="o">|</span><span class="n">species</span><span class="o">|</span><span class="n">strain</span>
<span class="nv">@TaxonomyID</span><span class="err">:</span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">01</span>
<span class="nb">@@TAXID</span><span class="w"> </span><span class="nf">RANK</span><span class="w">    </span><span class="n">TAXPATH</span><span class="w"> </span><span class="n">TAXPATHSN</span><span class="w">       </span><span class="n">PERCENTAGE</span>
<span class="mi">2</span><span class="w">       </span><span class="n">superkingdom</span><span class="w">    </span><span class="mi">2</span><span class="w">       </span><span class="n">Bacteria</span><span class="w">        </span><span class="mf">50.000000000000000</span>
<span class="mi">2759</span><span class="w">    </span><span class="n">superkingdom</span><span class="w">    </span><span class="mi">2759</span><span class="w">    </span><span class="n">Eukaryota</span><span class="w">       </span><span class="mf">40.000000000000000</span>
<span class="mi">74201</span><span class="w">   </span><span class="n">phylum</span><span class="w">  </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="w"> </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="w">        </span><span class="mf">50.000000000000000</span>
<span class="mi">6656</span><span class="w">    </span><span class="n">phylum</span><span class="w">  </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="w">       </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="w">    </span><span class="mf">40.000000000000000</span>
<span class="mi">203494</span><span class="w">  </span><span class="k">class</span><span class="w">   </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="w">  </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="w">       </span><span class="mf">50.000000000000000</span>
<span class="mi">50557</span><span class="w">   </span><span class="k">class</span><span class="w">   </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="o">|</span><span class="mi">50557</span><span class="w"> </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="o">|</span><span class="n">Insecta</span><span class="w">    </span><span class="mf">40.000000000000000</span>
<span class="mi">48461</span><span class="w">   </span><span class="k">order</span><span class="w">   </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="w">    </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="w">    </span><span class="mf">50.000000000000000</span>
<span class="mi">7041</span><span class="w">    </span><span class="k">order</span><span class="w">   </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="o">|</span><span class="mi">50557</span><span class="o">|</span><span class="mi">7041</span><span class="w">    </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="o">|</span><span class="n">Insecta</span><span class="o">|</span><span class="n">Coleoptera</span><span class="w"> </span><span class="mf">40.000000000000000</span>
<span class="mi">1647988</span><span class="w"> </span><span class="n">family</span><span class="w">  </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="o">|</span><span class="mi">1647988</span><span class="w">    </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="o">|</span><span class="n">Akkermansiaceae</span><span class="w">    </span><span class="mf">50.000000000000000</span>
<span class="mi">57514</span><span class="w">   </span><span class="n">family</span><span class="w">  </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="o">|</span><span class="mi">50557</span><span class="o">|</span><span class="mi">7041</span><span class="o">|</span><span class="mi">57514</span><span class="w">      </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="o">|</span><span class="n">Insecta</span><span class="o">|</span><span class="n">Coleoptera</span><span class="o">|</span><span class="n">Silphidae</span><span class="w">       </span><span class="mf">40.000000000000000</span>
<span class="mi">239934</span><span class="w">  </span><span class="n">genus</span><span class="w">   </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="o">|</span><span class="mi">1647988</span><span class="o">|</span><span class="mi">239934</span><span class="w">     </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="o">|</span><span class="n">Akkermansiaceae</span><span class="o">|</span><span class="n">Akkermansia</span><span class="w"> </span><span class="mf">50.000000000000000</span>
<span class="mi">57515</span><span class="w">   </span><span class="n">genus</span><span class="w">   </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="o">|</span><span class="mi">50557</span><span class="o">|</span><span class="mi">7041</span><span class="o">|</span><span class="mi">57514</span><span class="o">|</span><span class="mi">57515</span><span class="w">        </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="o">|</span><span class="n">Insecta</span><span class="o">|</span><span class="n">Coleoptera</span><span class="o">|</span><span class="n">Silphidae</span><span class="o">|</span><span class="n">Nicrophorus</span><span class="w">   </span><span class="mf">40.000000000000000</span>
<span class="mi">239935</span><span class="w">  </span><span class="n">species</span><span class="w"> </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="o">|</span><span class="mi">1647988</span><span class="o">|</span><span class="mi">239934</span><span class="o">|</span><span class="mi">239935</span><span class="w">      </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="o">|</span><span class="n">Akkermansiaceae</span><span class="o">|</span><span class="n">Akkermansia</span><span class="o">|</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="mf">50.000000000000000</span>
<span class="mi">483329</span><span class="w">  </span><span class="n">species</span><span class="w"> </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="o">|</span><span class="mi">50557</span><span class="o">|</span><span class="mi">7041</span><span class="o">|</span><span class="mi">57514</span><span class="o">|</span><span class="mi">57515</span><span class="o">|</span><span class="mi">483329</span><span class="w"> </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="o">|</span><span class="n">Insecta</span><span class="o">|</span><span class="n">Coleoptera</span><span class="o">|</span><span class="n">Silphidae</span><span class="o">|</span><span class="n">Nicrophorus</span><span class="o">|</span><span class="n">Nicrophorus</span><span class="w"> </span><span class="n">carolina</span><span class="w">       </span><span class="mf">40.000000000000000</span>
</code></pre></div>

</li>
<li>
<p>Recompute (normalize) the abundance</p>
<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">profile2cami</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="n">sample1</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">01</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">example</span><span class="o">/</span><span class="n">abundance</span><span class="p">.</span><span class="n">tsv</span><span class="w"> </span><span class="o">--</span><span class="n">recompute</span><span class="o">-</span><span class="n">abd</span>
<span class="mi">13</span><span class="err">:</span><span class="mi">19</span><span class="err">:</span><span class="mf">23.647</span><span class="w"> </span><span class="o">[</span><span class="n">WARN</span><span class="o">]</span><span class="w"> </span><span class="n">taxid</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">deleted</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">taxonomy</span><span class="w"> </span><span class="nl">version</span><span class="p">:</span><span class="w"> </span><span class="mi">1657696</span>
<span class="nv">@SampleID</span><span class="err">:</span><span class="n">sample1</span>
<span class="nv">@Version</span><span class="err">:</span><span class="mf">0.10.0</span>
<span class="nv">@Ranks</span><span class="err">:</span><span class="n">superkingdom</span><span class="o">|</span><span class="n">phylum</span><span class="o">|</span><span class="k">class</span><span class="o">|</span><span class="k">order</span><span class="o">|</span><span class="n">family</span><span class="o">|</span><span class="n">genus</span><span class="o">|</span><span class="n">species</span><span class="o">|</span><span class="n">strain</span>
<span class="nv">@TaxonomyID</span><span class="err">:</span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">01</span>
<span class="nb">@@TAXID</span><span class="w"> </span><span class="nf">RANK</span><span class="w">    </span><span class="n">TAXPATH</span><span class="w"> </span><span class="n">TAXPATHSN</span><span class="w">       </span><span class="n">PERCENTAGE</span>
<span class="mi">2</span><span class="w">       </span><span class="n">superkingdom</span><span class="w">    </span><span class="mi">2</span><span class="w">       </span><span class="n">Bacteria</span><span class="w">        </span><span class="mf">55.555555555555557</span>
<span class="mi">2759</span><span class="w">    </span><span class="n">superkingdom</span><span class="w">    </span><span class="mi">2759</span><span class="w">    </span><span class="n">Eukaryota</span><span class="w">       </span><span class="mf">44.444444444444450</span>
<span class="mi">74201</span><span class="w">   </span><span class="n">phylum</span><span class="w">  </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="w"> </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="w">        </span><span class="mf">55.555555555555557</span>
<span class="mi">6656</span><span class="w">    </span><span class="n">phylum</span><span class="w">  </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="w">       </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="w">    </span><span class="mf">44.444444444444450</span>
<span class="mi">203494</span><span class="w">  </span><span class="k">class</span><span class="w">   </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="w">  </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="w">       </span><span class="mf">55.555555555555557</span>
<span class="mi">50557</span><span class="w">   </span><span class="k">class</span><span class="w">   </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="o">|</span><span class="mi">50557</span><span class="w"> </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="o">|</span><span class="n">Insecta</span><span class="w">    </span><span class="mf">44.444444444444450</span>
<span class="mi">48461</span><span class="w">   </span><span class="k">order</span><span class="w">   </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="w">    </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="w">    </span><span class="mf">55.555555555555557</span>
<span class="mi">7041</span><span class="w">    </span><span class="k">order</span><span class="w">   </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="o">|</span><span class="mi">50557</span><span class="o">|</span><span class="mi">7041</span><span class="w">    </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="o">|</span><span class="n">Insecta</span><span class="o">|</span><span class="n">Coleoptera</span><span class="w"> </span><span class="mf">44.444444444444450</span>
<span class="mi">1647988</span><span class="w"> </span><span class="n">family</span><span class="w">  </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="o">|</span><span class="mi">1647988</span><span class="w">    </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="o">|</span><span class="n">Akkermansiaceae</span><span class="w">    </span><span class="mf">55.555555555555557</span>
<span class="mi">57514</span><span class="w">   </span><span class="n">family</span><span class="w">  </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="o">|</span><span class="mi">50557</span><span class="o">|</span><span class="mi">7041</span><span class="o">|</span><span class="mi">57514</span><span class="w">      </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="o">|</span><span class="n">Insecta</span><span class="o">|</span><span class="n">Coleoptera</span><span class="o">|</span><span class="n">Silphidae</span><span class="w">       </span><span class="mf">44.444444444444450</span>
<span class="mi">239934</span><span class="w">  </span><span class="n">genus</span><span class="w">   </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="o">|</span><span class="mi">1647988</span><span class="o">|</span><span class="mi">239934</span><span class="w">     </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="o">|</span><span class="n">Akkermansiaceae</span><span class="o">|</span><span class="n">Akkermansia</span><span class="w"> </span><span class="mf">55.555555555555557</span>
<span class="mi">57515</span><span class="w">   </span><span class="n">genus</span><span class="w">   </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="o">|</span><span class="mi">50557</span><span class="o">|</span><span class="mi">7041</span><span class="o">|</span><span class="mi">57514</span><span class="o">|</span><span class="mi">57515</span><span class="w">        </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="o">|</span><span class="n">Insecta</span><span class="o">|</span><span class="n">Coleoptera</span><span class="o">|</span><span class="n">Silphidae</span><span class="o">|</span><span class="n">Nicrophorus</span><span class="w">   </span><span class="mf">44.444444444444450</span>
<span class="mi">239935</span><span class="w">  </span><span class="n">species</span><span class="w"> </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="o">|</span><span class="mi">1647988</span><span class="o">|</span><span class="mi">239934</span><span class="o">|</span><span class="mi">239935</span><span class="w">      </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="o">|</span><span class="n">Akkermansiaceae</span><span class="o">|</span><span class="n">Akkermansia</span><span class="o">|</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w"> </span><span class="mf">55.555555555555557</span>
<span class="mi">483329</span><span class="w">  </span><span class="n">species</span><span class="w"> </span><span class="mi">2759</span><span class="o">|</span><span class="mi">6656</span><span class="o">|</span><span class="mi">50557</span><span class="o">|</span><span class="mi">7041</span><span class="o">|</span><span class="mi">57514</span><span class="o">|</span><span class="mi">57515</span><span class="o">|</span><span class="mi">483329</span><span class="w"> </span><span class="n">Eukaryota</span><span class="o">|</span><span class="n">Arthropoda</span><span class="o">|</span><span class="n">Insecta</span><span class="o">|</span><span class="n">Coleoptera</span><span class="o">|</span><span class="n">Silphidae</span><span class="o">|</span><span class="n">Nicrophorus</span><span class="o">|</span><span class="n">Nicrophorus</span><span class="w"> </span><span class="n">carolina</span><span class="w">       </span><span class="mf">44.444444444444450</span>
</code></pre></div>

</li>
<li>
<p>Some abundance might have taxa where some of them are parrents of others. E.g.,</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>example/abundance2.tsv
<span class="m">2</span><span class="w">       </span><span class="m">0</span>.99
<span class="m">1224</span><span class="w">    </span><span class="m">0</span>.59
<span class="m">1236</span><span class="w">    </span><span class="m">0</span>.2
<span class="m">28211</span><span class="w">   </span><span class="m">0</span>.4
<span class="m">1239</span><span class="w">    </span><span class="m">0</span>.4
<span class="m">91061</span><span class="w">   </span><span class="m">0</span>.39
<span class="m">2759</span><span class="w">    </span><span class="m">0</span>.01
<span class="m">9606</span><span class="w">    </span><span class="m">0</span>.01
</code></pre></div>

<p>Please switch on -S/--no-sum-up to disable summing up abundances.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>taxonkit<span class="w"> </span>profile2cami<span class="w"> </span>example/abundance2.tsv<span class="w"> </span>-S
@SampleID:
@Version:0.10.0
@Ranks:superkingdom<span class="p">|</span>phylum<span class="p">|</span>class<span class="p">|</span>order<span class="p">|</span>family<span class="p">|</span>genus<span class="p">|</span>species<span class="p">|</span>strain
@TaxonomyID:
@@TAXID<span class="w"> </span>RANK<span class="w">    </span>TAXPATH<span class="w"> </span>TAXPATHSN<span class="w">       </span>PERCENTAGE
<span class="m">2</span><span class="w">       </span>superkingdom<span class="w">    </span><span class="m">2</span><span class="w">       </span>Bacteria<span class="w">        </span><span class="m">99</span>.000000000000000
<span class="m">2759</span><span class="w">    </span>superkingdom<span class="w">    </span><span class="m">2759</span><span class="w">    </span>Eukaryota<span class="w">       </span><span class="m">1</span>.000000000000000
<span class="m">1224</span><span class="w">    </span>phylum<span class="w">  </span><span class="m">2</span><span class="p">|</span><span class="m">1224</span><span class="w">  </span>Bacteria<span class="p">|</span>Pseudomonadota<span class="w"> </span><span class="m">59</span>.000000000000000
<span class="m">1239</span><span class="w">    </span>phylum<span class="w">  </span><span class="m">2</span><span class="p">|</span><span class="m">1239</span><span class="w">  </span>Bacteria<span class="p">|</span>Bacillota<span class="w">      </span><span class="m">40</span>.000000000000000
<span class="m">7711</span><span class="w">    </span>phylum<span class="w">  </span><span class="m">2759</span><span class="p">|</span><span class="m">7711</span><span class="w">       </span>Eukaryota<span class="p">|</span>Chordata<span class="w">      </span><span class="m">1</span>.000000000000000
<span class="m">28211</span><span class="w">   </span>class<span class="w">   </span><span class="m">2</span><span class="p">|</span><span class="m">1224</span><span class="p">|</span><span class="m">28211</span><span class="w">    </span>Bacteria<span class="p">|</span>Pseudomonadota<span class="p">|</span>Alphaproteobacteria<span class="w">     </span><span class="m">40</span>.000000000000000
<span class="m">91061</span><span class="w">   </span>class<span class="w">   </span><span class="m">2</span><span class="p">|</span><span class="m">1239</span><span class="p">|</span><span class="m">91061</span><span class="w">    </span>Bacteria<span class="p">|</span>Bacillota<span class="p">|</span>Bacilli<span class="w">      </span><span class="m">39</span>.000000000000000
<span class="m">1236</span><span class="w">    </span>class<span class="w">   </span><span class="m">2</span><span class="p">|</span><span class="m">1224</span><span class="p">|</span><span class="m">1236</span><span class="w">     </span>Bacteria<span class="p">|</span>Pseudomonadota<span class="p">|</span>Gammaproteobacteria<span class="w">     </span><span class="m">20</span>.000000000000000
<span class="m">40674</span><span class="w">   </span>class<span class="w">   </span><span class="m">2759</span><span class="p">|</span><span class="m">7711</span><span class="p">|</span><span class="m">40674</span><span class="w"> </span>Eukaryota<span class="p">|</span>Chordata<span class="p">|</span>Mammalia<span class="w">     </span><span class="m">1</span>.000000000000000
<span class="m">9443</span><span class="w">    </span>order<span class="w">   </span><span class="m">2759</span><span class="p">|</span><span class="m">7711</span><span class="p">|</span><span class="m">40674</span><span class="p">|</span><span class="m">9443</span><span class="w">    </span>Eukaryota<span class="p">|</span>Chordata<span class="p">|</span>Mammalia<span class="p">|</span>Primates<span class="w">    </span><span class="m">1</span>.000000000000000
<span class="m">9604</span><span class="w">    </span>family<span class="w">  </span><span class="m">2759</span><span class="p">|</span><span class="m">7711</span><span class="p">|</span><span class="m">40674</span><span class="p">|</span><span class="m">9443</span><span class="p">|</span><span class="m">9604</span><span class="w">       </span>Eukaryota<span class="p">|</span>Chordata<span class="p">|</span>Mammalia<span class="p">|</span>Primates<span class="p">|</span>Hominidae<span class="w">  </span><span class="m">1</span>.000000000000000
<span class="m">9605</span><span class="w">    </span>genus<span class="w">   </span><span class="m">2759</span><span class="p">|</span><span class="m">7711</span><span class="p">|</span><span class="m">40674</span><span class="p">|</span><span class="m">9443</span><span class="p">|</span><span class="m">9604</span><span class="p">|</span><span class="m">9605</span><span class="w">  </span>Eukaryota<span class="p">|</span>Chordata<span class="p">|</span>Mammalia<span class="p">|</span>Primates<span class="p">|</span>Hominidae<span class="p">|</span>Homo<span class="w">     </span><span class="m">1</span>.000000000000000
<span class="m">9606</span><span class="w">    </span>species<span class="w"> </span><span class="m">2759</span><span class="p">|</span><span class="m">7711</span><span class="p">|</span><span class="m">40674</span><span class="p">|</span><span class="m">9443</span><span class="p">|</span><span class="m">9604</span><span class="p">|</span><span class="m">9605</span><span class="p">|</span><span class="m">9606</span><span class="w">     </span>Eukaryota<span class="p">|</span>Chordata<span class="p">|</span>Mammalia<span class="p">|</span>Primates<span class="p">|</span>Hominidae<span class="p">|</span>Homo<span class="p">|</span>Homo<span class="w"> </span>sapiens<span class="w">        </span><span class="m">1</span>.000000000000000
</code></pre></div>

</li>
<li>
<p>Also see https://github.com/shenwei356/sun2021-cami-profiles</p>
</li>
</ul>
<h2 id="cami-filter">cami-filter<a class="headerlink" href="#cami-filter" title="Permanent link">Link</a></h2>
<p>Usage</p>
<div class="codehilite"><pre><span></span><code>Remove taxa of given TaxIds and their descendants in CAMI metagenomic profile

Input format: 
  The CAMI (Taxonomic) Profiling Output Format    
  - https://github.com/CAMI-challenge/contest_information/blob/master/file_formats/CAMI_TP_specification.mkd
  - One file with mutiple samples is also supported.

How to:
  - No extra taxonomy data needed, so the original taxonomic information are
    used and not changed.
  - A mini taxonomic tree is built from records with abundance greater than
    zero, and only leaves are retained for later use. The rank of leaves may
    be &quot;strain&quot;, &quot;species&quot;, or &quot;no rank&quot;.
  - Relative abundances (in percentage) are recomputed for all leaves
    (reference genome).
  - A new taxonomic tree is built from these leaves, and abundances are 
    cumulatively added up from leaves to the root.

Examples:
  1. Remove Archaea, Bacteria, and EukaryoteS, only keep Viruses:
      taxonkit cami-filter -t 2,2157,2759 test.profile -o test.filter.profile
  2. Remove Viruses:
      taxonkit cami-filter -t 10239 test.profile -o test.filter.profile

Usage:
  taxonkit cami-filter [flags]

Flags:
      --field-percentage int   field index of PERCENTAGE (default 5)
      --field-rank int         field index of taxid (default 2)
      --field-taxid int        field index of taxid (default 1)
      --field-taxpath int      field index of TAXPATH (default 3)
      --field-taxpathsn int    field index of TAXPATHSN (default 4)
  -h, --help                   help for cami-filter
      --leaf-ranks strings     only consider leaves at these ranks (default [species,strain,no rank])
      --show-rank strings      only show TaxIds and names of these ranks (default
                               [superkingdom,phylum,class,order,family,genus,species,strain])
      --taxid-sep string       separator of taxid in TAXPATH and TAXPATHSN (default &quot;|&quot;)
  -t, --taxids strings         the parent taxid(s) to filter out
  -f, --taxids-file strings    file(s) for the parent taxid(s) to filter out, one taxid per line
</code></pre></div>

<p>Examples:</p>
<ol>
<li>Remove Eukaryota<div class="codehilite"><pre><span></span><code><span class="n">taxonkit</span><span class="w"> </span><span class="n">profile2cami</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="n">sample1</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">01</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">example</span><span class="o">/</span><span class="n">abundance</span><span class="p">.</span><span class="n">tsv</span><span class="w"> </span><span class="o">--</span><span class="n">recompute</span><span class="o">-</span><span class="n">abd</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">taxonkit</span><span class="w"> </span><span class="n">cami</span><span class="o">-</span><span class="k">filter</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="mi">2759</span>
<span class="nv">@SampleID</span><span class="err">:</span><span class="n">sample1</span>
<span class="nv">@Version</span><span class="err">:</span><span class="mf">0.10.0</span>
<span class="nv">@Ranks</span><span class="err">:</span><span class="n">superkingdom</span><span class="o">|</span><span class="n">phylum</span><span class="o">|</span><span class="k">class</span><span class="o">|</span><span class="k">order</span><span class="o">|</span><span class="n">family</span><span class="o">|</span><span class="n">genus</span><span class="o">|</span><span class="n">species</span><span class="o">|</span><span class="n">strain</span>
<span class="nv">@TaxonomyID</span><span class="err">:</span><span class="mi">2021</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">01</span>
<span class="nb">@@TAXID</span><span class="w"> </span><span class="nf">RANK</span><span class="w">    </span><span class="n">TAXPATH</span><span class="w"> </span><span class="n">TAXPATHSN</span><span class="w">       </span><span class="n">PERCENTAGE</span>
<span class="mi">2</span><span class="w">       </span><span class="n">superkingdom</span><span class="w">    </span><span class="mi">2</span><span class="w">       </span><span class="n">Bacteria</span><span class="w">        </span><span class="mf">100.000000000000000</span>
<span class="mi">74201</span><span class="w">   </span><span class="n">phylum</span><span class="w">  </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="w"> </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="w">        </span><span class="mf">100.000000000000000</span>
<span class="mi">203494</span><span class="w">  </span><span class="k">class</span><span class="w">   </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="w">  </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="w">       </span><span class="mf">100.000000000000000</span>
<span class="mi">48461</span><span class="w">   </span><span class="k">order</span><span class="w">   </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="w">    </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="w">    </span><span class="mf">100.000000000000000</span>
<span class="mi">1647988</span><span class="w"> </span><span class="n">family</span><span class="w">  </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="o">|</span><span class="mi">1647988</span><span class="w">    </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="o">|</span><span class="n">Akkermansiaceae</span><span class="w">    </span><span class="mf">100.000000000000000</span>
<span class="mi">239934</span><span class="w">  </span><span class="n">genus</span><span class="w">   </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="o">|</span><span class="mi">1647988</span><span class="o">|</span><span class="mi">239934</span><span class="w">     </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="o">|</span><span class="n">Akkermansiaceae</span><span class="o">|</span><span class="n">Akkermansia</span><span class="w">       </span><span class="mf">100.000000000000000</span>
<span class="mi">239935</span><span class="w">  </span><span class="n">species</span><span class="w"> </span><span class="mi">2</span><span class="o">|</span><span class="mi">74201</span><span class="o">|</span><span class="mi">203494</span><span class="o">|</span><span class="mi">48461</span><span class="o">|</span><span class="mi">1647988</span><span class="o">|</span><span class="mi">239934</span><span class="o">|</span><span class="mi">239935</span><span class="w">      </span><span class="n">Bacteria</span><span class="o">|</span><span class="n">Verrucomicrobia</span><span class="o">|</span><span class="n">Verrucomicrobiae</span><span class="o">|</span><span class="n">Verrucomicrobiales</span><span class="o">|</span><span class="n">Akkermansiaceae</span><span class="o">|</span><span class="n">Akkermansia</span><span class="o">|</span><span class="n">Akkermansia</span><span class="w"> </span><span class="n">muciniphila</span><span class="w">       </span><span class="mf">100.000000000000000</span>
</code></pre></div>

</li>
</ol>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//taxonkit.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>